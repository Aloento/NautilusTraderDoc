"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[6226],{3474:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"integrations/blockchain","title":"Blockchain","description":"Contracts","source":"@site/docs/integrations/blockchain.md","sourceDirName":"integrations","slug":"/integrations/blockchain","permalink":"/integrations/blockchain","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/blockchain.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"BitMEX","permalink":"/integrations/bitmex"},"next":{"title":"Bybit","permalink":"/integrations/bybit"}}');var s=i(7259),t=i(9087);const l={},c="Blockchain",d={},o=[{value:"Contracts",id:"contracts",level:2},{value:"Base (Multicall3)",id:"base-multicall3",level:3},{value:"ERC20",id:"erc20",level:3},{value:"Configuration",id:"configuration",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"blockchain",children:"Blockchain"})}),"\n",(0,s.jsx)(n.h2,{id:"contracts",children:"Contracts"}),"\n",(0,s.jsx)(n.p,{children:"High-performance interface for querying EVM smart contracts with type-safe Rust abstractions. Supports token metadata, DEX pools, and DeFi protocols through efficient batch operations."}),"\n",(0,s.jsx)(n.h3,{id:"base-multicall3",children:"Base (Multicall3)"}),"\n",(0,s.jsxs)(n.p,{children:["Batches multiple contract calls into a single RPC request using Multicall3 (",(0,s.jsx)(n.code,{children:"0xcA11bde05977b3631167028862bE2a173976CA11"}),")."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Always uses ",(0,s.jsx)(n.code,{children:"allow_failure: true"})," for partial success and detailed errors"]}),"\n",(0,s.jsx)(n.li,{children:"Executes atomically in the same block"}),"\n",(0,s.jsxs)(n.li,{children:["Errors: ",(0,s.jsx)(n.code,{children:"RpcError"})," (network issues), ",(0,s.jsx)(n.code,{children:"AbiDecodingError"})," (decode failures)"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"erc20",children:"ERC20"}),"\n",(0,s.jsxs)(n.p,{children:["Inherits from ",(0,s.jsx)(n.code,{children:"BaseContract"})," to leverage Multicall3 for efficient batch operations. Fetches token metadata with robust handling for non-standard implementations."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Methods:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"fetch_token_info"}),": Single token metadata (uses multicall internally for name, symbol, decimals)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"batch_fetch_token_info"}),": Multiple tokens in one multicall (3 calls per token)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"enforce_token_fields"}),": Validate non-empty name/symbol"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Error Types:"})}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"CallFailed"})})," - Contract missing or function not implemented \u2192 Skip token"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"DecodingError"})})," - Raw bytes instead of ABI encoding (e.g., ",(0,s.jsx)(n.code,{children:"0x5269636f..."}),") \u2192 Skip token"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"EmptyTokenField"})})," - Function returns empty string \u2192 Skip if enforced"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Best Practices:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Skip pools with any token errors"}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"raw_data"})," field preserves original response for debugging"]}),"\n",(0,s.jsx)(n.li,{children:"Non-standard tokens often have other issues (transfer fees, rebasing)"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"chain"})}),(0,s.jsx)(n.td,{children:"Required"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"nautilus_trader.model.Chain"})," to synchronize (e.g., ",(0,s.jsx)(n.code,{children:"Chain.ETHEREUM"}),")."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"dex_ids"})}),(0,s.jsx)(n.td,{children:"Required"}),(0,s.jsxs)(n.td,{children:["Sequence of ",(0,s.jsx)(n.code,{children:"DexType"})," identifiers describing which DEX integrations to enable."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http_rpc_url"})}),(0,s.jsx)(n.td,{children:"Required"}),(0,s.jsx)(n.td,{children:"HTTPS RPC endpoint used for EVM calls and Multicall requests."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"wss_rpc_url"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Optional WSS endpoint for streaming live updates."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"rpc_requests_per_second"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Optional throttle for outbound RPC calls (requests per second)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"multicall_calls_per_rpc_request"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"100"})}),(0,s.jsx)(n.td,{children:"Maximum number of Multicall targets batched per RPC request."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"use_hypersync_for_live_data"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"True"})}),(0,s.jsxs)(n.td,{children:["When ",(0,s.jsx)(n.code,{children:"True"}),", bootstrap and stream using Hypersync for lower-latency diffs."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"from_block"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Optional starting block height for historical backfill."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"pool_filters"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"DexPoolFilters()"})}),(0,s.jsx)(n.td,{children:"Filtering rules applied when selecting DEX pools to monitor."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"postgres_cache_database_config"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsxs)(n.td,{children:["Optional ",(0,s.jsx)(n.code,{children:"PostgresConnectOptions"})," enabling on-disk caching of decoded pool state."]})]})]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},9087:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>c});var r=i(6363);const s={},t=r.createContext(s);function l(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);