"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[2668],{9087:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(6363);const d={},i=s.createContext(d);function r(e){const t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),s.createElement(i.Provider,{value:t},e.children)}},9480:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"integrations/databento","title":"Databento","description":"NautilusTrader \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7528\u4e8e\u96c6\u6210 Databento API \u4ee5\u53ca Databento Binary Encoding (DBN) \u6570\u636e\u683c\u5f0f\u7684\u9002\u914d\u5668\u3002","source":"@site/docs/integrations/databento.md","sourceDirName":"integrations","slug":"/integrations/databento","permalink":"/integrations/databento","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/databento.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Coinbase International","permalink":"/integrations/coinbase_intx"},"next":{"title":"dYdX","permalink":"/integrations/dydx"}}');var d=n(7259),i=n(9087);const r={},a="Databento",l={},c=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"Databento \u6587\u6863",id:"databento-\u6587\u6863",level:2},{value:"Databento \u4e8c\u8fdb\u5236\u7f16\u7801\uff08DBN\uff09",id:"databento-\u4e8c\u8fdb\u5236\u7f16\u7801dbn",level:2},{value:"\u652f\u6301\u7684 schema",id:"\u652f\u6301\u7684-schema",level:2},{value:"Schema \u6ce8\u610f\u4e8b\u9879",id:"schema-\u6ce8\u610f\u4e8b\u9879",level:3},{value:"\u5b9e\u65f6\u8ba2\u9605\u7684 schema \u9009\u62e9",id:"\u5b9e\u65f6\u8ba2\u9605\u7684-schema-\u9009\u62e9",level:2},{value:"Quote \u8ba2\u9605\uff08MBP / L1\uff09",id:"quote-\u8ba2\u9605mbp--l1",level:3},{value:"Trade \u8ba2\u9605",id:"trade-\u8ba2\u9605",level:3},{value:"Order book depth \u8ba2\u9605\uff08MBP / L2\uff09",id:"order-book-depth-\u8ba2\u9605mbp--l2",level:3},{value:"Order book deltas \u8ba2\u9605\uff08MBO / L3\uff09",id:"order-book-deltas-\u8ba2\u9605mbo--l3",level:3},{value:"Bar \u8ba2\u9605",id:"bar-\u8ba2\u9605",level:3},{value:"\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u8ba2\u9605",id:"\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u8ba2\u9605",level:3},{value:"Instrument ID \u4e0e\u7b26\u53f7\u4f53\u7cfb\uff08symbology\uff09",id:"instrument-id-\u4e0e\u7b26\u53f7\u4f53\u7cfbsymbology",level:2},{value:"\u65f6\u95f4\u6233\uff08Timestamps\uff09",id:"\u65f6\u95f4\u6233timestamps",level:2},{value:"\u6570\u636e\u7c7b\u578b",id:"\u6570\u636e\u7c7b\u578b",level:2},{value:"Instrument \u5b9a\u4e49",id:"instrument-\u5b9a\u4e49",level:3},{value:"MBO\uff08market by order\uff09",id:"mbomarket-by-order",level:3},{value:"MBP-1\uff08market by price\uff0c\u9876\u5c42\u76d8\u53e3\uff09",id:"mbp-1market-by-price\u9876\u5c42\u76d8\u53e3",level:3},{value:"TBBO \u4e0e TCBBO\uff08\u542b\u6210\u4ea4\u7684\u9876\u5c42\u76d8\u53e3\uff09",id:"tbbo-\u4e0e-tcbbo\u542b\u6210\u4ea4\u7684\u9876\u5c42\u76d8\u53e3",level:3},{value:"OHLCV\uff08K \u7ebf\u805a\u5408\uff09",id:"ohlcvk-\u7ebf\u805a\u5408",level:3},{value:"Imbalance \u4e0e Statistics",id:"imbalance-\u4e0e-statistics",level:3},{value:"\u6027\u80fd\u6ce8\u610f\u4e8b\u9879",id:"\u6027\u80fd\u6ce8\u610f\u4e8b\u9879",level:2},{value:"\u52a0\u8f7d DBN \u6570\u636e",id:"\u52a0\u8f7d-dbn-\u6570\u636e",level:2},{value:"\u5c06 DBN \u6570\u636e\u52a0\u8f7d\u5230 BacktestEngine",id:"\u5c06-dbn-\u6570\u636e\u52a0\u8f7d\u5230-backtestengine",level:3},{value:"\u5c06 DBN \u6570\u636e\u5199\u5165 ParquetDataCatalog",id:"\u5c06-dbn-\u6570\u636e\u5199\u5165-parquetdatacatalog",level:3},{value:"\u5386\u53f2\u52a0\u8f7d\u5668\u9009\u9879",id:"\u5386\u53f2\u52a0\u8f7d\u5668\u9009\u9879",level:3},{value:"\u52a0\u8f7d\u6c47\u603b\uff08consolidated\uff09\u6570\u636e",id:"\u52a0\u8f7d\u6c47\u603bconsolidated\u6570\u636e",level:3},{value:"\u5b9e\u65f6\u5ba2\u6237\u7aef\u67b6\u6784",id:"\u5b9e\u65f6\u5ba2\u6237\u7aef\u67b6\u6784",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u53c2\u6570",id:"\u914d\u7f6e\u53c2\u6570",level:3}];function o(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.header,{children:(0,d.jsx)(t.h1,{id:"databento",children:"Databento"})}),"\n",(0,d.jsx)(t.p,{children:"NautilusTrader \u63d0\u4f9b\u4e86\u4e00\u4e2a\u7528\u4e8e\u96c6\u6210 Databento API \u4ee5\u53ca Databento Binary Encoding (DBN) \u6570\u636e\u683c\u5f0f\u7684\u9002\u914d\u5668\u3002\n\u7531\u4e8e Databento \u4ec5\u63d0\u4f9b\u884c\u60c5\u6570\u636e\uff08market data\uff09\uff0c\u9002\u914d\u5668\u672c\u8eab\u4e0d\u5305\u542b\u6267\u884c\u5ba2\u6237\u7aef\uff08execution client\uff09\uff0c\u4f46\u4ecd\u7136\u53ef\u4ee5\u5728\u6c99\u76d2\u73af\u5883\u4e2d\u642d\u5efa\u6a21\u62df\u6267\u884c\u3002\n\u540c\u65f6\u4e5f\u53ef\u4ee5\u5c06 Databento \u7684\u884c\u60c5\u4e0e Interactive Brokers \u7684\u6267\u884c\u5bf9\u63a5\uff0c\u6216\u5c06\u5176\u7528\u4e8e\u8ba1\u7b97\u52a0\u5bc6\u8d44\u4ea7\u7684\u4f20\u7edf\u8d44\u4ea7\u7c7b\u522b\u4fe1\u53f7\u3002"}),"\n",(0,d.jsx)(t.p,{children:"\u8be5\u9002\u914d\u5668\u7684\u529f\u80fd\u5305\u62ec\uff1a"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:"\u4ece DBN \u6587\u4ef6\u52a0\u8f7d\u5386\u53f2\u6570\u636e\u5e76\u89e3\u7801\u4e3a Nautilus \u5bf9\u8c61\uff0c\u4ee5\u4fbf\u7528\u4e8e\u56de\u6d4b\u6216\u5199\u5165\u6570\u636e\u76ee\u5f55\uff08data catalog\uff09\u3002"}),"\n",(0,d.jsx)(t.li,{children:"\u8bf7\u6c42\u5386\u53f2\u6570\u636e\u5e76\u5c06\u5176\u89e3\u7801\u4e3a Nautilus \u5bf9\u8c61\uff0c\u4ee5\u652f\u6301\u5b9e\u65f6\u4ea4\u6613\u548c\u56de\u6d4b\u3002"}),"\n",(0,d.jsx)(t.li,{children:"\u8ba2\u9605\u5b9e\u65f6\u6570\u636e\u6d41\u5e76\u5c06\u5176\u89e3\u7801\u4e3a Nautilus \u5bf9\u8c61\uff0c\u4ee5\u652f\u6301\u5b9e\u76d8\uff08live trading\uff09\u6216\u6c99\u76d2\uff08sandbox\uff09\u73af\u5883\u3002"}),"\n"]}),"\n",(0,d.jsxs)(t.admonition,{type:"tip",children:[(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.a,{href:"https://databento.com/signup",children:"Databento"})," \u76ee\u524d\u5bf9\u65b0\u7528\u6237\u63d0\u4f9b 125 \u7f8e\u5143\u7684\u514d\u8d39\u6570\u636e\u989d\u5ea6\uff08\u4ec5\u9650\u5386\u53f2\u6570\u636e\uff09\u3002"]}),(0,d.jsxs)(t.p,{children:["\u901a\u8fc7\u5408\u7406\u7684\u8bf7\u6c42\u7b56\u7565\uff0c\u8fd9\u901a\u5e38\u8db3\u591f\u7528\u4e8e\u6d4b\u8bd5\u548c\u8bc4\u4f30\u3002\u5efa\u8bae\u4f7f\u7528 ",(0,d.jsx)(t.a,{href:"https://databento.com/docs/api-reference-historical/metadata/metadata-get-cost",children:"/metadata.get_cost"})," \u7aef\u70b9\u6765\u4f30\u7b97\u8d39\u7528\u3002"]})]}),"\n",(0,d.jsx)(t.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,d.jsxs)(t.p,{children:["\u6b64\u9002\u914d\u5668\u5728\u5b9e\u73b0\u4e0a\u4f9d\u8d56\u5b98\u65b9\u7684 Rust \u5ba2\u6237\u7aef\u5e93 ",(0,d.jsx)(t.a,{href:"https://crates.io/crates/databento",children:"databento-rs"}),"\u3002"]}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u4e0d\u9700\u8981\u989d\u5916\u5355\u72ec\u5b89\u88c5 ",(0,d.jsx)(t.code,{children:"databento"})," \u5305\uff0c\u9002\u914d\u5668\u7684\u6838\u5fc3\u7ec4\u4ef6\u5728\u6784\u5efa\u65f6\u4f1a\u88ab\u7f16\u8bd1\u4e3a\u9759\u6001\u5e93\u5e76\u81ea\u52a8\u94fe\u63a5\u3002"]})}),"\n",(0,d.jsx)(t.p,{children:"\u53ef\u7528\u7684\u9002\u914d\u5668\u7c7b\u5305\u62ec\uff1a"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"DatabentoDataLoader"}),"\uff1a\u4ece\u6587\u4ef6\u52a0\u8f7d Databento Binary Encoding (DBN) \u6570\u636e\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"DatabentoInstrumentProvider"}),"\uff1a\u901a\u8fc7 Databento HTTP API \u83b7\u53d6\u6700\u65b0\u6216\u5386\u53f2\u7684 instrument \u5b9a\u4e49\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"DatabentoHistoricalClient"}),"\uff1a\u901a\u8fc7 Databento HTTP API \u8bf7\u6c42\u5386\u53f2\u884c\u60c5\u6570\u636e\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"DatabentoLiveClient"}),"\uff1a\u901a\u8fc7 Databento \u539f\u751f TCP \u63a5\u53e3\u8ba2\u9605\u5b9e\u65f6\u6570\u636e\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"DatabentoDataClient"}),"\uff1a\u4e3a\u8fd0\u884c\u5b9e\u65f6\u4ea4\u6613\u8282\u70b9\u63d0\u4f9b ",(0,d.jsx)(t.code,{children:"LiveMarketDataClient"})," \u5b9e\u73b0\u3002"]}),"\n"]}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsx)(t.p,{children:"\u4e0e\u5176\u4ed6\u96c6\u6210\u9002\u914d\u5668\u7c7b\u4f3c\uff0c\u5927\u591a\u6570\u7528\u6237\u53ea\u9700\u5728 live trading node \u7684\u914d\u7f6e\u4e2d\u5b9a\u4e49 Databento \u5ba2\u6237\u7aef\uff08\u89c1\u4e0b\u6587\uff09\uff0c\u901a\u5e38\u65e0\u9700\u76f4\u63a5\u64cd\u4f5c\u8fd9\u4e9b\u5e95\u5c42\u7ec4\u4ef6\u3002"})}),"\n",(0,d.jsx)(t.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,d.jsxs)(t.p,{children:["\u53ef\u5728\u6b64\u5904\u627e\u5230\u5b9e\u65f6\u793a\u4f8b\u811a\u672c\uff1a",(0,d.jsx)(t.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/databento/",children:"examples/live/databento"}),"\u3002"]}),"\n",(0,d.jsx)(t.h2,{id:"databento-\u6587\u6863",children:"Databento \u6587\u6863"}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u4e3a\u65b0\u7528\u6237\u63d0\u4f9b\u4e86\u8be6\u7ec6\u6587\u6863\uff0c\u53c2\u89c1\u5176\u65b0\u624b\u6307\u5357\uff1a",(0,d.jsx)(t.a,{href:"https://databento.com/docs/quickstart/new-user-guides",children:"Databento new users guide"}),"\u3002\n\u5efa\u8bae\u5728\u4f7f\u7528\u672c\u96c6\u6210\u6307\u5357\u65f6\u4e00\u5e76\u53c2\u8003 Databento \u5b98\u65b9\u6587\u6863\u3002"]}),"\n",(0,d.jsx)(t.h2,{id:"databento-\u4e8c\u8fdb\u5236\u7f16\u7801dbn",children:"Databento \u4e8c\u8fdb\u5236\u7f16\u7801\uff08DBN\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["Databento Binary Encoding (DBN) \u662f\u4e00\u79cd\u9762\u5411\u6807\u51c6\u5316\u884c\u60c5\u6570\u636e\u7684\u9ad8\u6027\u80fd\u6d88\u606f\u7f16\u7801\u4e0e\u5b58\u50a8\u683c\u5f0f\u3002\n",(0,d.jsx)(t.a,{href:"https://databento.com/docs/standards-and-conventions/databento-binary-encoding",children:"DBN \u89c4\u8303"})," \u5305\u542b\u81ea\u63cf\u8ff0\u7684\u5143\u6570\u636e\u5934\u548c\u4e00\u7ec4\u56fa\u5b9a\u7684 struct \u5b9a\u4e49\uff0c\u7528\u4e8e\u5728\u6570\u636e\u5c42\u9762\u5f3a\u5236\u6267\u884c\u6807\u51c6\u5316\u3002"]}),"\n",(0,d.jsx)(t.p,{children:"\u8be5\u96c6\u6210\u63d0\u4f9b\u4e86\u4e00\u4e2a\u89e3\u7801\u5668\uff0c\u7528\u4e8e\u5c06 DBN \u683c\u5f0f\u7684\u6570\u636e\u8f6c\u6362\u4e3a Nautilus \u5bf9\u8c61\u3002"}),"\n",(0,d.jsx)(t.p,{children:"\u76f8\u540c\u7684 Rust \u5b9e\u73b0\u89e3\u7801\u5668\u53ef\u7528\u4e8e\uff1a"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:"\u4ece\u78c1\u76d8\u52a0\u8f7d\u5e76\u89e3\u7801 DBN \u6587\u4ef6\u3002"}),"\n",(0,d.jsx)(t.li,{children:"\u5b9e\u65f6\u89e3\u7801\u5386\u53f2\u4e0e\u5b9e\u65f6\u6570\u636e\u3002"}),"\n"]}),"\n",(0,d.jsx)(t.h2,{id:"\u652f\u6301\u7684-schema",children:"\u652f\u6301\u7684 schema"}),"\n",(0,d.jsx)(t.p,{children:"\u4ee5\u4e0b Databento schema \u5f97\u5230 NautilusTrader \u7684\u652f\u6301\uff1a"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Databento schema"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Nautilus data type"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/mbo",children:"MBO"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"OrderBookDelta"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Market by order (L3)."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/mbp-1",children:"MBP_1"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"(QuoteTick, TradeTick | None)"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Market by price (L1)."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/mbp-10",children:"MBP_10"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"OrderBookDepth10"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Market depth (L2)."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/bbo-1s",children:"BBO_1S"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"QuoteTick"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"1-second best bid/offer."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/bbo-1m",children:"BBO_1M"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"QuoteTick"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"1-minute best bid/offer."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/cmbp-1",children:"CMBP_1"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"(QuoteTick, TradeTick | None)"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Consolidated MBP across venues."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/cbbo-1s",children:"CBBO_1S"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"QuoteTick"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Consolidated 1-second BBO."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/cbbo-1m",children:"CBBO_1M"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"QuoteTick"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Consolidated 1-minute BBO."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/tcbbo",children:"TCBBO"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"(QuoteTick, TradeTick)"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Trade-sampled consolidated BBO."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/tbbo",children:"TBBO"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"(QuoteTick, TradeTick)"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Trade-sampled best bid/offer."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/trades",children:"TRADES"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"TradeTick"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Trade ticks."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/ohlcv-1s",children:"OHLCV_1S"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"1-second bars."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/ohlcv-1m",children:"OHLCV_1M"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"1-minute bars."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/ohlcv-1h",children:"OHLCV_1H"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"1-hour bars."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/ohlcv-1d",children:"OHLCV_1D"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Daily bars."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/ohlcv-eod",children:"OHLCV_EOD"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"End-of-day bars."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/definition",children:"DEFINITION"})}),(0,d.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,d.jsx)(t.code,{children:"Instrument"})," (various types)"]}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Instrument definitions."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/imbalance",children:"IMBALANCE"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"DatabentoImbalance"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Auction imbalance data."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/statistics",children:"STATISTICS"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"DatabentoStatistics"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Market statistics."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats/status",children:"STATUS"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"InstrumentStatus"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"Market status updates."})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"schema-\u6ce8\u610f\u4e8b\u9879",children:"Schema \u6ce8\u610f\u4e8b\u9879"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"TBBO \u548c TCBBO"}),"\uff1a\u6309\u4ea4\u6613\u91c7\u6837\uff08trade-sampled\uff09\u7684\u6570\u636e\u6d41\uff0c\u4f1a\u5c06\u6bcf\u7b14\u4ea4\u6613\u4e0e\u4ea4\u6613\u53d1\u751f\u524d\u7684\u9876\u5c42\u76d8\u53e3\uff08BBO\uff09\u914d\u5bf9\uff08TBBO \u4e3a\u5355\u4e00\u573a\u6240\uff0cTCBBO \u4e3a\u8de8\u573a\u6240\u6c47\u603b\uff09\u3002\u5f53\u4f60\u9700\u8981\u6210\u4ea4\u4e0e\u540c\u65f6\u523b\u7684\u62a5\u4ef7\u5bf9\u9f50\u4f46\u4e0d\u60f3\u7ba1\u7406\u4e24\u6761\u6d41\u65f6\uff0c\u8bf7\u4f7f\u7528\u8fd9\u4e9b schema\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"MBP-1 \u4e0e CMBP-1\uff08L1\uff09"}),"\uff1a\u4e8b\u4ef6\u7ea7\u522b\u7684 top-of-book \u66f4\u65b0\uff1b\u4ec5\u5728\u53d1\u751f trade \u4e8b\u4ef6\u65f6\u53d1\u51fa trade\u3002\u82e5\u9700\u8981\u540c\u65f6\u5bf9\u9f50 quote \u4e0e trade\uff0c\u4f18\u5148\u9009\u62e9 TBBO/TCBBO\uff1b\u5426\u5219\u53ef\u4ec5\u4f7f\u7528 TRADES\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"MBP-10\uff08L2\uff09"}),"\uff1a\u5305\u542b\u524d 10 \u4e2a\u4ef7\u4f4d\u53ca\u6210\u4ea4\u4fe1\u606f\uff0c\u9002\u7528\u4e8e\u9700\u8981\u6df1\u5ea6\u4fe1\u606f\u4f46\u4e0d\u9700\u8981\u9010\u5355\u7b49\u7ea7\u522b\uff08per-order\uff09\u7ec6\u8282\u7684\u7b56\u7565\uff1b\u76f8\u6bd4 MBO \u66f4\u8f7b\u91cf\u4e14\u5305\u542b\u6bcf\u4e00\u5c42\u7684\u8ba2\u5355\u6570\u91cf\u7b49\u7ed3\u6784\u4fe1\u606f\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"MBO\uff08L3\uff09"}),"\uff1a\u9010\u5355\u4e8b\u4ef6\uff0c\u53ef\u7528\u4e8e\u961f\u5217\u4f4d\u7f6e\u5efa\u6a21\u548c\u7cbe\u786e\u7684\u8ba2\u5355\u7c3f\u91cd\u6784\u3002\u6570\u636e\u91cf/\u8d39\u7528\u6700\u9ad8\uff1b\u5efa\u8bae\u5728\u8282\u70b9\u521d\u59cb\u5316\u9636\u6bb5\u5c31\u8ba2\u9605\u4ee5\u786e\u4fdd\u56de\u653e\u4e0a\u4e0b\u6587\u5b8c\u6574\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"BBO_1S/BBO_1M \u4e0e CBBO_1S/CBBO_1M"}),"\uff1a\u56fa\u5b9a\u95f4\u9694\uff081s/1m\uff09\u91c7\u6837\u7684\u9876\u5c42\u76d8\u53e3\u5feb\u7167\uff08\u4e0d\u5305\u542b trades\uff09\uff0c\u9002\u7528\u4e8e\u76d1\u63a7\u3001\u4ef7\u5dee\u8ba1\u7b97\u6216\u4f4e\u6210\u672c\u4fe1\u53f7\u751f\u6210\uff1b\u4e0d\u9002\u5408\u5fae\u89c2\u7ed3\u6784\u7ea7\u522b\u7684\u7ec6\u7c92\u5ea6\u5206\u6790\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"TRADES"}),"\uff1a\u4ec5\u6210\u4ea4\u6570\u636e\u3002\u82e5\u9700\u8981\u6210\u4ea4\u4e0a\u4e0b\u6587\u7684 quote\uff0c\u53ef\u4e0e MBP-1\uff08\u8bbe\u7f6e ",(0,d.jsx)(t.code,{children:"include_trades=True"}),"\uff09\u914d\u5408\uff0c\u6216\u4f7f\u7528 TBBO/TCBBO\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"OHLCV_\uff08\u542b OHLCV_EOD\uff09"}),"\uff1a\u7531\u6210\u4ea4\u805a\u5408\u751f\u6210\u7684 K \u7ebf\u6761\uff08bars\uff09\uff0c\u9002\u5408\u66f4\u9ad8\u65f6\u95f4\u6846\u67b6\u7684\u5206\u6790/\u56de\u6d4b\uff1b\u786e\u4fdd bar \u7684\u65f6\u95f4\u6233\u8868\u793a\u6536\u76d8\u65f6\u95f4\uff08\u8bbe\u7f6e ",(0,d.jsx)(t.code,{children:"bars_timestamp_on_close=True"}),"\uff09\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.strong,{children:"Imbalance / Statistics / Status"}),"\uff1a\u573a\u6240\uff08venue\uff09\u7684\u8fd0\u8425\u7c7b\u6570\u636e\uff1b\u901a\u8fc7 ",(0,d.jsx)(t.code,{children:"subscribe_data"})," \u5e76\u643a\u5e26 ",(0,d.jsx)(t.code,{children:"instrument_id"})," \u7684 ",(0,d.jsx)(t.code,{children:"DataType"})," \u5143\u6570\u636e\u6765\u8ba2\u9605\u3002"]}),"\n"]}),"\n",(0,d.jsx)(t.admonition,{type:"tip",children:(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"\u6c47\u603b\uff08Consolidated\uff09schema"}),"\uff08\u5982 CMBP_1\u3001CBBO_1S\u3001CBBO_1M\u3001TCBBO\uff09\u4f1a\u8de8\u591a\u4e2a\u573a\u6240\u805a\u5408\u6570\u636e\uff0c\u63d0\u4f9b\u7edf\u4e00\u7684\u5e02\u573a\u89c6\u56fe\uff0c\u9002\u7528\u4e8e\u8de8\u573a\u6240\u5206\u6790\u6216\u9700\u8981\u5168\u5e02\u573a\u89c6\u89d2\u7684\u573a\u666f\u3002"]})}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u53e6\u89c1 Databento \u7684 ",(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats",children:"Schemas and data formats"})," \u6307\u5357\u3002"]})}),"\n",(0,d.jsx)(t.h2,{id:"\u5b9e\u65f6\u8ba2\u9605\u7684-schema-\u9009\u62e9",children:"\u5b9e\u65f6\u8ba2\u9605\u7684 schema \u9009\u62e9"}),"\n",(0,d.jsx)(t.p,{children:"\u4e0b\u8868\u5c55\u793a\u4e86 Nautilus \u7684\u8ba2\u9605\u65b9\u6cd5\u5982\u4f55\u6620\u5c04\u5230 Databento \u7684 schema\uff1a"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Nautilus Subscription Method"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Default Schema"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Available Databento Schemas"}),(0,d.jsx)(t.th,{style:{textAlign:"left"},children:"Nautilus Data Type"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"subscribe_quote_ticks()"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"mbp-1"})}),(0,d.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,d.jsx)(t.code,{children:"mbp-1"}),", ",(0,d.jsx)(t.code,{children:"bbo-1s"}),", ",(0,d.jsx)(t.code,{children:"bbo-1m"}),", ",(0,d.jsx)(t.code,{children:"cmbp-1"}),", ",(0,d.jsx)(t.code,{children:"cbbo-1s"}),", ",(0,d.jsx)(t.code,{children:"cbbo-1m"}),", ",(0,d.jsx)(t.code,{children:"tbbo"}),", ",(0,d.jsx)(t.code,{children:"tcbbo"})]}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"QuoteTick"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"subscribe_trade_ticks()"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"trades"})}),(0,d.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,d.jsx)(t.code,{children:"trades"}),", ",(0,d.jsx)(t.code,{children:"tbbo"}),", ",(0,d.jsx)(t.code,{children:"tcbbo"}),", ",(0,d.jsx)(t.code,{children:"mbp-1"}),", ",(0,d.jsx)(t.code,{children:"cmbp-1"})]}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"TradeTick"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"subscribe_order_book_depth()"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"mbp-10"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"mbp-10"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"OrderBookDepth10"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"subscribe_order_book_deltas()"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"mbo"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"mbo"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"OrderBookDeltas"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"subscribe_bars()"})}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:"varies"}),(0,d.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,d.jsx)(t.code,{children:"ohlcv-1s"}),", ",(0,d.jsx)(t.code,{children:"ohlcv-1m"}),", ",(0,d.jsx)(t.code,{children:"ohlcv-1h"}),", ",(0,d.jsx)(t.code,{children:"ohlcv-1d"})]}),(0,d.jsx)(t.td,{style:{textAlign:"left"},children:(0,d.jsx)(t.code,{children:"Bar"})})]})]})]}),"\n",(0,d.jsxs)(t.admonition,{type:"note",children:[(0,d.jsxs)(t.p,{children:["\u4e0b\u5217\u793a\u4f8b\u5047\u5b9a\u4f60\u5728 ",(0,d.jsx)(t.code,{children:"Strategy"})," \u6216 ",(0,d.jsx)(t.code,{children:"Actor"})," \u7c7b\u4e0a\u4e0b\u6587\u4e2d\uff08",(0,d.jsx)(t.code,{children:"self"})," \u53ef\u8bbf\u95ee\u8ba2\u9605\u65b9\u6cd5\uff09\u3002\u8bf7\u8bb0\u5f97\u5bfc\u5165\u4e0b\u5217\u7c7b\u578b\uff1a"]}),(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"from nautilus_trader.adapters.databento import DATABENTO_CLIENT_ID\nfrom nautilus_trader.model import BarType\nfrom nautilus_trader.model.enums import BookType\nfrom nautilus_trader.model.identifiers import InstrumentId\n"})})]}),"\n",(0,d.jsx)(t.h3,{id:"quote-\u8ba2\u9605mbp--l1",children:"Quote \u8ba2\u9605\uff08MBP / L1\uff09"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# \u9ed8\u8ba4 MBP-1 \u62a5\u4ef7\uff08\u53ef\u80fd\u5305\u542b trades\uff09\nself.subscribe_quote_ticks(instrument_id, client_id=DATABENTO_CLIENT_ID)\n\n# \u6307\u5b9a MBP-1 schema\nself.subscribe_quote_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "mbp-1"},\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# 1 \u79d2 BBO \u5feb\u7167\uff08\u4ec5\u62a5\u4ef7\uff0c\u4e0d\u542b trades\uff09\nself.subscribe_quote_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "bbo-1s"},\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# \u8de8\u573a\u6240\u6c47\u603b\u7684\u62a5\u4ef7\nself.subscribe_quote_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "cbbo-1s"},  # \u6216\u4f7f\u7528 "cmbp-1" \u83b7\u53d6\u6c47\u603b MBP\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# \u4ee5 trade \u91c7\u6837\u7684 BBO\uff08\u540c\u65f6\u5305\u542b quotes \u548c trades\uff09\nself.subscribe_quote_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "tbbo"},  # \u4f1a\u628a QuoteTick \u4e0e TradeTick \u4e00\u5e76\u53d1\u9001\u5230\u6d88\u606f\u603b\u7ebf\n    client_id=DATABENTO_CLIENT_ID,\n)\n'})}),"\n",(0,d.jsx)(t.h3,{id:"trade-\u8ba2\u9605",children:"Trade \u8ba2\u9605"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# \u4ec5 trades\nself.subscribe_trade_ticks(instrument_id, client_id=DATABENTO_CLIENT_ID)\n\n# \u6765\u81ea MBP-1 \u7684 trades\uff08\u4ec5\u5728\u5b58\u5728 trade \u4e8b\u4ef6\u65f6\uff09\nself.subscribe_trade_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "mbp-1"},\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# \u4ee5 trade \u91c7\u6837\u7684\u6570\u636e\uff08\u5728 trade \u65f6\u95f4\u70b9\u540c\u65f6\u63d0\u4f9b quote\uff09\nself.subscribe_trade_ticks(\n    instrument_id=instrument_id,\n    params={"schema": "tbbo"},  # \u4e5f\u4f1a\u5728 trade \u4e8b\u4ef6\u4e0a\u63d0\u4f9b quotes\n    client_id=DATABENTO_CLIENT_ID,\n)\n'})}),"\n",(0,d.jsx)(t.h3,{id:"order-book-depth-\u8ba2\u9605mbp--l2",children:"Order book depth \u8ba2\u9605\uff08MBP / L2\uff09"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"# \u8ba2\u9605\u5e02\u573a\u6df1\u5ea6\u524d 10 \u4e2a\u4ef7\u4f4d\nself.subscribe_order_book_depth(\n    instrument_id=instrument_id,\n    depth=10  # Databento \u4f1a\u81ea\u52a8\u9009\u62e9 MBP-10 schema\n)\n\n# \u6ce8\u610f\uff1aDatabento \u7684 depth \u53c2\u6570\u5fc5\u987b\u4e3a 10\n# \u8fd9\u5c06\u63a5\u6536 OrderBookDepth10 \u66f4\u65b0\n"})}),"\n",(0,d.jsx)(t.h3,{id:"order-book-deltas-\u8ba2\u9605mbo--l3",children:"Order book deltas \u8ba2\u9605\uff08MBO / L3\uff09"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"# \u8ba2\u9605\u9010\u5355\u66f4\u65b0\uff08market by order\uff09\nself.subscribe_order_book_deltas(\n    instrument_id=instrument_id,\n    book_type=BookType.L3_MBO  # \u4f7f\u7528 MBO schema\n)\n\n# \u6ce8\u610f\uff1aMBO \u8ba2\u9605\u5fc5\u987b\u5728\u8282\u70b9\u542f\u52a8\u65f6\u8fdb\u884c\uff0c\u4ee5\u786e\u4fdd\u80fd\u4ece\u4f1a\u8bdd\u5f00\u59cb\u5904\u6b63\u786e\u56de\u653e\n"})}),"\n",(0,d.jsx)(t.h3,{id:"bar-\u8ba2\u9605",children:"Bar \u8ba2\u9605"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# \u8ba2\u9605 1 \u5206\u949f K \u7ebf\uff08\u4f1a\u81ea\u52a8\u4f7f\u7528 ohlcv-1m schema\uff09\nself.subscribe_bars(\n    bar_type=BarType.from_str(f"{instrument_id}-1-MINUTE-LAST-EXTERNAL")\n)\n\n# \u8ba2\u9605 1 \u79d2 K \u7ebf\uff08\u4f1a\u81ea\u52a8\u4f7f\u7528 ohlcv-1s schema\uff09\nself.subscribe_bars(\n    bar_type=BarType.from_str(f"{instrument_id}-1-SECOND-LAST-EXTERNAL")\n)\n\n# \u8ba2\u9605 1 \u5c0f\u65f6 K \u7ebf\uff08\u4f1a\u81ea\u52a8\u4f7f\u7528 ohlcv-1h schema\uff09\nself.subscribe_bars(\n    bar_type=BarType.from_str(f"{instrument_id}-1-HOUR-LAST-EXTERNAL")\n)\n\n# \u8ba2\u9605\u65e5\u7ebf\uff08\u4f1a\u81ea\u52a8\u4f7f\u7528 ohlcv-1d schema\uff09\nself.subscribe_bars(\n    bar_type=BarType.from_str(f"{instrument_id}-1-DAY-LAST-EXTERNAL")\n)\n\n# \u4f7f\u7528 end-of-day schema \u7684\u65e5\u7ebf\u8ba2\u9605\uff08\u4ec5\u5bf9 DAY \u805a\u5408\u6709\u6548\uff09\nself.subscribe_bars(\n    bar_type=BarType.from_str(f"{instrument_id}-1-DAY-LAST-EXTERNAL"),\n    params={"schema": "ohlcv-eod"},  # \u8986\u76d6\u4e3a\u4f7f\u7528 end-of-day K \u7ebf\n)\n'})}),"\n",(0,d.jsx)(t.h3,{id:"\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u8ba2\u9605",children:"\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u8ba2\u9605"}),"\n",(0,d.jsxs)(t.p,{children:["\u5bf9\u4e8e\u50cf imbalance \u4e0e statistics \u8fd9\u7c7b Databento \u7684\u4e13\u7528\u6570\u636e\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528\u901a\u7528\u7684 ",(0,d.jsx)(t.code,{children:"subscribe_data"})," \u65b9\u6cd5\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'from nautilus_trader.adapters.databento import DATABENTO_CLIENT_ID\nfrom nautilus_trader.adapters.databento import DatabentoImbalance\nfrom nautilus_trader.adapters.databento import DatabentoStatistics\nfrom nautilus_trader.model import DataType\n\n# \u8ba2\u9605 imbalance \u6570\u636e\nself.subscribe_data(\n    data_type=DataType(DatabentoImbalance, metadata={"instrument_id": instrument_id}),\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# \u8ba2\u9605 statistics \u6570\u636e\nself.subscribe_data(\n    data_type=DataType(DatabentoStatistics, metadata={"instrument_id": instrument_id}),\n    client_id=DATABENTO_CLIENT_ID,\n)\n\n# \u8ba2\u9605 instrument \u72b6\u6001\u66f4\u65b0\nfrom nautilus_trader.model.data import InstrumentStatus\nself.subscribe_data(\n    data_type=DataType(InstrumentStatus, metadata={"instrument_id": instrument_id}),\n    client_id=DATABENTO_CLIENT_ID,\n)\n'})}),"\n",(0,d.jsx)(t.h2,{id:"instrument-id-\u4e0e\u7b26\u53f7\u4f53\u7cfbsymbology",children:"Instrument ID \u4e0e\u7b26\u53f7\u4f53\u7cfb\uff08symbology\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u7684\u884c\u60c5\u6570\u636e\u5305\u542b\u4e00\u4e2a ",(0,d.jsx)(t.code,{children:"instrument_id"})," \u5b57\u6bb5\uff0c\u8be5\u5b57\u6bb5\u4e3a\u6574\u6570\uff0c\u7531\u539f\u59cb\u6765\u6e90\u573a\u6240\u6216 Databento \u5728\u89c4\u8303\u5316\u8fc7\u7a0b\u4e2d\u5206\u914d\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u4e0e Nautilus \u4e2d\u7684 ",(0,d.jsx)(t.code,{children:"InstrumentId"})," \u4e0d\u540c\uff0c\u540e\u8005\u662f\u7531\u7b26\u53f7\u4e0e\u573a\u6240\u62fc\u63a5\u5e76\u4ee5\u53e5\u70b9\u5206\u9694\u7684\u5b57\u7b26\u4e32\u5f62\u5f0f\uff0c\u4f8b\u5982 ",(0,d.jsx)(t.code,{children:'"{symbol}.{venue}"'}),"\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["Nautilus \u7684\u89e3\u7801\u5668\u4f1a\u4f7f\u7528 Databento \u7684 ",(0,d.jsx)(t.code,{children:"raw_symbol"})," \u4f5c\u4e3a Nautilus \u7684 ",(0,d.jsx)(t.code,{children:"symbol"}),"\uff0c\u5e76\u4ece Databento \u7684 instrument \u5b9a\u4e49\u6d88\u606f\u4e2d\u8bfb\u53d6 ",(0,d.jsx)(t.a,{href:"https://www.iso20022.org/market-identifier-codes",children:"ISO 10383 MIC"}),"\uff08Market Identifier Code\uff09\u4f5c\u4e3a Nautilus \u7684 ",(0,d.jsx)(t.code,{children:"venue"})," \u5b57\u6bb5\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u7684\u6570\u636e\u96c6\u7531 ",(0,d.jsx)(t.em,{children:"dataset ID"})," \u6807\u8bc6\uff0c\u9019\u4e0d\u540c\u4e8e venue \u6807\u8bc6\u7b26\u3002\u53ef\u5728\u6b64\u4e86\u89e3\u66f4\u591a Databento \u6570\u636e\u96c6\u547d\u540d\u89c4\u5219\uff1a",(0,d.jsx)(t.a,{href:"https://databento.com/docs/api-reference-historical/basics/datasets",children:"datasets"}),"\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["\u5c24\u5176\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5bf9\u4e8e CME Globex MDP 3.0 \u6570\u636e\u96c6\uff08",(0,d.jsx)(t.code,{children:"GLBX.MDP3"})," dataset ID\uff09\uff0c\u4e0b\u5217\u4ea4\u6613\u6240\u90fd\u4f1a\u88ab\u5f52\u5165 ",(0,d.jsx)(t.code,{children:"GLBX"})," venue\uff1a\u8fd9\u4e9b\u6620\u5c04\u53ef\u901a\u8fc7 instruments \u7684 ",(0,d.jsx)(t.code,{children:"exchange"})," \u5b57\u6bb5\u5224\u65ad\uff1a"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"CBCM"}),": XCME-XCBT \u8de8\u4ea4\u6613\u6240\u4ef7\u5dee"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"NYUM"}),": XNYM-DUMX \u8de8\u4ea4\u6613\u6240\u4ef7\u5dee"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"XCBT"}),": Chicago Board of Trade (CBOT)"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"XCEC"}),": Commodities Exchange Center (COMEX)"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"XCME"}),": Chicago Mercantile Exchange (CME)"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"XFXS"}),": CME FX Link spread"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"XNYM"}),": New York Mercantile Exchange (NYMEX)"]}),"\n"]}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u5176\u4ed6 venue \u7684 MIC \u53ef\u5728 ",(0,d.jsx)(t.a,{href:"https://databento.com/docs/api-reference-historical/metadata/metadata-list-publishers",children:"metadata.list_publishers"})," \u7aef\u70b9\u7684 ",(0,d.jsx)(t.code,{children:"venue"})," \u5b57\u6bb5\u4e2d\u627e\u5230\u3002"]})}),"\n",(0,d.jsx)(t.h2,{id:"\u65f6\u95f4\u6233timestamps",children:"\u65f6\u95f4\u6233\uff08Timestamps\uff09"}),"\n",(0,d.jsx)(t.p,{children:"Databento \u6570\u636e\u5305\u542b\u591a\u79cd\u65f6\u95f4\u6233\u5b57\u6bb5\uff0c\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_event"}),": \u6210\u4ea4\u64ae\u5408\u5f15\u64ce\u63a5\u6536\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u81ea UNIX \u7eaa\u5143\u4ee5\u6765\u7684\u7eb3\u79d2\u6570\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_in_delta"}),": \u6210\u4ea4\u64ae\u5408\u5f15\u64ce\u53d1\u9001\u65f6\u95f4\uff0c\u76f8\u5bf9\u4e8e ",(0,d.jsx)(t.code,{children:"ts_recv"})," \u7684\u7eb3\u79d2\u5dee\u503c\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_recv"}),": \u6293\u53d6\u670d\u52a1\u5668\u63a5\u6536\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u81ea UNIX \u7eaa\u5143\u4ee5\u6765\u7684\u7eb3\u79d2\u6570\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_out"}),": Databento \u53d1\u9001\u65f6\u95f4\u6233\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(t.p,{children:["Nautilus \u6570\u636e\u81f3\u5c11\u5305\u542b\u4e24\u4e2a\u65f6\u95f4\u6233\uff08\u7531 ",(0,d.jsx)(t.code,{children:"Data"})," contract \u8981\u6c42\uff09\uff1a"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_event"}),": \u4e8b\u4ef6\u53d1\u751f\u65f6\u7684 UNIX \u65f6\u95f4\u6233\uff08\u7eb3\u79d2\uff09\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"ts_init"}),": \u6570\u636e\u5b9e\u4f8b\u521b\u5efa\u65f6\u7684 UNIX \u65f6\u95f4\u6233\uff08\u7eb3\u79d2\uff09\u3002"]}),"\n"]}),"\n",(0,d.jsxs)(t.p,{children:["\u5728\u5c06 Databento \u6570\u636e\u89e3\u7801\u5e76\u6807\u51c6\u5316\u4e3a Nautilus \u65f6\uff0c\u6211\u4eec\u901a\u5e38\u5c06 Databento \u7684 ",(0,d.jsx)(t.code,{children:"ts_recv"})," \u6620\u5c04\u5230 Nautilus \u7684 ",(0,d.jsx)(t.code,{children:"ts_event"})," \u5b57\u6bb5\uff0c\u56e0\u4e3a ",(0,d.jsx)(t.code,{children:"ts_recv"})," \u66f4\u53ef\u9760\u4e14\u5bf9\u6bcf\u4e2a instrument \u4fdd\u8bc1\u5355\u8c03\u9012\u589e\u3002\n\u4f8b\u5916\u60c5\u51b5\u4e3a ",(0,d.jsx)(t.code,{children:"DatabentoImbalance"})," \u4e0e ",(0,d.jsx)(t.code,{children:"DatabentoStatistics"})," \u7c7b\u578b\uff0c\u5b83\u4eec\u4f1a\u4fdd\u7559\u6240\u6709\u76f8\u5173\u65f6\u95f4\u6233\u5b57\u6bb5\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7c7b\u578b\u662f\u4e3a\u9002\u914d\u5668\u4e13\u95e8\u5b9a\u4e49\u7684\u3002"]}),"\n",(0,d.jsxs)(t.admonition,{type:"info",children:[(0,d.jsx)(t.p,{children:"\u66f4\u591a\u7ec6\u8282\u8bf7\u53c2\u9605 Databento \u6587\u6863\uff1a"}),(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/standards-and-conventions/common-fields-enums-types#timestamps",children:"Databento standards and conventions - timestamps"})}),"\n",(0,d.jsx)(t.li,{children:(0,d.jsx)(t.a,{href:"https://databento.com/docs/architecture/timestamping-guide",children:"Databento timestamping guide"})}),"\n"]})]}),"\n",(0,d.jsx)(t.h2,{id:"\u6570\u636e\u7c7b\u578b",children:"\u6570\u636e\u7c7b\u578b"}),"\n",(0,d.jsx)(t.p,{children:"\u4e0b\u9762\u7ae0\u8282\u8ba8\u8bba Databento schema \u4e0e Nautilus \u6570\u636e\u7c7b\u578b\u4e4b\u95f4\u7684\u5bf9\u5e94\u5173\u7cfb\u53ca\u6ce8\u610f\u4e8b\u9879\u3002"}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u53c2\u89c1 Databento \u7684 ",(0,d.jsx)(t.a,{href:"https://databento.com/docs/schemas-and-data-formats",children:"schemas and data formats"}),"\u3002"]})}),"\n",(0,d.jsx)(t.h3,{id:"instrument-\u5b9a\u4e49",children:"Instrument \u5b9a\u4e49"}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u4f7f\u7528\u5355\u4e00 schema \u8986\u76d6\u6240\u6709 instrument \u7c7b\u522b\uff0c\u89e3\u7801\u540e\u4f1a\u6620\u5c04\u5230\u76f8\u5e94\u7684 Nautilus ",(0,d.jsx)(t.code,{children:"Instrument"})," \u7c7b\u578b\u3002"]}),"\n",(0,d.jsx)(t.p,{children:"\u4e0b\u5217 Databento \u7684 instrument \u7c7b\u522b\u88ab NautilusTrader \u652f\u6301\uff1a"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Databento instrument class"}),(0,d.jsx)(t.th,{children:"Code"}),(0,d.jsx)(t.th,{children:"Nautilus instrument type"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Stock"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"K"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Equity"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Future"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"F"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"FuturesContract"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Call"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"C"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"OptionContract"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Put"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"P"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"OptionContract"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Future spread"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"S"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"FuturesSpread"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Option spread"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"T"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"OptionSpread"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Mixed spread"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"M"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"OptionSpread"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"FX spot"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"X"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"CurrencyPair"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"Bond"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"B"})}),(0,d.jsx)(t.td,{children:"Not yet available"})]})]})]}),"\n",(0,d.jsx)(t.h3,{id:"mbomarket-by-order",children:"MBO\uff08market by order\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["\u8be5 schema \u63d0\u4f9b Databento \u4e2d\u6700\u9ad8\u7c92\u5ea6\u7684\u6570\u636e\uff0c\u8868\u793a\u5b8c\u6574\u7684\u8ba2\u5355\u7c3f\u6df1\u5ea6\u3002\u6709\u4e9b\u6d88\u606f\u4e5f\u643a\u5e26\u6210\u4ea4\u4fe1\u606f\uff0c\u56e0\u6b64\u89e3\u7801 MBO \u6d88\u606f\u65f6\uff0cNautilus \u4f1a\u751f\u6210 ",(0,d.jsx)(t.code,{children:"OrderBookDelta"}),"\uff0c\u5e76\u5728\u9002\u7528\u60c5\u51b5\u4e0b\u540c\u65f6\u751f\u6210 ",(0,d.jsx)(t.code,{children:"TradeTick"}),"\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["Nautilus \u7684\u5b9e\u65f6\u6570\u636e\u5ba2\u6237\u7aef\u4f1a\u7f13\u51b2 MBO \u6d88\u606f\uff0c\u76f4\u5230\u68c0\u6d4b\u5230 ",(0,d.jsx)(t.code,{children:"F_LAST"})," \u6807\u5fd7\uff0c\u7136\u540e\u4ee5\u79bb\u6563\u7684 ",(0,d.jsx)(t.code,{children:"OrderBookDeltas"})," \u5bb9\u5668\u5bf9\u8c61\u4f20\u9012\u7ed9\u6ce8\u518c\u7684\u5904\u7406\u5668\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["\u8ba2\u5355\u7c3f\u5feb\u7167\u4e5f\u4f1a\u88ab\u7f13\u51b2\u4e3a ",(0,d.jsx)(t.code,{children:"OrderBookDeltas"})," \u5bb9\u5668\uff0c\u8fd9\u5728\u56de\u653e\uff08replay\uff09\u542f\u52a8\u5e8f\u5217\u4e2d\u4f1a\u88ab\u4f7f\u7528\u3002"]}),"\n",(0,d.jsx)(t.h3,{id:"mbp-1market-by-price\u9876\u5c42\u76d8\u53e3",children:"MBP-1\uff08market by price\uff0c\u9876\u5c42\u76d8\u53e3\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["\u8be5 schema \u4ec5\u8868\u793a\u9876\u5c42\u76d8\u53e3\uff08\u5305\u542b quotes \u4e0e trades\uff09\u3002\u4e0e MBO \u7c7b\u4f3c\uff0c\u90e8\u5206\u6d88\u606f\u4f1a\u5305\u542b\u6210\u4ea4\u4fe1\u606f\uff0c\u89e3\u7801 MBP-1 \u6d88\u606f\u65f6 Nautilus \u4f1a\u751f\u6210 ",(0,d.jsx)(t.code,{children:"QuoteTick"}),"\uff0c\u82e5\u4e3a\u6210\u4ea4\u4e8b\u4ef6\u5219\u4e5f\u4f1a\u751f\u6210 ",(0,d.jsx)(t.code,{children:"TradeTick"}),"\u3002"]}),"\n",(0,d.jsx)(t.h3,{id:"tbbo-\u4e0e-tcbbo\u542b\u6210\u4ea4\u7684\u9876\u5c42\u76d8\u53e3",children:"TBBO \u4e0e TCBBO\uff08\u542b\u6210\u4ea4\u7684\u9876\u5c42\u76d8\u53e3\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["TBBO\uff08Top Book with Trades\uff09\u4e0e TCBBO\uff08Top Consolidated Book with Trades\uff09\u5728\u6bcf\u6761\u6d88\u606f\u4e2d\u540c\u65f6\u63d0\u4f9b\u62a5\u4ef7\u4e0e\u6210\u4ea4\u6570\u636e\u3002\u8ba2\u9605\u8fd9\u4e9b schema \u65f6\uff0c\u4f60\u4f1a\u540c\u65f6\u6536\u5230 ",(0,d.jsx)(t.code,{children:"QuoteTick"})," \u4e0e ",(0,d.jsx)(t.code,{children:"TradeTick"}),"\uff0c\u6bd4\u5206\u522b\u8ba2\u9605\u62a5\u4ef7\u4e0e\u6210\u4ea4\u66f4\u9ad8\u6548\u3002TCBBO \u4e3a\u8de8\u573a\u6240\u7684\u6c47\u603b\u6570\u636e\u3002"]}),"\n",(0,d.jsx)(t.h3,{id:"ohlcvk-\u7ebf\u805a\u5408",children:"OHLCV\uff08K \u7ebf\u805a\u5408\uff09"}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u7684 K \u7ebf\u805a\u5408\u6d88\u606f\u5728\u6761\u7684\u201c\u5f00\u76d8\u201d\u65f6\u6253\u65f6\u95f4\u6233\u3002Nautilus \u7684\u89e3\u7801\u5668\u4f1a\u5c06 ",(0,d.jsx)(t.code,{children:"ts_event"})," \u65f6\u95f4\u6233\u6807\u51c6\u5316\u4e3a\u6761\u7684\u201c\u6536\u76d8\u201d\u65f6\u95f4\uff08\u539f\u59cb ",(0,d.jsx)(t.code,{children:"ts_event"})," + \u6761\u7684\u65f6\u95f4\u95f4\u9694\uff09\u3002"]}),"\n",(0,d.jsx)(t.h3,{id:"imbalance-\u4e0e-statistics",children:"Imbalance \u4e0e Statistics"}),"\n",(0,d.jsxs)(t.p,{children:["Databento \u7684 ",(0,d.jsx)(t.code,{children:"imbalance"})," \u4e0e ",(0,d.jsx)(t.code,{children:"statistics"})," schema \u65e0\u6cd5\u7b80\u5355\u5730\u6620\u5c04\u4e3a\u5185\u7f6e\u7684 Nautilus \u6570\u636e\u7c7b\u578b\uff0c\u56e0\u6b64\u5728 Rust \u4fa7\u5b9a\u4e49\u4e86 ",(0,d.jsx)(t.code,{children:"DatabentoImbalance"})," \u4e0e ",(0,d.jsx)(t.code,{children:"DatabentoStatistics"})," \u4e24\u79cd\u7279\u5b9a\u7c7b\u578b\u3002\n\u901a\u8fc7 PyO3\uff08Rust\uff09\u63d0\u4f9b\u7684 Python \u7ed1\u5b9a\uff0c\u8fd9\u4e9b\u7c7b\u578b\u5728 Python \u4fa7\u8868\u73b0\u5f97\u4e0e\u5185\u7f6e\u7c7b\u578b\u6709\u6240\u4e0d\u540c\uff1a\u5176\u5c5e\u6027\u7531 PyO3 \u63d0\u4f9b\uff0c\u5e76\u4e14\u53ef\u80fd\u65e0\u6cd5\u76f4\u63a5\u4e0e\u671f\u671b Cython \u7c7b\u578b\u7684\u65b9\u6cd5\u517c\u5bb9\u3002API \u53c2\u8003\u4e2d\u63d0\u4f9b\u4e86 PyO3 \u5230\u4f20\u7edf Cython \u5bf9\u8c61\u7684\u8f6c\u6362\u65b9\u6cd5\u3002"]}),"\n",(0,d.jsxs)(t.p,{children:["\u4e0b\u9762\u662f\u5c06 PyO3 ",(0,d.jsx)(t.code,{children:"Price"})," \u8f6c\u6362\u4e3a Cython ",(0,d.jsx)(t.code,{children:"Price"})," \u7684\u901a\u7528\u793a\u4f8b\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"price = Price.from_raw(pyo3_price.raw, pyo3_price.precision)\n"})}),"\n",(0,d.jsxs)(t.p,{children:["\u6b64\u5916\uff0c\u8ba2\u9605\u6216\u8bf7\u6c42\u8fd9\u4e9b\u6570\u636e\u7c7b\u578b\u9700\u8981\u4f7f\u7528\u5e95\u5c42\u7684\u901a\u7528\u65b9\u6cd5\u3002\u4e0b\u9762\u793a\u4f8b\u5c55\u793a\u4e86\u5982\u4f55\u8ba2\u9605 ",(0,d.jsx)(t.code,{children:"AAPL.XNAS"})," \u7684 ",(0,d.jsx)(t.code,{children:"imbalance"})," schema\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'from nautilus_trader.adapters.databento import DATABENTO_CLIENT_ID\nfrom nautilus_trader.adapters.databento import DatabentoImbalance\nfrom nautilus_trader.model import DataType\n\ninstrument_id = InstrumentId.from_str("AAPL.XNAS")\nself.subscribe_data(\n    data_type=DataType(DatabentoImbalance, metadata={"instrument_id": instrument_id}),\n    client_id=DATABENTO_CLIENT_ID,\n)\n'})}),"\n",(0,d.jsxs)(t.p,{children:["\u6216\u8005\u8bf7\u6c42\u524d\u4e00\u65e5\u7684 ",(0,d.jsx)(t.code,{children:"statistics"})," schema\uff0c\u4f8b\u5982\u5bf9 CME Globex \u4e0a\u6240\u6709\u6d3b\u52a8\u7684 E-mini S&P 500 \u671f\u8d27\u5408\u7ea6\uff08\u7236\u5408\u7ea6 ",(0,d.jsx)(t.code,{children:"ES.FUT.GLBX"}),"\uff09\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'from nautilus_trader.adapters.databento import DATABENTO_CLIENT_ID\nfrom nautilus_trader.adapters.databento import DatabentoStatistics\nfrom nautilus_trader.model import DataType\n\ninstrument_id = InstrumentId.from_str("ES.FUT.GLBX")\nmetadata = {\n    "instrument_id": instrument_id,\n    "start": "2024-03-06",\n}\nself.request_data(\n    data_type=DataType(DatabentoStatistics, metadata=metadata),\n    client_id=DATABENTO_CLIENT_ID,\n)\n'})}),"\n",(0,d.jsx)(t.h2,{id:"\u6027\u80fd\u6ce8\u610f\u4e8b\u9879",children:"\u6027\u80fd\u6ce8\u610f\u4e8b\u9879"}),"\n",(0,d.jsx)(t.p,{children:"\u4f7f\u7528 Databento DBN \u6570\u636e\u8fdb\u884c\u56de\u6d4b\u65f6\u6709\u4e24\u79cd\u7b56\u7565\uff1a"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:["\u5c06\u6570\u636e\u4fdd\u7559\u4e3a DBN\uff08",(0,d.jsx)(t.code,{children:".dbn.zst"}),"\uff09\u6587\u4ef6\u5e76\u5728\u6bcf\u6b21\u8fd0\u884c\u65f6\u5b9e\u65f6\u89e3\u7801\u4e3a Nautilus \u5bf9\u8c61\uff1b"]}),"\n",(0,d.jsx)(t.li,{children:"\u5c06 DBN \u6587\u4ef6\u8f6c\u6362\u4e3a Nautilus \u5bf9\u8c61\u540e\u5199\u5165\u6570\u636e\u76ee\u5f55\uff08Parquet \u683c\u5f0f\uff09\uff0c\u53ea\u89e3\u7801\u4e00\u6b21\u4ee5\u4f9b\u540e\u7eed\u91cd\u7528\u3002"}),"\n"]}),"\n",(0,d.jsx)(t.p,{children:"\u867d\u7136 DBN -> Nautilus \u7684\u89e3\u7801\u5668\u91c7\u7528 Rust \u5b9e\u73b0\u5e76\u5df2\u4f18\u5316\uff0c\u4f46\u6700\u9ad8\u7684\u56de\u6d4b\u6027\u80fd\u901a\u5e38\u6765\u81ea\u4e8e\u5c06 Nautilus \u5bf9\u8c61\u5199\u5165\u6570\u636e\u76ee\u5f55\uff0c\u4ece\u800c\u907f\u514d\u6bcf\u6b21\u56de\u6d4b\u90fd\u91cd\u590d\u89e3\u7801\u3002"}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.a,{href:"https://arrow.apache.org/datafusion/",children:"DataFusion"})," \u53ef\u4f5c\u4e3a\u67e5\u8be2\u5f15\u64ce\u540e\u7aef\uff0c\u7528\u4e8e\u9ad8\u6548\u52a0\u8f7d\u5e76\u6d41\u5f0f\u8bfb\u53d6\u78c1\u76d8\u4e0a\u7684 Nautilus Parquet \u6570\u636e\uff0c\u5176\u541e\u5410\u91cf\u901a\u5e38\u6bd4\u6bcf\u6b21\u56de\u653e\u65f6\u5b9e\u65f6\u5c06 DBN \u8f6c\u6362\u4e3a Nautilus \u7684\u65b9\u5f0f\u9ad8\u4e00\u4e2a\u6570\u91cf\u7ea7\u4ee5\u4e0a\u3002"]}),"\n",(0,d.jsx)(t.admonition,{type:"note",children:(0,d.jsx)(t.p,{children:"\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5\u4ecd\u5728\u5f00\u53d1\u4e2d\u3002"})}),"\n",(0,d.jsx)(t.h2,{id:"\u52a0\u8f7d-dbn-\u6570\u636e",children:"\u52a0\u8f7d DBN \u6570\u636e"}),"\n",(0,d.jsxs)(t.p,{children:["\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,d.jsx)(t.code,{children:"DatabentoDataLoader"})," \u5c06 DBN \u6587\u4ef6\u89e3\u7801\u4e3a Nautilus \u5bf9\u8c61\u3002\u8fd9\u6837\u505a\u4e3b\u8981\u6709\u4e24\u4e2a\u7528\u9014\uff1a"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:["\u76f4\u63a5\u5c06\u8f6c\u6362\u540e\u7684\u6570\u636e\u4f20\u7ed9 ",(0,d.jsx)(t.code,{children:"BacktestEngine.add_data"})," \u7528\u4e8e\u56de\u6d4b\uff1b"]}),"\n",(0,d.jsxs)(t.li,{children:["\u5c06\u8f6c\u6362\u540e\u7684\u6570\u636e\u4f20\u7ed9 ",(0,d.jsx)(t.code,{children:"ParquetDataCatalog.write_data"}),"\uff0c\u4ee5\u4fbf\u540e\u7eed\u901a\u8fc7 ",(0,d.jsx)(t.code,{children:"BacktestNode"})," \u6d41\u5f0f\u8bfb\u53d6\u4f7f\u7528\u3002"]}),"\n"]}),"\n",(0,d.jsx)(t.h3,{id:"\u5c06-dbn-\u6570\u636e\u52a0\u8f7d\u5230-backtestengine",children:"\u5c06 DBN \u6570\u636e\u52a0\u8f7d\u5230 BacktestEngine"}),"\n",(0,d.jsxs)(t.p,{children:["\u4e0b\u9762\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u52a0\u8f7d DBN \u6570\u636e\u5e76\u4f20\u9012\u7ed9 ",(0,d.jsx)(t.code,{children:"BacktestEngine"}),"\u3002\u7531\u4e8e ",(0,d.jsx)(t.code,{children:"BacktestEngine"})," \u9700\u8981\u5148\u6dfb\u52a0 instrument\uff0c\u672c\u793a\u4f8b\u4f7f\u7528 ",(0,d.jsx)(t.code,{children:"TestInstrumentProvider"})," \u63d0\u4f9b\u7684\u6d4b\u8bd5 instrument\uff08\u5f53\u7136\u4e5f\u53ef\u4ee5\u4f20\u5165\u4ece DBN \u6587\u4ef6\u89e3\u6790\u5f97\u5230\u7684 instrument \u5bf9\u8c61\uff09\u3002\u793a\u4f8b\u6570\u636e\u4e3a Nasdaq \u4e0a TSLA\uff08Tesla Inc\uff09\u4e00\u4e2a\u6708\u7684\u6210\u4ea4\u6570\u636e\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# Add instrument\nTSLA_NASDAQ = TestInstrumentProvider.equity(symbol="TSLA")\nengine.add_instrument(TSLA_NASDAQ)\n\n# Decode data to legacy Cython objects\nloader = DatabentoDataLoader()\ntrades = loader.from_dbn_file(\n    path=TEST_DATA_DIR / "databento" / "temp" / "tsla-xnas-20240107-20240206.trades.dbn.zst",\n    instrument_id=TSLA_NASDAQ.id,\n)\n\n# Add data\nengine.add_data(trades)\n'})}),"\n",(0,d.jsx)(t.h3,{id:"\u5c06-dbn-\u6570\u636e\u5199\u5165-parquetdatacatalog",children:"\u5c06 DBN \u6570\u636e\u5199\u5165 ParquetDataCatalog"}),"\n",(0,d.jsxs)(t.p,{children:["\u4e0b\u9762\u793a\u4f8b\u5c55\u793a\u5982\u4f55\u5c06 DBN \u6570\u636e\u89e3\u7801\u5e76\u5199\u5165 ",(0,d.jsx)(t.code,{children:"ParquetDataCatalog"}),"\u3002\u793a\u4f8b\u4e2d\u5c06 ",(0,d.jsx)(t.code,{children:"as_legacy_cython"})," \u8bbe\u4e3a ",(0,d.jsx)(t.code,{children:"False"}),"\uff0c\u4ee5\u786e\u4fdd\u89e3\u7801\u4e3a PyO3\uff08Rust\uff09\u5bf9\u8c61\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u867d\u7136\u4e5f\u53ef\u4ee5\u5c06\u4f20\u7edf\u7684 Cython \u5bf9\u8c61\u4f20\u5165 ",(0,d.jsx)(t.code,{children:"write_data"}),"\uff0c\u4f46\u5728\u5185\u90e8\u8fd9\u4e9b\u5bf9\u8c61\u4f1a\u88ab\u8f6c\u6362\u56de PyO3\uff1b\u76f4\u63a5\u4f20\u5165 PyO3 \u5bf9\u8c61\u53ef\u4ee5\u83b7\u5f97\u6027\u80fd\u4f18\u5316\u3002"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# Initialize the catalog interface\n# (will use the `NAUTILUS_PATH` env var as the path)\ncatalog = ParquetDataCatalog.from_env()\n\ninstrument_id = InstrumentId.from_str("TSLA.XNAS")\n\n# Decode data to pyo3 objects\nloader = DatabentoDataLoader()\ntrades = loader.from_dbn_file(\n    path=TEST_DATA_DIR / "databento" / "temp" / "tsla-xnas-20240107-20240206.trades.dbn.zst",\n    instrument_id=instrument_id,\n    as_legacy_cython=False,  # This is an optimization for writing to the catalog\n)\n\n# Write data\ncatalog.write_data(trades)\n'})}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u53e6\u89c1 ",(0,d.jsx)(t.a,{href:"/concepts/data",children:"Data concepts guide"}),"\u3002"]})}),"\n",(0,d.jsx)(t.h3,{id:"\u5386\u53f2\u52a0\u8f7d\u5668\u9009\u9879",children:"\u5386\u53f2\u52a0\u8f7d\u5668\u9009\u9879"}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.code,{children:"from_dbn_file"})," \u65b9\u6cd5\u652f\u6301\u82e5\u5e72\u91cd\u8981\u53c2\u6570\uff1a"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"instrument_id"}),"\uff1a\u4f20\u5165\u53ef\u52a0\u901f\u89e3\u7801\uff0c\u907f\u514d\u7b26\u53f7\u6620\u5c04\u67e5\u627e\u5f00\u9500\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"price_precision"}),"\uff1a\u8986\u76d6 instrument \u7684\u9ed8\u8ba4\u4ef7\u683c\u7cbe\u5ea6\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"include_trades"}),"\uff1a\u5bf9\u4e8e MBP-1/CMBP-1 schema\uff0c\u5c06\u5176\u7f6e\u4e3a ",(0,d.jsx)(t.code,{children:"True"})," \u4f1a\u5728\u5b58\u5728\u6210\u4ea4\u6570\u636e\u65f6\u540c\u65f6\u4ea7\u51fa ",(0,d.jsx)(t.code,{children:"QuoteTick"})," \u548c ",(0,d.jsx)(t.code,{children:"TradeTick"})," \u5bf9\u8c61\u3002"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.code,{children:"as_legacy_cython"}),"\uff1a\u5f53\u52a0\u8f7d IMBALANCE \u6216 STATISTICS schema\uff08\u5fc5\u987b\uff09\u6216\u5728\u5199\u5165 catalog \u65f6\u4e3a\u63d0\u5347\u6027\u80fd\uff0c\u5e94\u8bbe\u7f6e\u4e3a ",(0,d.jsx)(t.code,{children:"False"}),"\u3002"]}),"\n"]}),"\n",(0,d.jsx)(t.admonition,{type:"warning",children:(0,d.jsxs)(t.p,{children:["IMBALANCE \u4e0e STATISTICS schema \u8981\u6c42 ",(0,d.jsx)(t.code,{children:"as_legacy_cython=False"}),"\uff0c\u56e0\u4e3a\u8fd9\u4e9b\u7c7b\u578b\u4ec5\u4ee5 PyO3 \u5f62\u5f0f\u5b58\u5728\u3002\u82e5\u8bbe\u7f6e ",(0,d.jsx)(t.code,{children:"as_legacy_cython=True"})," \u5c06\u629b\u51fa ",(0,d.jsx)(t.code,{children:"ValueError"}),"\u3002"]})}),"\n",(0,d.jsx)(t.h3,{id:"\u52a0\u8f7d\u6c47\u603bconsolidated\u6570\u636e",children:"\u52a0\u8f7d\u6c47\u603b\uff08consolidated\uff09\u6570\u636e"}),"\n",(0,d.jsx)(t.p,{children:"\u6c47\u603b schema \u4f1a\u8de8\u591a\u4e2a\u573a\u6240\u805a\u5408\u6570\u636e\uff1a"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'# Load consolidated MBP-1 quotes\nloader = DatabentoDataLoader()\ncmbp_quotes = loader.from_dbn_file(\n    path="consolidated.cmbp-1.dbn.zst",\n    instrument_id=InstrumentId.from_str("AAPL.XNAS"),\n    include_trades=True,  # Get both quotes and trades if available\n    as_legacy_cython=True,\n)\n\n# Load consolidated BBO quotes\ncbbo_quotes = loader.from_dbn_file(\n    path="consolidated.cbbo-1s.dbn.zst",\n    instrument_id=InstrumentId.from_str("AAPL.XNAS"),\n    as_legacy_cython=False,  # Use PyO3 for better performance\n)\n\n# Load TCBBO (trade-sampled consolidated BBO) - provides both quotes and trades\n# Note: include_trades=True loads quotes, include_trades=False loads trades\ntcbbo_quotes = loader.from_dbn_file(\n    path="consolidated.tcbbo.dbn.zst",\n    instrument_id=InstrumentId.from_str("AAPL.XNAS"),\n    include_trades=True,  # Loads quotes\n    as_legacy_cython=True,\n)\n\ntcbbo_trades = loader.from_dbn_file(\n    path="consolidated.tcbbo.dbn.zst",\n    instrument_id=InstrumentId.from_str("AAPL.XNAS"),\n    include_trades=False,  # Loads trades\n    as_legacy_cython=True,\n)\n'})}),"\n",(0,d.jsx)(t.admonition,{type:"tip",children:(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.strong,{children:"\u6210\u672c\u4f18\u5316"}),"\uff1a\u907f\u514d\u540c\u65f6\u8ba2\u9605 TBBO/TCBBO \u4e0e\u5355\u72ec\u7684 trades \u8ba2\u9605\uff0c\u56e0\u4e3a\u8fd9\u4e9b schema \u5df2\u7ecf\u5305\u542b\u6210\u4ea4\u6570\u636e\uff0c\u8fd9\u6837\u53ef\u907f\u514d\u91cd\u590d\u5e76\u964d\u4f4e\u8d39\u7528\u3002"]})}),"\n",(0,d.jsx)(t.h2,{id:"\u5b9e\u65f6\u5ba2\u6237\u7aef\u67b6\u6784",children:"\u5b9e\u65f6\u5ba2\u6237\u7aef\u67b6\u6784"}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.code,{children:"DatabentoDataClient"})," \u662f\u4e00\u4e2a\u6c47\u805a\u4e86\u5176\u5b83 Databento \u9002\u914d\u5668\u7c7b\u7684 Python \u7c7b\u3002\u6bcf\u4e2a Databento \u6570\u636e\u96c6\u4f1a\u6709\u4e24\u4e2a ",(0,d.jsx)(t.code,{children:"DatabentoLiveClient"})," \u5b9e\u4f8b\uff1a"]}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsx)(t.li,{children:"\u4e00\u4e2a\u7528\u4e8e MBO\uff08\u9010\u5355\u76d8\u53e3\u589e\u91cf\uff09\u5b9e\u65f6\u6d41"}),"\n",(0,d.jsx)(t.li,{children:"\u4e00\u4e2a\u7528\u4e8e\u6240\u6709\u5176\u5b83\u5b9e\u65f6\u6d41"}),"\n"]}),"\n",(0,d.jsxs)(t.admonition,{type:"warning",children:[(0,d.jsx)(t.p,{children:"\u76ee\u524d\u5b58\u5728\u4e00\u4e2a\u9650\u5236\uff1a\u5bf9\u4e8e\u67d0\u4e2a\u6570\u636e\u96c6\u7684\u6240\u6709 MBO\uff08\u9010\u5355\u76d8\u53e3\uff09\u8ba2\u9605\u5fc5\u987b\u5728\u8282\u70b9\u542f\u52a8\u65f6\u5b8c\u6210\uff0c\u4ee5\u4fbf\u80fd\u591f\u4ece\u4f1a\u8bdd\u5f00\u59cb\u5904\u56de\u653e\u6570\u636e\u3002\u5982\u679c\u5728\u542f\u52a8\u540e\u518d\u53d1\u8d77 MBO \u8ba2\u9605\uff0c\u5c06\u8bb0\u5f55\u9519\u8bef\u5e76\u5ffd\u7565\u8be5\u8ba2\u9605\u3002"}),(0,d.jsx)(t.p,{children:"\u5176\u5b83 Databento schema \u4e0d\u53d7\u6b64\u9650\u5236\u3002"})]}),"\n",(0,d.jsxs)(t.p,{children:[(0,d.jsx)(t.code,{children:"DatabentoInstrumentProvider"})," \u4e0e ",(0,d.jsx)(t.code,{children:"DatabentoDataClient"})," \u4e4b\u95f4\u4f1a\u590d\u7528\u5355\u4e2a ",(0,d.jsx)(t.code,{children:"DatabentoHistoricalClient"})," \u5b9e\u4f8b\uff0c\u7528\u4e8e\u83b7\u53d6\u5386\u53f2\u7684 instrument \u5b9a\u4e49\u4e0e\u6570\u636e\u8bf7\u6c42\u3002"]}),"\n",(0,d.jsx)(t.h2,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,d.jsxs)(t.p,{children:["\u6700\u5e38\u89c1\u7684\u7528\u4f8b\u662f\u5c06 Databento \u6570\u636e\u5ba2\u6237\u7aef\u52a0\u5165\u5230 live ",(0,d.jsx)(t.code,{children:"TradingNode"})," \u7684\u914d\u7f6e\u4e2d\u3002\u4e3a\u6b64\uff0c\u8bf7\u5728\u5ba2\u6237\u7aef\u914d\u7f6e\u4e2d\u6dfb\u52a0 ",(0,d.jsx)(t.code,{children:"DATABENTO"})," \u90e8\u5206\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:'from nautilus_trader.adapters.databento import DATABENTO\nfrom nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        DATABENTO: {\n            "api_key": None,  # \'DATABENTO_API_KEY\' env var\n            "http_gateway": None,  # Override for the default HTTP historical gateway\n            "live_gateway": None,  # Override for the default raw TCP real-time gateway\n            "instrument_provider": InstrumentProviderConfig(load_all=True),\n            "instrument_ids": None,  # Nautilus instrument IDs to load on start\n            "parent_symbols": None,  # Databento parent symbols to load on start\n        },\n    },\n    ..., # Omitted\n)\n'})}),"\n",(0,d.jsxs)(t.p,{children:["\u7136\u540e\uff0c\u521b\u5efa ",(0,d.jsx)(t.code,{children:"TradingNode"})," \u5e76\u6ce8\u518c\u5ba2\u6237\u7aef\u5de5\u5382\uff1a"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-python",children:"from nautilus_trader.adapters.databento.factories import DatabentoLiveDataClientFactory\nfrom nautilus_trader.live.node import TradingNode\n\n# Instantiate the live trading node with a configuration\nnode = TradingNode(config=config)\n\n# Register the client factory with the node\nnode.add_data_client_factory(DATABENTO, DatabentoLiveDataClientFactory)\n\n# Finally build the node\nnode.build()\n"})}),"\n",(0,d.jsx)(t.h3,{id:"\u914d\u7f6e\u53c2\u6570",children:"\u914d\u7f6e\u53c2\u6570"}),"\n",(0,d.jsx)(t.p,{children:"Databento \u6570\u636e\u5ba2\u6237\u7aef\u63d0\u4f9b\u4ee5\u4e0b\u914d\u7f6e\u9009\u9879\uff1a"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Option"}),(0,d.jsx)(t.th,{children:"Default"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"api_key"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsxs)(t.td,{children:["Databento API secret. When ",(0,d.jsx)(t.code,{children:"None"}),", falls back to the ",(0,d.jsx)(t.code,{children:"DATABENTO_API_KEY"})," environment variable."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"http_gateway"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsx)(t.td,{children:"Historical HTTP gateway override, useful for testing custom endpoints."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"live_gateway"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsx)(t.td,{children:"Raw TCP real-time gateway override, typically only used for testing."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"use_exchange_as_venue"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"True"})}),(0,d.jsxs)(t.td,{children:["If ",(0,d.jsx)(t.code,{children:"True"}),", uses the exchange MIC for Nautilus venues (e.g., ",(0,d.jsx)(t.code,{children:"XCME"}),"). When ",(0,d.jsx)(t.code,{children:"False"}),", retains the default GLBX mapping."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"timeout_initial_load"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"15.0"})}),(0,d.jsx)(t.td,{children:"Seconds to wait for instrument definitions to load per dataset before proceeding."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"mbo_subscriptions_delay"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"3.0"})}),(0,d.jsx)(t.td,{children:"Seconds to buffer before enabling MBO/L3 streams so initial snapshots can replay in order."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"bars_timestamp_on_close"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"True"})}),(0,d.jsxs)(t.td,{children:["Timestamp bars on the close (",(0,d.jsx)(t.code,{children:"ts_event"}),"/",(0,d.jsx)(t.code,{children:"ts_init"}),"). Set ",(0,d.jsx)(t.code,{children:"False"})," to timestamp on the open."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"venue_dataset_map"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsx)(t.td,{children:"Optional mapping of Nautilus venues to Databento dataset codes."})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"parent_symbols"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsxs)(t.td,{children:["Optional mapping ",(0,d.jsx)(t.code,{children:"{dataset: {parent symbols}}"})," to preload definition trees (e.g., ",(0,d.jsx)(t.code,{children:'{"GLBX.MDP3": {"ES.FUT", "ES.OPT"}}'}),")."]})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"instrument_ids"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"None"})}),(0,d.jsxs)(t.td,{children:["Sequence of Nautilus ",(0,d.jsx)(t.code,{children:"InstrumentId"})," values to preload definitions for at startup."]})]})]})]}),"\n",(0,d.jsx)(t.admonition,{type:"tip",children:(0,d.jsx)(t.p,{children:"\u5efa\u8bae\u4f7f\u7528\u73af\u5883\u53d8\u91cf\u7ba1\u7406\u51ed\u8bc1\u3002"})}),"\n",(0,d.jsx)(t.admonition,{type:"info",children:(0,d.jsxs)(t.p,{children:["\u5982\u9700\u66f4\u591a\u529f\u80fd\u6216\u8d21\u732e Databento \u9002\u914d\u5668\uff0c\u8bf7\u53c2\u89c1\u6211\u4eec\u7684 ",(0,d.jsx)(t.a,{href:"https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"\u3002"]})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);