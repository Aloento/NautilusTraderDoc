"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[1327],{1623:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"developer_guide/adapters","title":"\u9002\u914d\u5668\uff08Adapters\uff09","description":"\u4ecb\u7ecd","source":"@site/docs/developer_guide/adapters.md","sourceDirName":"developer_guide","slug":"/developer_guide/adapters","permalink":"/developer_guide/adapters","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/developer_guide/adapters.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u5f00\u53d1\u8005\u6307\u5357","permalink":"/developer_guide/"},"next":{"title":"\u57fa\u51c6\u6d4b\u8bd5\uff08Benchmarking\uff09","permalink":"/developer_guide/benchmarking"}}');var i=s(7259),t=s(9087);const d={},l="\u9002\u914d\u5668\uff08Adapters\uff09",c={},a=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u9002\u914d\u5668\u7684\u7ed3\u6784",id:"\u9002\u914d\u5668\u7684\u7ed3\u6784",level:2},{value:"Rust \u6838\u5fc3\uff08<code>crates/adapters/your_adapter/</code>\uff09",id:"rust-\u6838\u5fc3cratesadaptersyour_adapter",level:3},{value:"Python \u5c42\uff08<code>nautilus_trader/adapters/your_adapter</code>\uff09",id:"python-\u5c42nautilus_traderadaptersyour_adapter",level:3},{value:"\u9002\u914d\u5668\u5b9e\u73b0\u6b65\u9aa4\uff08\u6982\u89c8\uff09",id:"\u9002\u914d\u5668\u5b9e\u73b0\u6b65\u9aa4\u6982\u89c8",level:2},{value:"Rust \u7aef\u7684\u8bbe\u8ba1\u6a21\u5f0f\u5efa\u8bae",id:"rust-\u7aef\u7684\u8bbe\u8ba1\u6a21\u5f0f\u5efa\u8bae",level:2},{value:"HTTP \u5ba2\u6237\u7aef\u8bbe\u8ba1\u8981\u70b9",id:"http-\u5ba2\u6237\u7aef\u8bbe\u8ba1\u8981\u70b9",level:2},{value:"\u89e3\u6790\uff08Parser\uff09\u51fd\u6570",id:"\u89e3\u6790parser\u51fd\u6570",level:3},{value:"\u65b9\u6cd5\u547d\u540d\u4e0e\u7ec4\u7ec7",id:"\u65b9\u6cd5\u547d\u540d\u4e0e\u7ec4\u7ec7",level:3},{value:"\u67e5\u8be2\u53c2\u6570\u6784\u9020\u5668\uff08Query builders\uff09",id:"\u67e5\u8be2\u53c2\u6570\u6784\u9020\u5668query-builders",level:3},{value:"\u7b7e\u540d\u4e0e\u8ba4\u8bc1",id:"\u7b7e\u540d\u4e0e\u8ba4\u8bc1",level:3},{value:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5",id:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5",level:3},{value:"\u901f\u7387\u9650\u5236\uff08Rate limiting\uff09",id:"\u901f\u7387\u9650\u5236rate-limiting",level:3},{value:"WebSocket \u5ba2\u6237\u7aef\u6a21\u5f0f",id:"websocket-\u5ba2\u6237\u7aef\u6a21\u5f0f",level:2},{value:"\u5ba2\u6237\u7aef\u7ed3\u6784",id:"\u5ba2\u6237\u7aef\u7ed3\u6784",level:3},{value:"\u8ba4\u8bc1",id:"\u8ba4\u8bc1",level:3},{value:"\u8ba2\u9605\u7ba1\u7406",id:"\u8ba2\u9605\u7ba1\u7406",level:3},{value:"\u8ba2\u9605\u751f\u547d\u5468\u671f",id:"\u8ba2\u9605\u751f\u547d\u5468\u671f",level:4},{value:"\u4e3b\u9898\uff08topic\uff09\u683c\u5f0f\u6a21\u5f0f",id:"\u4e3b\u9898topic\u683c\u5f0f\u6a21\u5f0f",level:4},{value:"\u91cd\u8fde\u903b\u8f91",id:"\u91cd\u8fde\u903b\u8f91",level:3},{value:"Ping/Pong \u5904\u7406",id:"pingpong-\u5904\u7406",level:3},{value:"\u6d88\u606f\u8def\u7531",id:"\u6d88\u606f\u8def\u7531",level:3},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:3},{value:"\u573a\u9986\u8d1f\u8f7d\u5efa\u6a21\uff08Modeling venue payloads\uff09",id:"\u573a\u9986\u8d1f\u8f7d\u5efa\u6a21modeling-venue-payloads",level:2},{value:"REST \u6a21\u578b\uff08<code>http::models</code> \u548c <code>http::query</code>\uff09",id:"rest-\u6a21\u578bhttpmodels-\u548c-httpquery",level:3},{value:"WebSocket \u6d88\u606f\uff08<code>websocket::messages</code>\uff09",id:"websocket-\u6d88\u606fwebsocketmessages",level:3},{value:"\u6d4b\u8bd5",id:"\u6d4b\u8bd5",level:2},{value:"Rust \u6d4b\u8bd5",id:"rust-\u6d4b\u8bd5",level:3},{value:"\u9879\u76ee\u5e03\u5c40\u793a\u4f8b",id:"\u9879\u76ee\u5e03\u5c40\u793a\u4f8b",level:4},{value:"\u5355\u5143\u6d4b\u8bd5",id:"\u5355\u5143\u6d4b\u8bd5",level:4},{value:"\u96c6\u6210\u6d4b\u8bd5",id:"\u96c6\u6210\u6d4b\u8bd5",level:4},{value:"HTTP \u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",id:"http-\u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",level:5},{value:"WebSocket \u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",id:"websocket-\u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",level:5},{value:"Python \u5c42\u6d4b\u8bd5",id:"python-\u5c42\u6d4b\u8bd5",level:3},{value:"Python \u9002\u914d\u5668\u5c42\u5b9e\u73b0\u6307\u5357\uff08\u6a21\u677f\uff09",id:"python-\u9002\u914d\u5668\u5c42\u5b9e\u73b0\u6307\u5357\u6a21\u677f",level:2},{value:"InstrumentProvider",id:"instrumentprovider",level:3},{value:"DataClient",id:"dataclient",level:3},{value:"MarketDataClient",id:"marketdataclient",level:3},{value:"ExecutionClient",id:"executionclient",level:3},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:3},{value:"\u5e38\u89c1\u6d4b\u8bd5\u573a\u666f",id:"\u5e38\u89c1\u6d4b\u8bd5\u573a\u666f",level:2},{value:"\u4ea7\u54c1\u8986\u76d6",id:"\u4ea7\u54c1\u8986\u76d6",level:3},{value:"\u8ba2\u5355\u6d41",id:"\u8ba2\u5355\u6d41",level:3},{value:"\u72b6\u6001\u7ba1\u7406",id:"\u72b6\u6001\u7ba1\u7406",level:3}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u9002\u914d\u5668adapters",children:"\u9002\u914d\u5668\uff08Adapters\uff09"})}),"\n",(0,i.jsx)(n.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,i.jsx)(n.p,{children:"\u672c\u5f00\u53d1\u8005\u6307\u5357\u8bf4\u660e\u5982\u4f55\u4e3a NautilusTrader \u5e73\u53f0\u5f00\u53d1\u96c6\u6210\u9002\u914d\u5668\uff08adapter\uff09\u3002\u9002\u914d\u5668\u8d1f\u8d23\u8fde\u63a5\u4ea4\u6613\u6240\u6216\u6570\u636e\u63d0\u4f9b\u65b9\uff0c\u5c06\u5404\u7c7b\u539f\u59cb\u573a\u9986 API \u7ffb\u8bd1\u4e3a Nautilus \u7684\u7edf\u4e00\u63a5\u53e3\u4e0e\u5f52\u4e00\u5316\u7684\u9886\u57df\u6a21\u578b\u3002"}),"\n",(0,i.jsx)(n.h2,{id:"\u9002\u914d\u5668\u7684\u7ed3\u6784",children:"\u9002\u914d\u5668\u7684\u7ed3\u6784"}),"\n",(0,i.jsx)(n.p,{children:"NautilusTrader \u7684\u9002\u914d\u5668\u9075\u5faa\u5206\u5c42\u67b6\u6784\uff0c\u901a\u5e38\u5305\u542b\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Rust \u6838\u5fc3\uff08Rust core\uff09\uff1a\u7528\u4e8e\u7f51\u7edc\u5ba2\u6237\u7aef\u4e0e\u6027\u80fd\u5173\u952e\u8def\u5f84\u7684\u5b9e\u73b0\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Python \u5c42\uff08\u53ef\u9009\uff09\uff1a\u7528\u4e8e\u4e0e\u73b0\u6709 Python \u7cfb\u7edf\u6216\u66f4\u9ad8\u5c42\u96c6\u6210\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u76ee\u524d\u51e0\u4e2a\u5b9e\u73b0\u6a21\u5f0f\u4e00\u81f4\u3001\u53ef\u4f5c\u4e3a\u53c2\u8003\u7684\u9002\u914d\u5668\u6709\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"BitMEX"}),"\n",(0,i.jsx)(n.li,{children:"Bybit"}),"\n",(0,i.jsx)(n.li,{children:"OKX"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"rust-\u6838\u5fc3cratesadaptersyour_adapter",children:["Rust \u6838\u5fc3\uff08",(0,i.jsx)(n.code,{children:"crates/adapters/your_adapter/"}),"\uff09"]}),"\n",(0,i.jsx)(n.p,{children:"Rust \u5c42\u8d1f\u8d23\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HTTP \u5ba2\u6237\u7aef\uff1a\u539f\u59cb API \u901a\u4fe1\u3001\u8bf7\u6c42\u7b7e\u540d\u3001\u6d41\u63a7\uff08rate limiting\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"WebSocket \u5ba2\u6237\u7aef\uff1a\u4f4e\u5ef6\u8fdf\u6d41\u5f0f\u8fde\u63a5\u4e0e\u6d88\u606f\u89e3\u6790\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u89e3\u6790\uff08Parsing\uff09\uff1a\u9ad8\u6548\u5730\u5c06\u573a\u9986\u6570\u636e\u8f6c\u6362\u4e3a Nautilus \u7684\u9886\u57df\u5bf9\u8c61\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Python \u7ed1\u5b9a\uff1a\u901a\u8fc7 PyO3 \u5bfc\u51fa\uff0c\u4f7f Rust \u529f\u80fd\u53ef\u4ee5\u88ab Python \u8c03\u7528\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5178\u578b\u7684 Rust \u9879\u76ee\u7ed3\u6784\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tree",children:"crates/adapters/your_adapter/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 common/           # \u5171\u4eab\u7c7b\u578b\u4e0e\u5de5\u5177\u51fd\u6570\n\u2502   \u2502   \u251c\u2500\u2500 consts.rs     # \u573a\u9986\u5e38\u91cf / broker ID\n\u2502   \u2502   \u251c\u2500\u2500 credential.rs # API key \u5b58\u50a8\u4e0e\u7b7e\u540d\u8f85\u52a9\n\u2502   \u2502   \u251c\u2500\u2500 enums.rs      # \u4e0e REST/WS \u8d1f\u8f7d\u5bf9\u5e94\u7684\u679a\u4e3e\n\u2502   \u2502   \u251c\u2500\u2500 urls.rs       # \u4e0e\u73af\u5883/\u4ea7\u54c1\u76f8\u5173\u7684 base-url \u89e3\u6790\u5668\n\u2502   \u2502   \u251c\u2500\u2500 parse.rs      # \u5171\u4eab\u89e3\u6790\u8f85\u52a9\u51fd\u6570\n\u2502   \u2502   \u2514\u2500\u2500 testing.rs    # \u5355\u5143\u6d4b\u8bd5\u590d\u7528\u7684 fixtures\n\u2502   \u251c\u2500\u2500 http/             # HTTP \u5ba2\u6237\u7aef\u5b9e\u73b0\n\u2502   \u2502   \u251c\u2500\u2500 client.rs     # \u5e26\u8ba4\u8bc1\u7684 HTTP \u5ba2\u6237\u7aef\n\u2502   \u2502   \u251c\u2500\u2500 models.rs     # REST \u8d1f\u8f7d\u5bf9\u5e94\u7684\u7ed3\u6784\u4f53\n\u2502   \u2502   \u251c\u2500\u2500 query.rs      # \u8bf7\u6c42 / \u67e5\u8be2\u6784\u9020\u5668\n\u2502   \u2502   \u2514\u2500\u2500 parse.rs      # \u54cd\u5e94\u89e3\u6790\u51fd\u6570\n\u2502   \u251c\u2500\u2500 websocket/        # WebSocket \u5b9e\u73b0\n\u2502   \u2502   \u251c\u2500\u2500 client.rs     # WebSocket \u5ba2\u6237\u7aef\n\u2502   \u2502   \u251c\u2500\u2500 messages.rs   # \u6d41\u5f0f\u6d88\u606f\u7684\u7ed3\u6784\u4f53\n\u2502   \u2502   \u2514\u2500\u2500 parse.rs      # \u6d88\u606f\u89e3\u6790\u51fd\u6570\n\u2502   \u251c\u2500\u2500 python/           # PyO3 \u5bf9 Python \u7684\u5bfc\u51fa\n\u2502   \u251c\u2500\u2500 config.rs         # \u914d\u7f6e\u7ed3\u6784\u4f53\n\u2502   \u2514\u2500\u2500 lib.rs            # \u5e93\u5165\u53e3\n\u2514\u2500\u2500 tests/                # \u4f7f\u7528 mock server \u7684\u96c6\u6210\u6d4b\u8bd5\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"python-\u5c42nautilus_traderadaptersyour_adapter",children:["Python \u5c42\uff08",(0,i.jsx)(n.code,{children:"nautilus_trader/adapters/your_adapter"}),"\uff09"]}),"\n",(0,i.jsx)(n.p,{children:"Python \u5c42\u5411\u5e73\u53f0\u66b4\u9732\u96c6\u6210\u63a5\u53e3\uff0c\u901a\u5e38\u5305\u542b\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Instrument Provider\uff1a\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"InstrumentProvider"})," \u63d0\u4f9b instrument \u5b9a\u4e49\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Data Client\uff1a\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"LiveDataClient"})," / ",(0,i.jsx)(n.code,{children:"LiveMarketDataClient"})," \u5904\u7406\u884c\u60c5\u4e0e\u5386\u53f2\u6570\u636e\u8bf7\u6c42\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Execution Client\uff1a\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"LiveExecutionClient"})," \u7ba1\u7406\u59d4\u6258\u6267\u884c\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"Factories\uff1a\u628a\u573a\u9986\u7279\u5b9a\u7684\u6570\u636e\u8f6c\u6362\u4e3a Nautilus \u7684\u9886\u57df\u6a21\u578b\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Configuration\uff1a\u9762\u5411\u7528\u6237\u7684\u5ba2\u6237\u7aef\u914d\u7f6e\u7c7b\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u5178\u578b\u7684 Python \u5305\u7ed3\u6784\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tree",children:"nautilus_trader/adapters/your_adapter/\n\u251c\u2500\u2500 config.py     # \u914d\u7f6e\u7c7b\n\u251c\u2500\u2500 constants.py  # \u9002\u914d\u5668\u5e38\u91cf\n\u251c\u2500\u2500 data.py       # LiveDataClient / LiveMarketDataClient\n\u251c\u2500\u2500 execution.py  # LiveExecutionClient\n\u251c\u2500\u2500 factories.py  # instrument factory\n\u251c\u2500\u2500 providers.py  # InstrumentProvider\n\u2514\u2500\u2500 __init__.py   # \u5305\u521d\u59cb\u5316\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u9002\u914d\u5668\u5b9e\u73b0\u6b65\u9aa4\u6982\u89c8",children:"\u9002\u914d\u5668\u5b9e\u73b0\u6b65\u9aa4\uff08\u6982\u89c8\uff09"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u4e3a\u4f60\u7684\u9002\u914d\u5668\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 Python \u5b50\u5305\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u5b9e\u73b0 Instrument Provider\uff1a\u7ee7\u627f ",(0,i.jsx)(n.code,{children:"InstrumentProvider"})," \u5e76\u5b9e\u73b0\u52a0\u8f7d instruments \u7684\u65b9\u6cd5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5b9e\u73b0 Data Client\uff1a\u6839\u636e\u9700\u8981\u7ee7\u627f ",(0,i.jsx)(n.code,{children:"LiveDataClient"})," \u6216 ",(0,i.jsx)(n.code,{children:"LiveMarketDataClient"}),"\uff0c\u5b9e\u73b0\u62bd\u8c61\u65b9\u6cd5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5b9e\u73b0 Execution Client\uff1a\u7ee7\u627f ",(0,i.jsx)(n.code,{children:"LiveExecutionClient"})," \u5e76\u5b9e\u73b0\u76f8\u5173\u65b9\u6cd5\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u7f16\u5199\u914d\u7f6e\u7c7b\u4ee5\u4fdd\u5b58\u9002\u914d\u5668\u8bbe\u7f6e\uff08API key\u3001URL \u7b49\uff09\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u5145\u5206\u6d4b\u8bd5\u9002\u914d\u5668\uff0c\u786e\u4fdd\u5404\u65b9\u6cd5\u6309\u9884\u671f\u5de5\u4f5c\uff08\u89c1 ",(0,i.jsx)(n.a,{href:"/developer_guide/testing",children:"Testing Guide"}),"\uff09\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"rust-\u7aef\u7684\u8bbe\u8ba1\u6a21\u5f0f\u5efa\u8bae",children:"Rust \u7aef\u7684\u8bbe\u8ba1\u6a21\u5f0f\u5efa\u8bae"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Common code (",(0,i.jsx)(n.code,{children:"common/"}),")\uff1a\u628a\u573a\u9986\u5e38\u91cf\u3001\u51ed\u8bc1\u8f85\u52a9\u3001\u679a\u4e3e\u4e0e\u53ef\u590d\u7528\u89e3\u6790\u5668\u653e\u5728 ",(0,i.jsx)(n.code,{children:"src/common"}),"\u3002\u5f53\u9002\u914d\u5668\u652f\u6301\u591a\u4e2a\u73af\u5883\u6216\u4ea7\u54c1\u7ebf\u65f6\uff0c\u5728 ",(0,i.jsx)(n.code,{children:"common::urls"})," \u4e2d\u96c6\u4e2d\u7ba1\u7406 URL \u9009\u62e9\uff0c\u4fdd\u8bc1 REST \u4e0e WebSocket \u7684 base URL \u4e0e Python \u5c42\u4e00\u81f4\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Configurations (",(0,i.jsx)(n.code,{children:"config.rs"}),")\uff1a\u5728 ",(0,i.jsx)(n.code,{children:"src/config.rs"})," \u4e2d\u66b4\u9732\u7c7b\u578b\u5316\u7684\u914d\u7f6e\u7ed3\u6784\uff0c\u4fbf\u4e8e Python \u5c42\u5207\u6362\u573a\u9986\u7279\u6709\u884c\u4e3a\uff08\u4f8b\u5982 OKX \u5982\u4f55\u914d\u7f6e demo URL\u3001\u91cd\u8bd5\u4e0e\u901a\u9053\u6807\u5fd7\uff09\u3002\u4fdd\u6301\u9ed8\u8ba4\u503c\u6700\u5c0f\u5316\uff0c\u5e76\u628a URL \u9009\u62e9\u59d4\u6258\u7ed9 ",(0,i.jsx)(n.code,{children:"common::urls"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Error taxonomy (",(0,i.jsx)(n.code,{children:"error.rs"}),")\uff1a\u628a HTTP/WebSocket \u7684\u9519\u8bef\u96c6\u4e2d\u5230\u9002\u914d\u5668\u7279\u5b9a\u7684\u9519\u8bef\u679a\u4e3e\u3002\u53c2\u8003 BitMEX \u505a\u6cd5\uff1a\u533a\u5206\u53ef\u91cd\u8bd5\uff08retryable\uff09\u3001\u4e0d\u53ef\u91cd\u8bd5\uff08non-retryable\uff09\u548c\u81f4\u547d\uff08fatal\uff09\u9519\u8bef\uff0c\u540c\u65f6\u4fdd\u7559\u5e95\u5c42\u4f20\u8f93\u9519\u8bef\uff0c\u65b9\u4fbf\u8fd0\u7ef4\u5de5\u5177\u505a\u4e00\u81f4\u5904\u7406\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Python exports (",(0,i.jsx)(n.code,{children:"python/mod.rs"}),")\uff1a\u901a\u8fc7 PyO3 \u6a21\u5757\u91cd\u5bfc\u51fa\u5ba2\u6237\u7aef\u3001\u679a\u4e3e\u4e0e\u8f85\u52a9\u51fd\u6570\uff0c\u4fdd\u6301 Rust \u4e0e Python \u63a5\u53e3\u540c\u6b65\uff08OKX \u9002\u914d\u5668\u662f\u597d\u7684\u53c2\u8003\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Python bindings\uff08",(0,i.jsx)(n.code,{children:"python/"}),"\uff09\uff1a\u7528 PyO3 \u66b4\u9732 Rust \u529f\u80fd\uff0c\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"#[pyclass]"})," \u6807\u8bb0\u9700\u5728 Python \u53ef\u89c1\u7684\u7ed3\u6784\u4f53\uff0c\u5e76\u5728 ",(0,i.jsx)(n.code,{children:"#[pymethods]"})," \u4e2d\u7528 ",(0,i.jsx)(n.code,{children:"#[getter]"})," \u63d0\u4f9b\u5b57\u6bb5\u8bbf\u95ee\u3002\u5bf9\u4e8e HTTP \u5ba2\u6237\u7aef\u4e2d\u5f02\u6b65\u65b9\u6cd5\uff0c\u53ef\u7528 ",(0,i.jsx)(n.code,{children:"pyo3_async_runtimes::tokio::future_into_py"})," \u5c06 Rust future \u8f6c\u4e3a Python awaitable\u3002\u8fd4\u56de\u81ea\u5b9a\u4e49\u7c7b\u578b\u5217\u8868\u65f6\uff0c\u5148\u7528 ",(0,i.jsx)(n.code,{children:"Py::new(py, item)"})," \u6620\u5c04\u6bcf\u4e2a\u9879\u518d\u6784\u9020 Python \u5217\u8868\u3002\u628a\u6240\u6709\u5bfc\u51fa\u7c7b/\u679a\u4e3e\u5728 ",(0,i.jsx)(n.code,{children:"python/mod.rs"})," \u4e2d\u6ce8\u518c\uff08",(0,i.jsx)(n.code,{children:"m.add_class::<YourType>()"}),"\uff09\u3002\u5efa\u8bae\u5728 Rust \u4ee3\u7801\u4e2d\u7ed9\u9762\u5411 Python \u7684\u65b9\u6cd5\u4ee5 ",(0,i.jsx)(n.code,{children:"py_*"})," \u524d\u7f00\uff0c\u540c\u65f6\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:'#[pyo3(name = "method_name")]'})," \u5c06\u5176\u66b4\u9732\u4e3a\u6ca1\u6709\u524d\u7f00\u7684\u540d\u5b57\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5b57\u7b26\u4e32\u9a7b\u7559\uff08String interning\uff09\uff1a\u5bf9\u9891\u7e41\u91cd\u590d\u5b58\u50a8\u7684\u975e\u552f\u4e00\u5b57\u7b26\u4e32\uff08\u573a\u9986\u3001symbol\u3001instrument ID\uff09\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"ustr::Ustr"})," \u4ee5\u51cf\u5c11\u5185\u5b58\u4e0e\u6bd4\u8f83\u6210\u672c\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Testing helpers (",(0,i.jsx)(n.code,{children:"common/testing.rs"}),")\uff1a\u628a\u5171\u4eab\u7684 fixtures \u548c\u6837\u672c payload \u653e\u5230 ",(0,i.jsx)(n.code,{children:"src/common/testing.rs"}),"\uff0c\u5c06 ",(0,i.jsx)(n.code,{children:"#[cfg(test)]"})," \u76f8\u5173\u8f85\u52a9\u4ece\u751f\u4ea7\u6a21\u5757\u4e2d\u5265\u79bb\uff0c\u65b9\u4fbf\u590d\u7528\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"http-\u5ba2\u6237\u7aef\u8bbe\u8ba1\u8981\u70b9",children:"HTTP \u5ba2\u6237\u7aef\u8bbe\u8ba1\u8981\u70b9"}),"\n",(0,i.jsxs)(n.p,{children:["\u4e3a\u4e86\u65b9\u4fbf Python \u7ed1\u5b9a\u7684\u9ad8\u6548\u514b\u9686\uff0cHTTP \u5ba2\u6237\u7aef\u91c7\u7528\u5185\u5c42/\u5916\u5c42\uff08inner/outer\uff09\u7ed3\u6784\uff0c\u5e76\u7528 ",(0,i.jsx)(n.code,{children:"Arc"})," \u5305\u88f9\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:"use std::sync::Arc;\nuse nautilus_network::http::HttpClient;\n\n// Inner client - contains actual HTTP logic\npub struct MyHttpInnerClient {\n    base_url: String,\n    client: HttpClient,  // Use nautilus_network::http::HttpClient, not reqwest directly\n    credential: Option<Credential>,\n    retry_manager: RetryManager<MyHttpError>,\n    cancellation_token: CancellationToken,\n}\n\n// Outer client - wraps inner with Arc for cheap cloning (needed for Python)\npub struct MyHttpClient {\n    pub(crate) inner: Arc<MyHttpInnerClient>,\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5185\u5c42 client\uff08",(0,i.jsx)(n.code,{children:"*HttpInnerClient"}),"\uff09\u5305\u542b\u6240\u6709 HTTP \u7684\u903b\u8f91\u4e0e\u72b6\u6001\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5916\u5c42 client\uff08",(0,i.jsx)(n.code,{children:"*HttpClient"}),"\uff09\u7528 ",(0,i.jsx)(n.code,{children:"Arc"})," \u5305\u88f9\u5185\u5c42\u4ee5\u652f\u6301\u9ad8\u6548\u514b\u9686\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u4f18\u5148\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"nautilus_network::http::HttpClient"})," \u800c\u4e0d\u662f\u76f4\u63a5\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"reqwest::Client"})," \u2014\u2014\u524d\u8005\u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u6d41\u63a7\u3001\u91cd\u8bd5\u4e0e\u7edf\u4e00\u7684\u9519\u8bef\u5904\u7406\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5916\u5c42 client \u7684\u65b9\u6cd5\u53ea\u662f\u7b80\u5355\u59d4\u6258\u7ed9\u5185\u5c42\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u89e3\u6790parser\u51fd\u6570",children:"\u89e3\u6790\uff08Parser\uff09\u51fd\u6570"}),"\n",(0,i.jsxs)(n.p,{children:["\u89e3\u6790\u51fd\u6570\u628a\u573a\u9986\u7279\u5b9a\u7684\u6570\u636e\u7ed3\u6784\u8f6c\u4e3a Nautilus \u7684\u9886\u57df\u5bf9\u8c61\u3002\u516c\u5171\u8f6c\u6362\u653e\u5728 ",(0,i.jsx)(n.code,{children:"common/parse.rs"}),"\uff0cREST \u7279\u5b9a\u7684\u653e\u5728 ",(0,i.jsx)(n.code,{children:"http/parse.rs"}),"\u3002\u6bcf\u4e2a\u89e3\u6790\u51fd\u6570\u63a5\u6536\u573a\u9986\u6570\u636e\u4e0e\u4e0a\u4e0b\u6587\uff08\u8d26\u53f7 ID\u3001\u65f6\u95f4\u6233\u3001instrument \u5f15\u7528\u7b49\uff09\uff0c\u5e76\u8fd4\u56de\u5305\u88f9\u5728 ",(0,i.jsx)(n.code,{children:"Result"})," \u4e2d\u7684 Nautilus \u7c7b\u578b\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u89c1\u505a\u6cd5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:".parse::<f64>()"})," \u5e76\u7ed3\u5408 ",(0,i.jsx)(n.code,{children:"anyhow::Context"})," \u63d0\u4f9b\u5145\u8db3\u7684\u9519\u8bef\u4e0a\u4e0b\u6587\u6765\u5904\u7406\u5b57\u7b26\u4e32\u5230\u6570\u503c\u7684\u8f6c\u6362\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728\u89e3\u6790\u53ef\u9009\u5b57\u6bb5\u524d\u5148\u68c0\u67e5\u7a7a\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u5f88\u591a\u573a\u9986\u4f1a\u8fd4\u56de ",(0,i.jsx)(n.code,{children:'""'})," \u800c\u4e0d\u662f\u76f4\u63a5\u7701\u7565\u5b57\u6bb5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"match"})," \u660e\u786e\u5730\u628a\u573a\u9986\u679a\u4e3e\u6620\u5c04\u5230 Nautilus \u679a\u4e3e\uff0c\u907f\u514d\u81ea\u52a8\u8f6c\u6362\u63a9\u76d6\u6620\u5c04\u9519\u8bef\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5728\u9700\u8981\u7cbe\u5ea6\u6216\u5176\u5b83\u5143\u6570\u636e\u6784\u5efa Nautilus \u7c7b\u578b\uff08\u6570\u91cf\u3001\u4ef7\u683c\uff09\u65f6\u63a5\u53d7 instrument \u5f15\u7528\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528\u63cf\u8ff0\u6027\u7684\u51fd\u6570\u540d\uff0c\u4f8b\u5982 ",(0,i.jsx)(n.code,{children:"parse_position_status_report"}),"\u3001",(0,i.jsx)(n.code,{children:"parse_order_status_report"}),"\u3001",(0,i.jsx)(n.code,{children:"parse_trade_tick"}),"\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u628a\u590d\u7528\u7684\u89e3\u6790\u8f85\u52a9\uff08\u5982 ",(0,i.jsx)(n.code,{children:"parse_price_with_precision"}),", ",(0,i.jsx)(n.code,{children:"parse_timestamp"}),"\uff09\u653e\u5728\u76f8\u540c\u6a21\u5757\u4e2d\u4f5c\u4e3a\u79c1\u6709\u51fd\u6570\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u65b9\u6cd5\u547d\u540d\u4e0e\u7ec4\u7ec7",children:"\u65b9\u6cd5\u547d\u540d\u4e0e\u7ec4\u7ec7"}),"\n",(0,i.jsx)(n.p,{children:"\u628a HTTP \u65b9\u6cd5\u5206\u4e3a\u4e24\u7c7b\uff1a\u4f4e\u7ea7\u76f4\u63a5 API \u8c03\u7528\u548c\u9ad8\u7ea7\u9886\u57df\u65b9\u6cd5\u3002"}),"\n",(0,i.jsx)(n.p,{children:"\u547d\u540d\u7ea6\u5b9a\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4f4e\u7ea7 API \u65b9\u6cd5\uff1a\u4ee5 ",(0,i.jsx)(n.code,{children:"http_"})," \u4e3a\u524d\u7f00\uff0c\u5e76\u653e\u5728 impl \u5757\u7684\u9876\u90e8\uff08\u4f8b\u5982 ",(0,i.jsx)(n.code,{children:"http_get_instruments"}),", ",(0,i.jsx)(n.code,{children:"http_place_order"}),"\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u9ad8\u7ea7\u9886\u57df\u65b9\u6cd5\uff1a\u65e0\u524d\u7f00\uff0c\u653e\u5728\u5355\u72ec\u7684\u6bb5\u843d\uff08\u4f8b\u5982 ",(0,i.jsx)(n.code,{children:"submit_order"}),", ",(0,i.jsx)(n.code,{children:"cancel_order"}),"\uff09\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u4f4e\u7ea7\u65b9\u6cd5\u63a5\u6536\u573a\u9986\u7279\u5b9a\u7c7b\u578b\uff08builder\u3001JSON \u503c\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9ad8\u7ea7\u65b9\u6cd5\u63a5\u6536 Nautilus \u7684\u9886\u57df\u5bf9\u8c61\uff08InstrumentId\u3001ClientOrderId\u3001OrderSide \u7b49\uff09\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\u9ad8\u7ea7\u65b9\u6cd5\u7684\u5178\u578b\u6d41\u7a0b\uff1a"}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u5185\u5c42 client \u4e2d\uff0c\u9ad8\u7ea7\u65b9\u6cd5\u901a\u5e38\u9075\u5faa\u4e09\u6b65\uff1a\u4ece Nautilus \u7c7b\u578b\u6784\u5efa\u573a\u9986\u53c2\u6570 -> \u8c03\u7528\u5bf9\u5e94\u7684 ",(0,i.jsx)(n.code,{children:"http_*"})," \u4f4e\u7ea7\u65b9\u6cd5 -> \u89e3\u6790\u6216\u62bd\u53d6\u54cd\u5e94\u3002\u5bf9\u4e8e\u8fd4\u56de\u9886\u57df\u5bf9\u8c61\u7684\u7aef\u70b9\uff08positions\u3001orders\u3001trades\uff09\uff0c\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"common/parse"})," \u4e2d\u7684\u89e3\u6790\u51fd\u6570\uff1b\u5bf9\u4e8e\u8fd4\u56de\u539f\u59cb\u573a\u9986\u6570\u636e\u7684\u7aef\u70b9\uff08\u8d39\u7387\u3001\u4f59\u989d\uff09\uff0c\u76f4\u63a5\u4ece\u54cd\u5e94\u5305\u4e2d\u62bd\u53d6\u7ed3\u679c\u3002\u4ee5 ",(0,i.jsx)(n.code,{children:"request_*"})," \u524d\u7f00\u7684\u65b9\u6cd5\u8868\u793a\u8fd4\u56de\u9886\u57df\u6570\u636e\uff0c\u800c ",(0,i.jsx)(n.code,{children:"submit_*"}),"\u3001",(0,i.jsx)(n.code,{children:"cancel_*"}),"\u3001",(0,i.jsx)(n.code,{children:"modify_*"})," \u7b49\u65b9\u6cd5\u7528\u4e8e\u6267\u884c\u52a8\u4f5c\u5e76\u8fd4\u56de\u786e\u8ba4\u4fe1\u606f\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5916\u5c42 client \u4ec5\u628a\u65b9\u6cd5\u59d4\u6258\u7ed9\u5185\u5c42\uff0c\u76ee\u7684\u4ec5\u4e3a\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"Arc"})," \u652f\u6301 Python \u7aef\u7684\u5ec9\u4ef7\u514b\u9686\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u67e5\u8be2\u53c2\u6570\u6784\u9020\u5668query-builders",children:"\u67e5\u8be2\u53c2\u6570\u6784\u9020\u5668\uff08Query builders\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"derive_builder"})," crate \u5e76\u63d0\u4f9b\u5408\u7406\u7684\u9ed8\u8ba4\u503c\u4e0e\u53cb\u597d\u7684 Option \u5904\u7406\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'use derive_builder::Builder;\n\n#[derive(Clone, Debug, Deserialize, Serialize, Builder)]\n#[serde(rename_all = "camelCase")]\n#[builder(setter(into, strip_option), default)]\npub struct InstrumentsInfoParams {\n    pub category: ProductType,\n    #[serde(skip_serializing_if = "Option::is_none")]\n    pub symbol: Option<String>,\n    #[serde(skip_serializing_if = "Option::is_none")]\n    pub limit: Option<u32>,\n}\n\nimpl Default for InstrumentsInfoParams {\n    fn default() -> Self {\n        Self {\n            category: ProductType::Linear,\n            symbol: None,\n            limit: None,\n        }\n    }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u5c5e\u6027\u8bf4\u660e\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"#[builder(setter(into, strip_option), default)]"}),"\uff1a\u7528\u6237\u53ef\u76f4\u63a5\u5199 ",(0,i.jsx)(n.code,{children:'.symbol("BTCUSDT")'})," \u800c\u4e0d\u662f ",(0,i.jsx)(n.code,{children:'.symbol(Some("BTCUSDT".to_string()))'}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:'#[serde(skip_serializing_if = "Option::is_none")]'}),"\uff1a\u5728\u5e8f\u5217\u5316\u67e5\u8be2\u5b57\u7b26\u4e32\u65f6\u7701\u7565 None \u5b57\u6bb5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5bf9 builder \u53c2\u6570\u59cb\u7ec8\u5b9e\u73b0 ",(0,i.jsx)(n.code,{children:"Default"}),"\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u7b7e\u540d\u4e0e\u8ba4\u8bc1",children:"\u7b7e\u540d\u4e0e\u8ba4\u8bc1"}),"\n",(0,i.jsx)(n.p,{children:"\u628a\u7b7e\u540d\u903b\u8f91\u653e\u5728\u5185\u5c42 client \u4e2d\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5",children:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5"}),"\n",(0,i.jsxs)(n.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"nautilus_network"})," \u63d0\u4f9b\u7684 ",(0,i.jsx)(n.code,{children:"RetryManager"})," \u5b9e\u73b0\u4e00\u81f4\u7684\u91cd\u8bd5\u7b56\u7565\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u901f\u7387\u9650\u5236rate-limiting",children:"\u901f\u7387\u9650\u5236\uff08Rate limiting\uff09"}),"\n",(0,i.jsxs)(n.p,{children:["\u901a\u8fc7 ",(0,i.jsx)(n.code,{children:"HttpClient"})," \u914d\u7f6e\u901f\u7387\u9650\u5236\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"websocket-\u5ba2\u6237\u7aef\u6a21\u5f0f",children:"WebSocket \u5ba2\u6237\u7aef\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:"WebSocket \u5ba2\u6237\u7aef\u7528\u4e8e\u5b9e\u65f6\u6d41\u6570\u636e\uff0c\u9700\u4ed4\u7ec6\u7ba1\u7406\u8fde\u63a5\u72b6\u6001\u3001\u8ba4\u8bc1\u3001\u8ba2\u9605\u4e0e\u91cd\u8fde\u903b\u8f91\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u5ba2\u6237\u7aef\u7ed3\u6784",children:"\u5ba2\u6237\u7aef\u7ed3\u6784"}),"\n",(0,i.jsx)(n.p,{children:"WebSocket \u5ba2\u6237\u7aef\u901a\u5e38\u4e0d\u9700\u8981\u5185/\u5916\u5c42\u6a21\u5f0f\uff0c\u56e0\u4e3a\u5b83\u4eec\u4e0d\u5e38\u88ab\u514b\u9686\u3002\u4f7f\u7528\u5355\u4e2a\u7ed3\u6784\u4f53\u5e76\u6e05\u6670\u5730\u7ba1\u7406\u72b6\u6001\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8ba4\u8bc1",children:"\u8ba4\u8bc1"}),"\n",(0,i.jsx)(n.p,{children:"\u628a\u8ba4\u8bc1\u903b\u8f91\u4e0e\u8ba2\u9605\u7ba1\u7406\u5206\u79bb\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u8ba2\u9605\u7ba1\u7406",children:"\u8ba2\u9605\u7ba1\u7406"}),"\n",(0,i.jsx)(n.h4,{id:"\u8ba2\u9605\u751f\u547d\u5468\u671f",children:"\u8ba2\u9605\u751f\u547d\u5468\u671f"}),"\n",(0,i.jsx)(n.p,{children:"\u4e00\u4e2a\u8ba2\u9605\uff08subscription\uff09\u901a\u5e38\u5904\u4e8e\u4e24\u79cd\u72b6\u6001\u4e4b\u4e00\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"State"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Pending"})}),(0,i.jsx)(n.td,{children:"\u5df2\u5411\u573a\u9986\u53d1\u9001\u8ba2\u9605\u8bf7\u6c42\uff0c\u7b49\u5f85\u786e\u8ba4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Confirmed"})}),(0,i.jsx)(n.td,{children:"\u573a\u9986\u5df2\u786e\u8ba4\u8ba2\u9605\u5e76\u5f00\u59cb\u63a8\u9001\u6570\u636e"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\u72b6\u6001\u8f6c\u6362\u793a\u4f8b\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Trigger"}),(0,i.jsx)(n.th,{children:"Method Called"}),(0,i.jsx)(n.th,{children:"From State"}),(0,i.jsx)(n.th,{children:"To State"}),(0,i.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"User subscribes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mark_subscribe()"})}),(0,i.jsx)(n.td,{children:"\u2014"}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"\u5c06 topic \u52a0\u5165 pending \u96c6\u5408"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Venue confirms"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"confirm()"})}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"Confirmed"}),(0,i.jsx)(n.td,{children:"\u4ece pending \u79fb\u81f3 confirmed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Venue rejects"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mark_failure()"})}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"\u4fdd\u6301 pending\uff0c\u91cd\u8fde\u540e\u91cd\u8bd5"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"User unsubscribes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mark_unsubscribe()"})}),(0,i.jsx)(n.td,{children:"Confirmed"}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"\u76f4\u5230\u6536\u5230 ack \u524d\u6682\u4e3a pending"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Unsubscribe ack"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"clear_pending()"})}),(0,i.jsx)(n.td,{children:"Pending"}),(0,i.jsx)(n.td,{children:"Removed"}),(0,i.jsx)(n.td,{children:"\u4ece\u96c6\u5408\u4e2d\u79fb\u9664"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u539f\u5219\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"subscription_count()"})," \u53ea\u7edf\u8ba1 confirmed \u72b6\u6001\u7684\u8ba2\u9605\uff0c\u4e0d\u5305\u62ec pending\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5931\u8d25\u7684\u8ba2\u9605\u4fdd\u6301 pending \u72b6\u6001\uff0c\u5e76\u5728\u91cd\u8fde\u65f6\u81ea\u52a8\u91cd\u8bd5\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u91cd\u8fde\u540e\u9700\u6062\u590d confirmed \u4e0e pending \u4e24\u7c7b\u8ba2\u9605\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u53d6\u6d88\u8ba2\u9605\u65f6\u9700\u68c0\u67e5 ack \u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"op"})," \u5b57\u6bb5\u4ee5\u907f\u514d\u91cd\u590d\u786e\u8ba4\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u4e3b\u9898topic\u683c\u5f0f\u6a21\u5f0f",children:"\u4e3b\u9898\uff08topic\uff09\u683c\u5f0f\u6a21\u5f0f"}),"\n",(0,i.jsx)(n.p,{children:"\u9002\u914d\u5668\u4f7f\u7528\u573a\u9986\u7279\u5b9a\u7684\u5206\u9694\u7b26\u6765\u6784\u9020\u8ba2\u9605\u4e3b\u9898\uff1a"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Adapter"}),(0,i.jsx)(n.th,{children:"Delimiter"}),(0,i.jsx)(n.th,{children:"Example"}),(0,i.jsx)(n.th,{children:"Pattern"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"BitMEX"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"trade:XBTUSD"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{channel}:{symbol}"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"OKX"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:":"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"trades:BTC-USDT-SWAP"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{channel}:{symbol}"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.strong,{children:"Bybit"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"."})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"orderbook.50.BTCUSDT"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{channel}.{depth}.{symbol}"})})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["\u7528 ",(0,i.jsx)(n.code,{children:"split_once()"})," \u6309\u76f8\u5e94\u5206\u9694\u7b26\u62c6\u5206\u4ee5\u63d0\u53d6 channel \u4e0e symbol\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"\u91cd\u8fde\u903b\u8f91",children:"\u91cd\u8fde\u903b\u8f91"}),"\n",(0,i.jsx)(n.p,{children:"\u91cd\u8fde\u65f6\u6062\u590d\u8ba4\u8bc1\u4e0e\u516c\u5171\u8ba2\u9605\uff0c\u4f46\u8df3\u8fc7\u90a3\u4e9b\u5728\u65ad\u5f00\u524d\u663e\u5f0f\u53d6\u6d88\u7684\u79c1\u6709\u901a\u9053\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"pingpong-\u5904\u7406",children:"Ping/Pong \u5904\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u65e2\u8981\u652f\u6301\u63a7\u5236\u5e27\uff08control-frame\uff09\u7ea7\u522b\u7684 ping\uff0c\u4e5f\u8981\u652f\u6301\u5e94\u7528\u5c42\u7684 ping\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u6d88\u606f\u8def\u7531",children:"\u6d88\u606f\u8def\u7531"}),"\n",(0,i.jsx)(n.p,{children:"\u5c06\u4e0d\u540c\u7c7b\u578b\u7684\u6d88\u606f\u8def\u7531\u5230\u5bf9\u5e94\u7684\u5904\u7406\u5668\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u5bf9\u9519\u8bef\u8fdb\u884c\u5206\u7c7b\u4ee5\u51b3\u5b9a\u662f\u5426\u91cd\u8fde\u6216\u91cd\u8bd5\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rust",children:'#[derive(Debug, thiserror::Error)]\npub enum WebSocketError {\n    #[error("Connection failed: {0}")]\n    ConnectionFailed(String),\n\n    #[error("Authentication failed: {0}")]\n    AuthenticationFailed(String),\n\n    #[error("Subscription failed: {0}")]\n    SubscriptionFailed(String),\n\n    #[error("Message parse error: {0}")]\n    ParseError(String),\n}\n\nimpl MyWebSocketClient {\n    fn should_reconnect(&self, error: &WebSocketError) -> bool {\n        matches!(\n            error,\n            WebSocketError::ConnectionFailed(_)\n        )\n    }\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"\u573a\u9986\u8d1f\u8f7d\u5efa\u6a21modeling-venue-payloads",children:"\u573a\u9986\u8d1f\u8f7d\u5efa\u6a21\uff08Modeling venue payloads\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u5c06\u4e0a\u6e38\u67b6\u6784\u6620\u5c04\u5230 Rust \u65f6\u5efa\u8bae\u9075\u5faa\u4ee5\u4e0b\u7ea6\u5b9a\u3002"}),"\n",(0,i.jsxs)(n.h3,{id:"rest-\u6a21\u578bhttpmodels-\u548c-httpquery",children:["REST \u6a21\u578b\uff08",(0,i.jsx)(n.code,{children:"http::models"})," \u548c ",(0,i.jsx)(n.code,{children:"http::query"}),"\uff09"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u628a\u8bf7\u6c42\u4e0e\u54cd\u5e94\u7684\u8868\u793a\u653e\u5728 ",(0,i.jsx)(n.code,{children:"src/http/models.rs"})," \u5e76\u6d3e\u751f ",(0,i.jsx)(n.code,{children:"serde::Deserialize"}),"\uff08\u5f53\u9002\u914d\u5668\u9700\u8981\u5411\u573a\u9986\u53d1\u9001\u6570\u636e\u65f6\u518d\u6dfb\u52a0 ",(0,i.jsx)(n.code,{children:"serde::Serialize"}),"\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u4f7f\u7528\u6574\u4f53\u7684\u5927\u5c0f\u5199\u91cd\u547d\u540d\u5c5e\u6027\uff08\u5982 ",(0,i.jsx)(n.code,{children:'#[serde(rename_all = "camelCase")]'})," \u6216 ",(0,i.jsx)(n.code,{children:'#[serde(rename_all = "snake_case")]'}),"\uff09\u4ee5\u5339\u914d\u4e0a\u6e38\u5b57\u6bb5\u540d\uff1b\u53ea\u6709\u5728\u4e0a\u6e38\u952e\u4e3a\u975e\u6cd5 Rust \u6807\u8bc6\u7b26\u6216\u4e0e\u5173\u952e\u5b57\u51b2\u7a81\u65f6\u624d\u5bf9\u5355\u4e2a\u5b57\u6bb5\u91cd\u547d\u540d\uff08\u4f8b\u5982 ",(0,i.jsx)(n.code,{children:'#[serde(rename = "type")] pub order_type: String'}),"\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u628a\u67e5\u8be2\u53c2\u6570\u7684\u8f85\u52a9\u7ed3\u6784\u653e\u5728 ",(0,i.jsx)(n.code,{children:"src/http/query.rs"})," \u5e76\u6d3e\u751f ",(0,i.jsx)(n.code,{children:"serde::Serialize"}),"\uff0c\u590d\u7528 ",(0,i.jsx)(n.code,{children:"common::consts"})," \u4e2d\u7684\u5e38\u91cf\u4ee5\u907f\u514d\u91cd\u590d\u5b57\u9762\u91cf\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"websocket-\u6d88\u606fwebsocketmessages",children:["WebSocket \u6d88\u606f\uff08",(0,i.jsx)(n.code,{children:"websocket::messages"}),"\uff09"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"src/websocket/messages.rs"})," \u4e2d\u4e3a\u6d41\u5f0f\u8d1f\u8f7d\u5b9a\u4e49\u7c7b\u578b\uff0c\u4e3a\u6bcf\u4e2a\u573a\u9986\u4e3b\u9898\u521b\u5efa\u4e0e\u4e0a\u6e38 JSON \u5bf9\u5e94\u7684 struct \u6216 enum\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5bf9\u547d\u540d\u7684\u5904\u7406\u6cbf\u7528 REST \u7684\u6307\u5bfc\uff1a\u5c3d\u91cf\u4f7f\u7528\u6574\u4f53\u91cd\u547d\u540d\u89c4\u5219\u5e76\u4fdd\u6301\u5b57\u6bb5\u540d\u4e0e\u4e0a\u6e38\u4e00\u81f4\uff0c\u5fc5\u8981\u65f6\u4f7f\u7528 serde \u7684 ",(0,i.jsx)(n.code,{children:'#[serde(tag = "op")]'})," \u6216 ",(0,i.jsx)(n.code,{children:"#[serde(flatten)]"})," \u7b49\u8f85\u52a9\u6ce8\u89e3\uff0c\u5e76\u5728\u6587\u6863\u4e2d\u8bf4\u660e\u9009\u62e9\u7406\u7531\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5bf9\u6709\u610f\u504f\u79bb\u4e0a\u6e38\u6a21\u5f0f\u7684\u6620\u5c04\uff0c\u5728\u4ee3\u7801\u6ce8\u91ca\u4e0e\u6a21\u5757\u6587\u6863\u4e2d\u8bf4\u660e\uff0c\u4ee5\u4fbf\u8d21\u732e\u8005\u5feb\u901f\u7406\u89e3\u6620\u5c04\u89c4\u5219\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\u6d4b\u8bd5",children:"\u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.p,{children:"\u9002\u914d\u5668\u5e94\u63d0\u4f9b\u4e24\u5c42\u6d4b\u8bd5\u8986\u76d6\uff1aRust \u7aef\u4e0e\u66b4\u9732\u7ed9\u5e73\u53f0\u7684 Python glue\u3002\u4fdd\u8bc1\u6d4b\u8bd5\u5957\u4ef6\u786e\u5b9a\u6027\u5e76\u4e0e\u88ab\u4fdd\u62a4\u7684\u751f\u4ea7\u4ee3\u7801\u7d27\u5bc6\u653e\u7f6e\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"rust-\u6d4b\u8bd5",children:"Rust \u6d4b\u8bd5"}),"\n",(0,i.jsx)(n.h4,{id:"\u9879\u76ee\u5e03\u5c40\u793a\u4f8b",children:"\u9879\u76ee\u5e03\u5c40\u793a\u4f8b"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tree",children:"crates/adapters/your_adapter/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 http/\n\u2502   \u2502   \u251c\u2500\u2500 client.rs      # HTTP client + unit tests\n\u2502   \u2502   \u2514\u2500\u2500 parse.rs       # REST payload parsers + unit tests\n\u2502   \u2514\u2500\u2500 websocket/\n\u2502       \u251c\u2500\u2500 client.rs      # WebSocket client + unit tests\n\u2502       \u2514\u2500\u2500 parse.rs       # Streaming parsers + unit tests\n\u251c\u2500\u2500 tests/\n\u2502   \u251c\u2500\u2500 http.rs            # Mock HTTP integration tests\n\u2502   \u2514\u2500\u2500 websocket.rs       # Mock WebSocket integration tests\n\u2514\u2500\u2500 test_data/             # \u7528\u4e8e\u6d4b\u8bd5\u5957\u4ef6\u7684\u4e0a\u6e38\u8d1f\u8f7d\u6837\u672c\n    \u251c\u2500\u2500 http_get_{endpoint}.json  # \u542b retCode/result/time \u7684\u5b8c\u6574\u573a\u9986\u54cd\u5e94\n    \u2514\u2500\u2500 ws_{message_type}.json    # WebSocket \u6d88\u606f\u6837\u672c\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u628a\u5355\u5143\u6d4b\u8bd5\u653e\u5728\u5176\u6240\u5728\u6a21\u5757\u65c1\uff08",(0,i.jsx)(n.code,{children:"#[cfg(test)]"})," \u5757\uff09\u3002\u5bf9\u4e8e\u5171\u4eab fixtures\uff0c\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"src/common/testing.rs"}),"\uff08\u6216\u7b49\u6548\u6a21\u5757\uff09\uff0c\u4fdd\u6301\u751f\u4ea7\u4ee3\u7801\u6e05\u723d\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u628a\u57fa\u4e8e Axum \u7684\u96c6\u6210\u6d4b\u8bd5\u653e\u5728 ",(0,i.jsx)(n.code,{children:"crates/adapters/<adapter>/tests/"}),"\uff0c\u8986\u76d6\u516c\u5171 API\uff08HTTP client\u3001WebSocket client\u3001\u7f13\u5b58\u3001\u91cd\u8fde\u6d41\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5c06\u4e0a\u6e38\u8d1f\u8f7d\u6837\u672c\u5b58\u653e\u5728 ",(0,i.jsx)(n.code,{children:"test_data/"})," \u5e76\u5728\u5355\u5143\u548c\u96c6\u6210\u6d4b\u8bd5\u4e2d\u590d\u7528\u3002\u6d4b\u8bd5\u6570\u636e\u547d\u540d\u5e94\u4e00\u81f4\uff1aREST \u54cd\u5e94\u7528 ",(0,i.jsx)(n.code,{children:"http_get_{endpoint_name}.json"}),"\uff0cWebSocket \u7528 ",(0,i.jsx)(n.code,{children:"ws_{message_type}.json"}),"\u3002\u6837\u672c\u5e94\u5305\u542b\u5b8c\u6574\u7684\u54cd\u5e94\u5305\uff08\u72b6\u6001\u7801\u3001\u65f6\u95f4\u6233\u3001\u7ed3\u679c\u5305\u88c5\uff09\uff0c\u5e76\u63d0\u4f9b\u591a\u4e2a\u73b0\u5b9e\u4f8b\u5b50\u4ee5\u8986\u76d6\u89e3\u6790\u5206\u652f\uff0c\u4f8b\u5982 position \u6570\u636e\u5e94\u5305\u542b long\u3001short \u4e0e flat \u7684\u6848\u4f8b\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u5355\u5143\u6d4b\u8bd5",children:"\u5355\u5143\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5173\u6ce8\u7eaf\u903b\u8f91\uff1a\u89e3\u6790\u5668\u3001\u7b7e\u540d\u8f85\u52a9\u3001\u89c4\u8303\u5316\u5668\u4e0e\u4e0d\u4f9d\u8d56\u5b9e\u65f6\u4f20\u8f93\u7684\u4e1a\u52a1\u89c4\u5219\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u907f\u514d\u91cd\u590d\u8986\u76d6\u90a3\u4e9b\u5df2\u7531\u96c6\u6210\u6d4b\u8bd5\u4fdd\u8bc1\u7684\u884c\u4e3a\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"\u96c6\u6210\u6d4b\u8bd5",children:"\u96c6\u6210\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(n.p,{children:["\u4f7f\u7528 Axum mock server \u9a8c\u8bc1\u5bf9\u5916\u516c\u5171 API\u3002\u81f3\u5c11\u53c2\u8003 BitMEX \u7684\u6d4b\u8bd5\u8986\u76d6\uff08\u89c1 ",(0,i.jsx)(n.code,{children:"crates/adapters/bitmex/tests/"}),"\uff09\uff0c\u786e\u4fdd\u6bcf\u4e2a\u9002\u914d\u5668\u9a8c\u8bc1\u76f8\u540c\u7684\u884c\u4e3a\u96c6\u3002"]}),"\n",(0,i.jsx)(n.h5,{id:"http-\u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",children:"HTTP \u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Happy paths\uff08\u6b63\u5e38\u8def\u5f84\uff09\u2014 \u83b7\u53d6\u4ee3\u8868\u6027\u516c\u5f00\u8d44\u6e90\uff08\u5982 instruments \u6216 mark price\uff09\uff0c\u5e76\u65ad\u8a00\u5176\u88ab\u6b63\u786e\u8f6c\u6362\u4e3a Nautilus \u7684\u9886\u57df\u6a21\u578b\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Credential guard\uff08\u51ed\u8bc1\u4fdd\u62a4\uff09\u2014 \u65e0\u51ed\u8bc1\u8c03\u7528\u79c1\u6709\u7aef\u70b9\u5e76\u65ad\u8a00\u8fd4\u56de\u7ed3\u6784\u5316\u9519\u8bef\uff1b\u518d\u5e26\u51ed\u8bc1\u8c03\u7528\u4ee5\u8bc1\u660e\u6210\u529f\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u901f\u7387\u9650\u5236 / \u91cd\u8bd5\u6620\u5c04 \u2014 \u6a21\u62df\u573a\u9986\u7684\u901f\u7387\u9650\u5236\u54cd\u5e94\u5e76\u65ad\u8a00\u9002\u914d\u5668\u6620\u5c04\u4e3a\u6b63\u786e\u7684\u9519\u8bef\u53d8\u4f53\uff08\u5982 ",(0,i.jsx)(n.code,{children:"OkxError"})," / ",(0,i.jsx)(n.code,{children:"BitmexHttpError"}),"\uff09\uff0c\u4ee5\u4fbf\u91cd\u8bd5\u7b56\u7565\u505a\u51fa\u54cd\u5e94\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["Query builders \u2014 \u6d4b\u8bd5\u5206\u9875 / \u6309\u65f6\u95f4\u67e5\u8be2\u7684\u6784\u9020\u5668\uff08\u5386\u53f2\u6210\u4ea4\u3001K \u7ebf\uff09\uff0c\u65ad\u8a00\u751f\u6210\u7684\u67e5\u8be2\u5b57\u7b26\u4e32\u7b26\u5408\u573a\u9986\u89c4\u8303\uff08",(0,i.jsx)(n.code,{children:"after"}),"\u3001",(0,i.jsx)(n.code,{children:"before"}),"\u3001",(0,i.jsx)(n.code,{children:"limit"})," \u7b49\uff09\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"Error translation \u2014 \u9a8c\u8bc1\u975e 2xx \u7684\u4e0a\u6e38\u54cd\u5e94\u88ab\u6620\u5c04\u4e3a\u9002\u914d\u5668\u9519\u8bef\u679a\u4e3e\u5e76\u9644\u5e26\u539f\u59cb code/message\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h5,{id:"websocket-\u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9",children:"WebSocket \u5ba2\u6237\u7aef\u96c6\u6210\u6d4b\u8bd5\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Login handshake \u2014 \u65ad\u8a00\u6210\u529f\u767b\u5f55\u4f1a\u5207\u6362\u5185\u90e8\u8ba4\u8bc1\u72b6\u6001\uff0c\u5e76\u6d4b\u8bd5\u670d\u52a1\u5668\u8fd4\u56de\u975e\u96f6 code \u7684\u5931\u8d25\u573a\u666f\uff1b\u5ba2\u6237\u7aef\u5e94\u629b\u51fa\u9519\u8bef\u5e76\u907f\u514d\u5c06\u81ea\u5df1\u6807\u8bb0\u4e3a\u5df2\u8ba4\u8bc1\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Ping/Pong \u2014 \u9a8c\u8bc1\u6587\u672c\u578b\u4e0e\u63a7\u5236\u5e27 ping \u90fd\u80fd\u89e6\u53d1\u5373\u65f6 pong\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Subscription lifecycle \u2014 \u65ad\u8a00 public/private \u901a\u9053\u7684\u8ba2\u9605\u8bf7\u6c42/ack \u88ab\u6b63\u786e\u53d1\u9001\u4e0e\u63a5\u6536\uff0c\u4e14\u53d6\u6d88\u8ba2\u9605\u4f1a\u4ece\u7f13\u5b58\u96c6\u5408\u4e2d\u79fb\u9664\u6761\u76ee\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Reconnect behaviour \u2014 \u6a21\u62df\u65ad\u8fde\u5e76\u9a8c\u8bc1\u5ba2\u6237\u7aef\u80fd\u91cd\u65b0\u8ba4\u8bc1\u3001\u6062\u590d\u516c\u5171\u901a\u9053\uff0c\u5e76\u8df3\u8fc7\u5728\u65ad\u5f00\u524d\u5df2\u663e\u5f0f\u53d6\u6d88\u7684\u79c1\u6709\u901a\u9053\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Message routing \u2014 \u5411 socket \u6ce8\u5165\u4ee3\u8868\u6027\u7684\u6570\u636e/ack/error \u8d1f\u8f7d\uff0c\u5e76\u65ad\u8a00\u5176\u5728 public stream \u4e0a\u4ee5\u6b63\u786e\u7684 ",(0,i.jsx)(n.code,{children:"NautilusWsMessage"})," \u53d8\u4f53\u51fa\u73b0\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Quota tagging \u2014 \uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u8ba2\u5355/\u64a4\u5355/\u6539\u5355\u7b49\u64cd\u4f5c\u5e26\u4e0a\u5408\u9002\u7684\u914d\u989d\u6807\u7b7e\uff0c\u4ee5\u4fbf\u5728\u8ba2\u9605\u6d41\u91cf\u4e4b\u5916\u5bf9\u901f\u7387\u9650\u5236\u8fdb\u884c\u72ec\u7acb\u7ba1\u63a7\u3002"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["\u4f18\u5148\u4f7f\u7528\u4e8b\u4ef6\u9a71\u52a8\u7684\u65ad\u8a00\u4e0e\u5171\u4eab\u72b6\u6001\uff08\u4f8b\u5982\u6536\u96c6 ",(0,i.jsx)(n.code,{children:"subscription_events"}),"\u3001\u8ddf\u8e2a pending/confirmed \u8bdd\u9898\u3001\u7b49\u5f85 ",(0,i.jsx)(n.code,{children:"connection_count"})," \u7684\u72b6\u6001\u53d8\u5316\uff09\uff0c\u800c\u4e0d\u662f\u4efb\u610f\u7684 sleep \u8c03\u7528\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:'\u4f7f\u7528\u9002\u914d\u5668\u7279\u6709\u7684\u8f85\u52a9\u5de5\u5177\u6765\u7b49\u5f85\u663e\u5f0f\u4fe1\u53f7\uff08\u5982 "auth confirmed" \u6216 "reconnection finished"\uff09\uff0c\u4ee5\u4fdd\u6301\u6d4b\u8bd5\u5728\u9ad8\u5e76\u53d1\u4e0b\u7684\u786e\u5b9a\u6027\u3002'}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"python-\u5c42\u6d4b\u8bd5",children:"Python \u5c42\u6d4b\u8bd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5728 ",(0,i.jsx)(n.code,{children:"tests/integration_tests/adapters/<adapter>/"})," \u4e2d\u5bf9\u9002\u914d\u5668\u7684 Python \u8868\u9762\uff08instrument providers\u3001data/execution clients\u3001factories\uff09\u8fdb\u884c\u6d4b\u8bd5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5728\u6d4b\u8bd5\u4e2d mock PyO3 \u8fb9\u754c\uff08",(0,i.jsx)(n.code,{children:"nautilus_pyo3"})," shim\u3001stubbed Rust clients\uff09\uff0c\u4ee5\u4fdd\u8bc1\u6d4b\u8bd5\u901f\u5ea6\u540c\u65f6\u9a8c\u8bc1\u914d\u7f6e\u3001factory \u8fde\u63a5\u4e0e\u9519\u8bef\u5904\u7406\u4e0e\u5bfc\u51fa\u7684 Rust API \u4e00\u81f4\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5bf9\u6807 Rust \u7684\u96c6\u6210\u8986\u76d6\uff1a\u5f53 Rust \u7aef\u5f15\u5165\u65b0\u884c\u4e3a\uff08\u4f8b\u5982\u91cd\u8fde\u56de\u653e\u3001\u9519\u8bef\u4f20\u64ad\uff09\u65f6\uff0c\u65ad\u8a00 Python \u5c42\u6267\u884c\u76f8\u540c\u7684\u5e8f\u5217\uff08\u8fde\u63a5/\u65ad\u5f00\u3001\u63d0\u4ea4/\u6539/\u64a4\u5355\u7684\u7ffb\u8bd1\u3001\u573a\u9986 ID \u7684\u4f20\u9012\u3001\u5931\u8d25\u5904\u7406\uff09\u3002BitMEX \u7684 Python \u6d4b\u8bd5\u662f\u53ef\u53c2\u8003\u7684\u76ee\u6807\u7ea7\u522b\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"python-\u9002\u914d\u5668\u5c42\u5b9e\u73b0\u6307\u5357\u6a21\u677f",children:"Python \u9002\u914d\u5668\u5c42\u5b9e\u73b0\u6307\u5357\uff08\u6a21\u677f\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u4e0b\u9762\u7ed9\u51fa\u4f7f\u7528\u6a21\u677f\u4e3a\u65b0\u6570\u636e\u63d0\u4f9b\u65b9\u6784\u5efa\u9002\u914d\u5668\u7684\u5206\u6b65\u6307\u5357\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"instrumentprovider",children:"InstrumentProvider"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"InstrumentProvider"})," \u8d1f\u8d23\u63d0\u4f9b\u573a\u9986\u53ef\u7528\u7684 instrument \u5b9a\u4e49\uff0c\u5305\u62ec\u52a0\u8f7d\u5168\u90e8 instrument\u3001\u6309 ID \u52a0\u8f7d\u7279\u5b9a instrument\uff0c\u4ee5\u53ca\u5bf9 instrument \u5217\u8868\u5e94\u7528\u8fc7\u6ee4\u5668\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.common.providers import InstrumentProvider\nfrom nautilus_trader.model import InstrumentId\n\n\nclass TemplateInstrumentProvider(InstrumentProvider):\n    """\u793a\u4f8b `InstrumentProvider`\uff0c\u5c55\u793a\u5b8c\u6210\u96c6\u6210\u6240\u9700\u7684\u6700\u5c0f\u8986\u76d6\u65b9\u6cd5\u3002"""\n\n    async def load_all_async(self, filters: dict | None = None) -> None:\n        raise NotImplementedError("implement `load_all_async` in your adapter subclass")\n\n    async def load_ids_async(self, instrument_ids: list[InstrumentId], filters: dict | None = None) -> None:\n        raise NotImplementedError("implement `load_ids_async` in your adapter subclass")\n\n    async def load_async(self, instrument_id: InstrumentId, filters: dict | None = None) -> None:\n        raise NotImplementedError("implement `load_async` in your adapter subclass")\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"load_all_async"}),"\uff1a\u5f02\u6b65\u52a0\u8f7d\u5168\u90e8 instruments\uff0c\u53ef\u9009\u5730\u5e94\u7528\u8fc7\u6ee4\u6761\u4ef6\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"load_ids_async"}),"\uff1a\u6309 ID \u52a0\u8f7d\u6307\u5b9a\u7684 instruments\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"load_async"}),"\uff1a\u6309 ID \u52a0\u8f7d\u5355\u4e2a instrument\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"dataclient",children:"DataClient"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"LiveDataClient"})," \u5904\u7406\u4e0e\u5e02\u573a\u6570\u636e\u975e\u76f4\u63a5\u76f8\u5173\u7684\u6570\u636e\u8ba2\u9605\u4e0e\u7ba1\u7406\uff0c\u4f8b\u5982\u65b0\u95fb\u6d41\u3001\u5b9a\u5236\u6570\u636e\u6d41\u6216\u5176\u5b83\u80fd\u589e\u5f3a\u7b56\u7565\u4f46\u4e0d\u76f4\u63a5\u4ee3\u8868\u5e02\u573a\u6d3b\u52a8\u7684\u6570\u636e\u6e90\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.data.messages import RequestData\nfrom nautilus_trader.data.messages import SubscribeData\nfrom nautilus_trader.data.messages import UnsubscribeData\nfrom nautilus_trader.live.data_client import LiveDataClient\nfrom nautilus_trader.model import DataType\n\n\nclass TemplateLiveDataClient(LiveDataClient):\n    """\u793a\u4f8b `LiveDataClient`\uff0c\u5c55\u793a\u53ef\u8986\u76d6\u7684\u62bd\u8c61\u65b9\u6cd5\u3002"""\n\n    async def _connect(self) -> None:\n        raise NotImplementedError("implement `_connect` in your adapter subclass")\n\n    async def _disconnect(self) -> None:\n        raise NotImplementedError("implement `_disconnect` in your adapter subclass")\n\n    async def _subscribe(self, command: SubscribeData) -> None:\n        raise NotImplementedError("implement `_subscribe` in your adapter subclass")\n\n    async def _unsubscribe(self, command: UnsubscribeData) -> None:\n        raise NotImplementedError("implement `_unsubscribe` in your adapter subclass")\n\n    async def _request(self, request: RequestData) -> None:\n        raise NotImplementedError("implement `_request` in your adapter subclass")\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_connect"}),"\uff1a\u5efa\u7acb\u4e0e\u6570\u636e\u63d0\u4f9b\u65b9\u7684\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_disconnect"}),"\uff1a\u5173\u95ed\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe"}),"\uff1a\u8ba2\u9605\u7279\u5b9a\u6570\u636e\u7c7b\u578b\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe"}),"\uff1a\u53d6\u6d88\u8ba2\u9605\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request"}),"\uff1a\u5411\u63d0\u4f9b\u65b9\u8bf7\u6c42\u6570\u636e\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"marketdataclient",children:"MarketDataClient"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"MarketDataClient"})," \u5904\u7406\u5e02\u573a\u76f8\u5173\u7684\u6570\u636e\uff0c\u5982 order book\u3001top-of-book \u62a5\u4ef7\u4e0e\u6210\u4ea4\u3001\u4ee5\u53ca instrument \u7684\u72b6\u6001\u66f4\u65b0\uff0c\u5173\u6ce8\u5386\u53f2\u4e0e\u5b9e\u65f6\u6570\u636e\u4f9b\u4ea4\u6613\u6240\u9700\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.data.messages import RequestBars\nfrom nautilus_trader.data.messages import RequestData\nfrom nautilus_trader.data.messages import RequestInstrument\nfrom nautilus_trader.data.messages import RequestInstruments\nfrom nautilus_trader.data.messages import RequestOrderBookSnapshot\nfrom nautilus_trader.data.messages import RequestQuoteTicks\nfrom nautilus_trader.data.messages import RequestTradeTicks\nfrom nautilus_trader.data.messages import SubscribeBars\nfrom nautilus_trader.data.messages import SubscribeData\nfrom nautilus_trader.data.messages import SubscribeFundingRates\nfrom nautilus_trader.data.messages import SubscribeIndexPrices\nfrom nautilus_trader.data.messages import SubscribeInstrument\nfrom nautilus_trader.data.messages import SubscribeInstrumentClose\nfrom nautilus_trader.data.messages import SubscribeInstruments\nfrom nautilus_trader.data.messages import SubscribeInstrumentStatus\nfrom nautilus_trader.data.messages import SubscribeMarkPrices\nfrom nautilus_trader.data.messages import SubscribeOrderBook\nfrom nautilus_trader.data.messages import SubscribeQuoteTicks\nfrom nautilus_trader.data.messages import SubscribeTradeTicks\nfrom nautilus_trader.data.messages import UnsubscribeBars\nfrom nautilus_trader.data.messages import UnsubscribeData\nfrom nautilus_trader.data.messages import UnsubscribeFundingRates\nfrom nautilus_trader.data.messages import UnsubscribeIndexPrices\nfrom nautilus_trader.data.messages import UnsubscribeInstrument\nfrom nautilus_trader.data.messages import UnsubscribeInstrumentClose\nfrom nautilus_trader.data.messages import UnsubscribeInstruments\nfrom nautilus_trader.data.messages import UnsubscribeInstrumentStatus\nfrom nautilus_trader.data.messages import UnsubscribeMarkPrices\nfrom nautilus_trader.data.messages import UnsubscribeOrderBook\nfrom nautilus_trader.data.messages import UnsubscribeQuoteTicks\nfrom nautilus_trader.data.messages import UnsubscribeTradeTicks\nfrom nautilus_trader.live.data_client import LiveMarketDataClient\n\n\nclass TemplateLiveMarketDataClient(LiveMarketDataClient):\n    """\u793a\u4f8b `LiveMarketDataClient`\uff0c\u5c55\u793a\u53ef\u8986\u76d6\u7684\u62bd\u8c61\u65b9\u6cd5\u3002"""\n\n    async def _connect(self) -> None:\n        raise NotImplementedError("implement `_connect` in your adapter subclass")\n\n    async def _disconnect(self) -> None:\n        raise NotImplementedError("implement `_disconnect` in your adapter subclass")\n\n    async def _subscribe(self, command: SubscribeData) -> None:\n        raise NotImplementedError("implement `_subscribe` in your adapter subclass")\n\n    async def _unsubscribe(self, command: UnsubscribeData) -> None:\n        raise NotImplementedError("implement `_unsubscribe` in your adapter subclass")\n\n    async def _request(self, request: RequestData) -> None:\n        raise NotImplementedError("implement `_request` in your adapter subclass")\n\n    async def _subscribe_instruments(self, command: SubscribeInstruments) -> None:\n        raise NotImplementedError("implement `_subscribe_instruments` in your adapter subclass")\n\n    async def _unsubscribe_instruments(self, command: UnsubscribeInstruments) -> None:\n        raise NotImplementedError("implement `_unsubscribe_instruments` in your adapter subclass")\n\n    async def _subscribe_instrument(self, command: SubscribeInstrument) -> None:\n        raise NotImplementedError("implement `_subscribe_instrument` in your adapter subclass")\n\n    async def _unsubscribe_instrument(self, command: UnsubscribeInstrument) -> None:\n        raise NotImplementedError("implement `_unsubscribe_instrument` in your adapter subclass")\n\n    async def _subscribe_order_book_deltas(self, command: SubscribeOrderBook) -> None:\n        raise NotImplementedError("implement `_subscribe_order_book_deltas` in your adapter subclass")\n\n    async def _unsubscribe_order_book_deltas(self, command: UnsubscribeOrderBook) -> None:\n        raise NotImplementedError("implement `_unsubscribe_order_book_deltas` in your adapter subclass")\n\n    async def _subscribe_order_book_snapshots(self, command: SubscribeOrderBook) -> None:\n        raise NotImplementedError("implement `_subscribe_order_book_snapshots` in your adapter subclass")\n\n    async def _unsubscribe_order_book_snapshots(self, command: UnsubscribeOrderBook) -> None:\n        raise NotImplementedError("implement `_unsubscribe_order_book_snapshots` in your adapter subclass")\n\n    async def _subscribe_quote_ticks(self, command: SubscribeQuoteTicks) -> None:\n        raise NotImplementedError("implement `_subscribe_quote_ticks` in your adapter subclass")\n\n    async def _unsubscribe_quote_ticks(self, command: UnsubscribeQuoteTicks) -> None:\n        raise NotImplementedError("implement `_unsubscribe_quote_ticks` in your adapter subclass")\n\n    async def _subscribe_trade_ticks(self, command: SubscribeTradeTicks) -> None:\n        raise NotImplementedError("implement `_subscribe_trade_ticks` in your adapter subclass")\n\n    async def _unsubscribe_trade_ticks(self, command: UnsubscribeTradeTicks) -> None:\n        raise NotImplementedError("implement `_unsubscribe_trade_ticks` in your adapter subclass")\n\n    async def _subscribe_mark_prices(self, command: SubscribeMarkPrices) -> None:\n        raise NotImplementedError("implement `_subscribe_mark_prices` in your adapter subclass")\n\n    async def _unsubscribe_mark_prices(self, command: UnsubscribeMarkPrices) -> None:\n        raise NotImplementedError("implement `_unsubscribe_mark_prices` in your adapter subclass")\n\n    async def _subscribe_index_prices(self, command: SubscribeIndexPrices) -> None:\n        raise NotImplementedError("implement `_subscribe_index_prices` in your adapter subclass")\n\n    async def _unsubscribe_index_prices(self, command: UnsubscribeIndexPrices) -> None:\n        raise NotImplementedError("implement `_unsubscribe_index_prices` in your adapter subclass")\n\n    async def _subscribe_funding_rates(self, command: SubscribeFundingRates) -> None:\n        raise NotImplementedError("implement `_subscribe_funding_rates` in your adapter subclass")\n\n    async def _unsubscribe_funding_rates(self, command: UnsubscribeFundingRates) -> None:\n        raise NotImplementedError("implement `_unsubscribe_funding_rates` in your adapter subclass")\n\n    async def _subscribe_bars(self, command: SubscribeBars) -> None:\n        raise NotImplementedError("implement `_subscribe_bars` in your adapter subclass")\n\n    async def _unsubscribe_bars(self, command: UnsubscribeBars) -> None:\n        raise NotImplementedError("implement `_unsubscribe_bars` in your adapter subclass")\n\n    async def _subscribe_instrument_status(self, command: SubscribeInstrumentStatus) -> None:\n        raise NotImplementedError("implement `_subscribe_instrument_status` in your adapter subclass")\n\n    async def _unsubscribe_instrument_status(self, command: UnsubscribeInstrumentStatus) -> None:\n        raise NotImplementedError("implement `_unsubscribe_instrument_status` in your adapter subclass")\n\n    async def _subscribe_instrument_close(self, command: SubscribeInstrumentClose) -> None:\n        raise NotImplementedError("implement `_subscribe_instrument_close` in your adapter subclass")\n\n    async def _unsubscribe_instrument_close(self, command: UnsubscribeInstrumentClose) -> None:\n        raise NotImplementedError("implement `_unsubscribe_instrument_close` in your adapter subclass")\n\n    async def _request_instrument(self, request: RequestInstrument) -> None:\n        raise NotImplementedError("implement `_request_instrument` in your adapter subclass")\n\n    async def _request_instruments(self, request: RequestInstruments) -> None:\n        raise NotImplementedError("implement `_request_instruments` in your adapter subclass")\n\n    async def _request_quote_ticks(self, request: RequestQuoteTicks) -> None:\n        raise NotImplementedError("implement `_request_quote_ticks` in your adapter subclass")\n\n    async def _request_trade_ticks(self, request: RequestTradeTicks) -> None:\n        raise NotImplementedError("implement `_request_trade_ticks` in your adapter subclass")\n\n    async def _request_bars(self, request: RequestBars) -> None:\n        raise NotImplementedError("implement `_request_bars` in your adapter subclass")\n\n    async def _request_order_book_snapshot(self, request: RequestOrderBookSnapshot) -> None:\n        raise NotImplementedError("implement `_request_order_book_snapshot` in your adapter subclass")\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_connect"}),"\uff1a\u5efa\u7acb\u4e0e\u573a\u9986 API \u7684\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_disconnect"}),"\uff1a\u5173\u95ed\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe"}),"\uff1a\u8ba2\u9605\u901a\u7528\u6570\u636e\uff08\u4e3a\u81ea\u5b9a\u4e49\u6570\u636e\u7c7b\u578b\u63d0\u4f9b\u57fa\u7c7b\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe"}),"\uff1a\u53d6\u6d88\u8ba2\u9605\u901a\u7528\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request"}),"\uff1a\u8bf7\u6c42\u901a\u7528\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_instruments"}),"\uff1a\u8ba2\u9605\u591a instrument \u7684\u5e02\u573a\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_instruments"}),"\uff1a\u53d6\u6d88\u8ba2\u9605\u591a instrument \u7684\u5e02\u573a\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_instrument"}),"\uff1a\u8ba2\u9605\u5355\u4e2a instrument \u7684\u5e02\u573a\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_instrument"}),"\uff1a\u53d6\u6d88\u8ba2\u9605\u5355\u4e2a instrument \u7684\u5e02\u573a\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_order_book_deltas"}),"\uff1a\u8ba2\u9605 order book \u5dee\u5206\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_order_book_deltas"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 order book \u5dee\u5206\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_order_book_snapshots"}),"\uff1a\u8ba2\u9605 order book \u5feb\u7167\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_order_book_snapshots"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 order book \u5feb\u7167\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_quote_ticks"}),"\uff1a\u8ba2\u9605 top-of-book \u62a5\u4ef7\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_quote_ticks"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 quote tick \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_trade_ticks"}),"\uff1a\u8ba2\u9605 trade tick \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_trade_ticks"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 trade tick \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_mark_prices"}),"\uff1a\u8ba2\u9605 mark price \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_mark_prices"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 mark price \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_index_prices"}),"\uff1a\u8ba2\u9605 index price \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_index_prices"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 index price \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_funding_rates"}),"\uff1a\u8ba2\u9605 funding rate \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_funding_rates"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 funding rate \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_bars"}),"\uff1a\u8ba2\u9605 K \u7ebf / bars \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_bars"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 bars \u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_instrument_status"}),"\uff1a\u8ba2\u9605 instrument \u72b6\u6001\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_instrument_status"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 instrument \u72b6\u6001\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_subscribe_instrument_close"}),"\uff1a\u8ba2\u9605 instrument \u6536\u76d8\u4ef7\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_unsubscribe_instrument_close"}),"\uff1a\u53d6\u6d88\u8ba2\u9605 instrument \u6536\u76d8\u4ef7\u66f4\u65b0\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_instrument"}),"\uff1a\u8bf7\u6c42\u5355\u4e2a instrument \u7684\u5386\u53f2\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_instruments"}),"\uff1a\u8bf7\u6c42\u591a\u4e2a instrument \u7684\u5386\u53f2\u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_quote_ticks"}),"\uff1a\u8bf7\u6c42\u5386\u53f2 quote tick \u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_trade_ticks"}),"\uff1a\u8bf7\u6c42\u5386\u53f2 trade tick \u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_bars"}),"\uff1a\u8bf7\u6c42\u5386\u53f2 K \u7ebf \u6570\u636e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_request_order_book_snapshot"}),"\uff1a\u8bf7\u6c42 order book \u5feb\u7167\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"executionclient",children:"ExecutionClient"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ExecutionClient"})," \u8d1f\u8d23\u8ba2\u5355\u7ba1\u7406\uff0c\u5305\u62ec\u63d0\u4ea4\u3001\u4fee\u6539\u4e0e\u64a4\u5355\u3002\u5b83\u4e0e\u573a\u9986\u4ea4\u6613\u7cfb\u7edf\u4ea4\u4e92\u4ee5\u7ba1\u7406\u5e76\u6267\u884c\u4ea4\u6613\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.execution.messages import BatchCancelOrders\nfrom nautilus_trader.execution.messages import CancelAllOrders\nfrom nautilus_trader.execution.messages import CancelOrder\nfrom nautilus_trader.execution.messages import GenerateFillReports\nfrom nautilus_trader.execution.messages import GenerateOrderStatusReport\nfrom nautilus_trader.execution.messages import GenerateOrderStatusReports\nfrom nautilus_trader.execution.messages import GeneratePositionStatusReports\nfrom nautilus_trader.execution.messages import ModifyOrder\nfrom nautilus_trader.execution.messages import SubmitOrder\nfrom nautilus_trader.execution.messages import SubmitOrderList\nfrom nautilus_trader.execution.reports import FillReport\nfrom nautilus_trader.execution.reports import OrderStatusReport\nfrom nautilus_trader.execution.reports import PositionStatusReport\nfrom nautilus_trader.live.execution_client import LiveExecutionClient\n\n\nclass TemplateLiveExecutionClient(LiveExecutionClient):\n    """\u793a\u4f8b `LiveExecutionClient`\uff0c\u6982\u8ff0\u6240\u9700\u8986\u76d6\u7684\u65b9\u6cd5\u3002"""\n\n    async def _connect(self) -> None:\n        raise NotImplementedError("implement `_connect` in your adapter subclass")\n\n    async def _disconnect(self) -> None:\n        raise NotImplementedError("implement `_disconnect` in your adapter subclass")\n\n    async def _submit_order(self, command: SubmitOrder) -> None:\n        raise NotImplementedError("implement `_submit_order` in your adapter subclass")\n\n    async def _submit_order_list(self, command: SubmitOrderList) -> None:\n        raise NotImplementedError("implement `_submit_order_list` in your adapter subclass")\n\n    async def _modify_order(self, command: ModifyOrder) -> None:\n        raise NotImplementedError("implement `_modify_order` in your adapter subclass")\n\n    async def _cancel_order(self, command: CancelOrder) -> None:\n        raise NotImplementedError("implement `_cancel_order` in your adapter subclass")\n\n    async def _cancel_all_orders(self, command: CancelAllOrders) -> None:\n        raise NotImplementedError("implement `_cancel_all_orders` in your adapter subclass")\n\n    async def _batch_cancel_orders(self, command: BatchCancelOrders) -> None:\n        raise NotImplementedError("implement `_batch_cancel_orders` in your adapter subclass")\n\n    async def generate_order_status_report(\n        self,\n        command: GenerateOrderStatusReport,\n    ) -> OrderStatusReport | None:\n        raise NotImplementedError("method `generate_order_status_report` must be implemented in the subclass")\n\n    async def generate_order_status_reports(\n        self,\n        command: GenerateOrderStatusReports,\n    ) -> list[OrderStatusReport]:\n        raise NotImplementedError("method `generate_order_status_reports` must be implemented in the subclass")\n\n    async def generate_fill_reports(\n        self,\n        command: GenerateFillReports,\n    ) -> list[FillReport]:\n        raise NotImplementedError("method `generate_fill_reports` must be implemented in the subclass")\n\n    async def generate_position_status_reports(\n        self,\n        command: GeneratePositionStatusReports,\n    ) -> list[PositionStatusReport]:\n        raise NotImplementedError("method `generate_position_status_reports` must be implemented in the subclass")\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u65b9\u6cd5\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_connect"}),"\uff1a\u5efa\u7acb\u4e0e\u573a\u9986 API \u7684\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_disconnect"}),"\uff1a\u5173\u95ed\u8fde\u63a5\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_submit_order"}),"\uff1a\u5411\u573a\u9986\u63d0\u4ea4\u65b0\u8ba2\u5355\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_submit_order_list"}),"\uff1a\u63d0\u4ea4\u8ba2\u5355\u5217\u8868\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_modify_order"}),"\uff1a\u4fee\u6539\u5df2\u5b58\u5728\u8ba2\u5355\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_cancel_order"}),"\uff1a\u64a4\u9500\u6307\u5b9a\u8ba2\u5355\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_cancel_all_orders"}),"\uff1a\u64a4\u9500\u573a\u9986\u4e0a\u67d0 instrument \u7684\u6240\u6709\u8ba2\u5355\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"_batch_cancel_orders"}),"\uff1a\u6279\u91cf\u64a4\u5355\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"generate_order_status_report"}),"\uff1a\u4e3a\u6307\u5b9a\u8ba2\u5355\u751f\u6210\u72b6\u6001\u62a5\u544a\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"generate_order_status_reports"}),"\uff1a\u4e3a\u6240\u6709\u8ba2\u5355\u751f\u6210\u72b6\u6001\u62a5\u544a\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"generate_fill_reports"}),"\uff1a\u4e3a\u5df2\u6210\u4ea4\u8ba2\u5355\u751f\u6210\u6210\u4ea4\u62a5\u544a\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"generate_position_status_reports"}),"\uff1a\u751f\u6210\u5934\u5bf8\u72b6\u6001\u62a5\u544a\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,i.jsx)(n.p,{children:"\u914d\u7f6e\u6587\u4ef6\u5b9a\u4e49\u9002\u914d\u5668\u76f8\u5173\u8bbe\u7f6e\uff0c\u4f8b\u5982 API key \u4e0e\u8fde\u63a5\u4fe1\u606f\u3002\u6b64\u7c7b\u8bbe\u7f6e\u5bf9\u521d\u59cb\u5316\u4e0e\u7ba1\u7406\u9002\u914d\u5668\u8fde\u63a5\u81f3\u6570\u636e\u63d0\u4f9b\u65b9\u81f3\u5173\u91cd\u8981\u3002"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.config import LiveDataClientConfig\nfrom nautilus_trader.config import LiveExecClientConfig\n\n\nclass TemplateDataClientConfig(LiveDataClientConfig):\n    """`TemplateDataClient` \u7684\u914d\u7f6e\u7c7b\u3002"""\n\n    api_key: str\n    api_secret: str\n    base_url: str\n\n\nclass TemplateExecClientConfig(LiveExecClientConfig):\n    """`TemplateExecClient` \u7684\u914d\u7f6e\u7c7b\u3002"""\n\n    api_key: str\n    api_secret: str\n    base_url: str\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u5173\u952e\u5c5e\u6027\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api_key"}),"\uff1a\u7528\u4e8e\u4e0e\u6570\u636e\u63d0\u4f9b\u65b9\u8ba4\u8bc1\u7684 API key\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api_secret"}),"\uff1a\u7528\u4e8e\u8ba4\u8bc1\u7684 API secret\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"base_url"}),"\uff1a\u8fde\u63a5\u5230\u6570\u636e\u63d0\u4f9b\u65b9 API \u7684 base URL\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5e38\u89c1\u6d4b\u8bd5\u573a\u666f",children:"\u5e38\u89c1\u6d4b\u8bd5\u573a\u666f"}),"\n",(0,i.jsx)(n.p,{children:"\u9488\u5bf9\u9002\u914d\u5668\u8bf4\u660e\u4e66\u4e2d\u58f0\u79f0\u652f\u6301\u7684\u6bcf\u4e00\u79cd\u573a\u9986\u884c\u4e3a\u90fd\u5e94\u8be5\u6709\u6d4b\u8bd5\u7528\u4f8b\u3002\u628a\u4e0b\u5217\u573a\u666f\u7eb3\u5165 Rust \u4e0e Python \u7684\u6d4b\u8bd5\u5957\u4ef6\u3002"}),"\n",(0,i.jsx)(n.h3,{id:"\u4ea7\u54c1\u8986\u76d6",children:"\u4ea7\u54c1\u8986\u76d6"}),"\n",(0,i.jsx)(n.p,{children:"\u786e\u4fdd\u6bcf\u4e2a\u652f\u6301\u7684\u4ea7\u54c1\u7c7b\u522b\u90fd\u6709\u6d4b\u8bd5\u8986\u76d6\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u73b0\u8d27\uff08Spot\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u884d\u751f\u54c1\uff08\u6c38\u7eed\u3001\u671f\u8d27\u3001\u6389\u671f\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u671f\u6743\u4e0e\u7ed3\u6784\u5316\u4ea7\u54c1"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u8ba2\u5355\u6d41",children:"\u8ba2\u5355\u6d41"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u8986\u76d6\u6bcf\u79cd\u652f\u6301\u7684\u8ba2\u5355\u7c7b\u578b\uff08\u9650\u4ef7\u3001\u5e02\u4ef7\u3001\u6b62\u635f\u3001\u6761\u4ef6\u5355\u7b49\uff09\uff0c\u5728\u5404\u7c7b\u573a\u9986\u7684 time-in-force\u3001\u5230\u671f\u4e0e\u62d2\u5355\u5904\u7406\u4e0b\u90fd\u5e94\u9a8c\u8bc1\u884c\u4e3a\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u63d0\u4ea4\u4e70/\u5356\u5e02\u4ef7\u5355\uff0c\u5e76\u65ad\u8a00\u4f59\u989d\u3001\u5934\u5bf8\u4e0e\u5e73\u5747\u4ef7\u66f4\u65b0\u4e0e\u573a\u9986\u54cd\u5e94\u4e00\u81f4\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u63d0\u4ea4\u4ee3\u8868\u6027\u7684\u4e70/\u5356\u9650\u4ef7\u5355\uff0c\u9a8c\u8bc1\u786e\u8ba4\u3001\u6267\u884c\u62a5\u544a\u3001\u5b8c\u6574/\u90e8\u5206\u6210\u4ea4\u4e0e\u64a4\u5355\u6d41\u7a0b\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u72b6\u6001\u7ba1\u7406",children:"\u72b6\u6001\u7ba1\u7406"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5728\u542f\u52a8\u4f1a\u8bdd\u65f6\u5e26\u6709\u672a\u5b8c\u6210\u8ba2\u5355\uff0c\u4ee5\u786e\u4fdd\u9002\u914d\u5668\u5728\u8fde\u63a5\u65f6\u80fd\u4e0e\u573a\u9986\u5bf9\u9f50\u72b6\u6001\u540e\u518d\u53d1\u51fa\u65b0\u547d\u4ee4\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9884\u7f6e\u5934\u5bf8\u5e76\u786e\u8ba4\u5934\u5bf8\u5feb\u7167\u3001\u4f30\u503c\u4e0e PnL \u5728\u4ea4\u6613\u524d\u4e0e\u573a\u9986\u4e00\u81f4\u3002"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},9087:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>l});var r=s(6363);const i={},t=r.createContext(i);function d(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);