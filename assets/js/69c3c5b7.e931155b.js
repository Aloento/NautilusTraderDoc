"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[1683],{1499:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"integrations/binance","title":"Binance","description":"Founded in 2017, Binance is one of the largest cryptocurrency exchanges in terms","source":"@site/docs/integrations/binance.md","sourceDirName":"integrations","slug":"/integrations/binance","permalink":"/integrations/binance","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/binance.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Betfair","permalink":"/integrations/betfair"},"next":{"title":"BitMEX","permalink":"/integrations/bitmex"}}');var r=i(7259),s=i(9087);const d={},c="Binance",l={},o=[{value:"Examples",id:"examples",level:2},{value:"Overview",id:"overview",level:2},{value:"Product support",id:"product-support",level:3},{value:"Data types",id:"data-types",level:2},{value:"Symbology",id:"symbology",level:2},{value:"Order capability",id:"order-capability",level:2},{value:"Order types",id:"order-types",level:3},{value:"Execution instructions",id:"execution-instructions",level:3},{value:"Post-only restrictions",id:"post-only-restrictions",level:4},{value:"Time in force",id:"time-in-force",level:3},{value:"Advanced order features",id:"advanced-order-features",level:3},{value:"Batch operations",id:"batch-operations",level:3},{value:"Position management",id:"position-management",level:3},{value:"Order querying",id:"order-querying",level:3},{value:"Contingent orders",id:"contingent-orders",level:3},{value:"Order parameters",id:"order-parameters",level:3},{value:"Example: Futures BBO limit order",id:"example-futures-bbo-limit-order",level:4},{value:"Trailing stops",id:"trailing-stops",level:3},{value:"Order books",id:"order-books",level:2},{value:"Binance data differences",id:"binance-data-differences",level:2},{value:"Binance specific data",id:"binance-specific-data",level:2},{value:"<code>BinanceFuturesMarkPriceUpdate</code>",id:"binancefuturesmarkpriceupdate",level:3},{value:"Rate limiting",id:"rate-limiting",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Data client configuration options",id:"data-client-configuration-options",level:3},{value:"Execution client configuration options",id:"execution-client-configuration-options",level:3},{value:"Key types",id:"key-types",level:3},{value:"API credentials",id:"api-credentials",level:3},{value:"Account type",id:"account-type",level:3},{value:"Base URL overrides",id:"base-url-overrides",level:3},{value:"Binance US",id:"binance-us",level:3},{value:"Testnets",id:"testnets",level:3},{value:"Aggregated trades",id:"aggregated-trades",level:3},{value:"Parser warnings",id:"parser-warnings",level:3},{value:"Futures hedge mode",id:"futures-hedge-mode",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"binance",children:"Binance"})}),"\n",(0,r.jsx)(n.p,{children:"Founded in 2017, Binance is one of the largest cryptocurrency exchanges in terms\nof daily trading volume, and open interest of crypto assets and crypto\nderivative products."}),"\n",(0,r.jsx)(n.p,{children:"This integration supports live market data ingest and order execution for:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Binance Spot"})," (including Binance US)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Binance USDT-Margined Futures"})," (perpetuals and delivery contracts)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Binance Coin-Margined Futures"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.p,{children:["You can find live example scripts ",(0,r.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/binance/",children:"here"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide assumes a trader is setting up for both live market data feeds, and trade execution.\nThe Binance adapter includes multiple components, which can be used together or separately depending\non the use case."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceHttpClient"}),": Low-level HTTP API connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceWebSocketClient"}),": Low-level WebSocket API connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceInstrumentProvider"}),": Instrument parsing and loading functionality."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceSpotDataClient"}),"/",(0,r.jsx)(n.code,{children:"BinanceFuturesDataClient"}),": A market data feed manager."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceSpotExecutionClient"}),"/",(0,r.jsx)(n.code,{children:"BinanceFuturesExecutionClient"}),": An account management and trade execution gateway."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceLiveDataClientFactory"}),": Factory for Binance data clients (used by the trading node builder)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceLiveExecClientFactory"}),": Factory for Binance execution clients (used by the trading node builder)."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Most users will define a configuration for a live trading node (as below),\nand won't need to necessarily work with these lower level components directly."})}),"\n",(0,r.jsx)(n.h3,{id:"product-support",children:"Product support"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Product Type"}),(0,r.jsx)(n.th,{children:"Supported"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Spot Markets (incl. Binance US)"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Margin Accounts (Cross & Isolated)"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Margin trading not implemented."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"USDT-Margined Futures (PERP & Delivery)"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Coin-Margined Futures"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Margin trading (cross & isolated) is not implemented at this time.\nContributions via ",(0,r.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/issues/#2631",children:"GitHub issue #2631"}),"\nor pull requests to add margin trading functionality are welcome."]})}),"\n",(0,r.jsx)(n.h2,{id:"data-types",children:"Data types"}),"\n",(0,r.jsx)(n.p,{children:"To provide complete API functionality to traders, the integration includes several\ncustom data types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceTicker"}),": Represents data returned for Binance 24-hour ticker subscriptions, including comprehensive price and statistical information."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceBar"}),": Represents data for historical requests or real-time subscriptions to Binance bars, with additional volume metrics."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BinanceFuturesMarkPriceUpdate"}),": Represents mark price updates for Binance Futures subscriptions."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See the Binance ",(0,r.jsx)(n.a,{href:"/api_reference/adapters/binance",children:"API Reference"})," for full definitions."]}),"\n",(0,r.jsx)(n.h2,{id:"symbology",children:"Symbology"}),"\n",(0,r.jsxs)(n.p,{children:["As per the Nautilus unification policy for symbols, the native Binance symbols are used where possible including for\nspot assets and futures contracts. Because NautilusTrader is capable of multi-venue + multi-account\ntrading, it's necessary to explicitly clarify the difference between ",(0,r.jsx)(n.code,{children:"BTCUSDT"})," as the spot and margin traded\npair, and the ",(0,r.jsx)(n.code,{children:"BTCUSDT"})," perpetual futures contract (this symbol is used for ",(0,r.jsx)(n.em,{children:"both"})," natively by Binance)."]}),"\n",(0,r.jsxs)(n.p,{children:["Therefore, Nautilus appends the suffix ",(0,r.jsx)(n.code,{children:"-PERP"})," to all perpetual symbols.\nE.g. for Binance Futures, the ",(0,r.jsx)(n.code,{children:"BTCUSDT"})," perpetual futures contract symbol would be ",(0,r.jsx)(n.code,{children:"BTCUSDT-PERP"})," within the Nautilus system boundary."]}),"\n",(0,r.jsx)(n.h2,{id:"order-capability",children:"Order capability"}),"\n",(0,r.jsx)(n.p,{children:"The following tables detail the order types, execution instructions, and time-in-force options supported across different Binance account types:"}),"\n",(0,r.jsx)(n.h3,{id:"order-types",children:"Order types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Order Type"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MARKET"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Quote quantity support: Spot/Margin only."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LIMIT"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STOP_MARKET"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Not supported for Spot."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Futures only."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TRAILING_STOP_MARKET"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Futures only."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"execution-instructions",children:"Execution instructions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Instruction"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"post_only"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"See restrictions below."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reduce_only"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Futures only; disabled in Hedge Mode."})]})]})]}),"\n",(0,r.jsx)(n.h4,{id:"post-only-restrictions",children:"Post-only restrictions"}),"\n",(0,r.jsxs)(n.p,{children:["Only ",(0,r.jsx)(n.em,{children:"limit"})," order types support ",(0,r.jsx)(n.code,{children:"post_only"}),"."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Order Type"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LIMIT"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Uses ",(0,r.jsx)(n.code,{children:"LIMIT_MAKER"})," for Spot/Margin, ",(0,r.jsx)(n.code,{children:"GTX"})," TIF for Futures."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Not supported for Spot/Margin."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"time-in-force",children:"Time in force"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Time in force"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GTC"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Good Till Canceled."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GTD"})}),(0,r.jsx)(n.td,{children:"\u2713*"}),(0,r.jsx)(n.td,{children:"\u2713*"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"*Converted to GTC for Spot/Margin with warning."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"FOK"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Fill or Kill."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IOC"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Immediate or Cancel."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"advanced-order-features",children:"Advanced order features"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order Modification"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Price and quantity for ",(0,r.jsx)(n.code,{children:"LIMIT"})," orders only."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Bracket/OCO Orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"One-Cancels-Other for stop loss/take profit."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Iceberg Orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Large orders split into visible portions."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"batch-operations",children:"Batch operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operation"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Submit"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Submit multiple orders in single request."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Modify"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Modify multiple orders in single request. Futures only."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Cancel"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Cancel multiple orders in single request."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"position-management",children:"Position management"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query positions"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Real-time position updates."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Position mode"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"One-Way vs Hedge mode (position IDs)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Leverage control"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Dynamic leverage adjustment per symbol."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Margin mode"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Cross vs Isolated margin per symbol."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"order-querying",children:"Order querying"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query open orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"List all active orders."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query order history"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Historical order data."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order status updates"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Real-time order state changes."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Trade history"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Execution and fill reports."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"contingent-orders",children:"Contingent orders"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Margin"}),(0,r.jsx)(n.th,{children:"USDT Futures"}),(0,r.jsx)(n.th,{children:"Coin Futures"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order lists"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OCO orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"One-Cancels-Other for stop loss/take profit."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Bracket orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Stop loss + take profit combinations."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Conditional orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Stop and market-if-touched orders."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"order-parameters",children:"Order parameters"}),"\n",(0,r.jsxs)(n.p,{children:["Customize individual orders by supplying a ",(0,r.jsx)(n.code,{children:"params"})," dictionary when calling ",(0,r.jsx)(n.code,{children:"Strategy.submit_order"}),". The Binance execution clients currently recognise:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Account types"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"price_match"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"str"})}),(0,r.jsx)(n.td,{children:"USDT/COIN Futures"}),(0,r.jsxs)(n.td,{children:["Set one of Binance's ",(0,r.jsx)(n.code,{children:"priceMatch"})," modes (see table below) to delegate price selection to the exchange. When provided, Nautilus omits the limit price in the API call so Binance can compute the working price. Cannot be combined with ",(0,r.jsx)(n.code,{children:"post_only"})," or iceberg (",(0,r.jsx)(n.code,{children:"display_qty"}),") instructions."]})]})})]}),"\n",(0,r.jsxs)(n.p,{children:["Valid ",(0,r.jsx)(n.code,{children:"priceMatch"})," values for Binance Futures:"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Value"}),(0,r.jsx)(n.th,{children:"Behaviour"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPPONENT"})}),(0,r.jsx)(n.td,{children:"Join the best price on the opposing side of the book."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPPONENT_5"})}),(0,r.jsx)(n.td,{children:"Join the opposing side price but allow up to a 5-tick offset."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPPONENT_10"})}),(0,r.jsx)(n.td,{children:"Join the opposing side price but allow up to a 10-tick offset."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPPONENT_20"})}),(0,r.jsx)(n.td,{children:"Join the opposing side price but allow up to a 20-tick offset."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"QUEUE"})}),(0,r.jsx)(n.td,{children:"Join the best price on the same side (stay maker)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"QUEUE_5"})}),(0,r.jsx)(n.td,{children:"Join the same-side queue but offset up to 5 ticks."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"QUEUE_10"})}),(0,r.jsx)(n.td,{children:"Join the same-side queue but offset up to 10 ticks."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"QUEUE_20"})}),(0,r.jsx)(n.td,{children:"Join the same-side queue but offset up to 20 ticks."})]})]})]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For more details, see the ",(0,r.jsx)(n.a,{href:"https://developers.binance.com/docs/derivatives/usds-margined-futures/trade/rest-api",children:"official documentation"}),"."]})}),"\n",(0,r.jsx)(n.h4,{id:"example-futures-bbo-limit-order",children:"Example: Futures BBO limit order"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'order = strategy.order_factory.limit(\n    instrument_id=InstrumentId.from_str("BTCUSDT-PERP.BINANCE"),\n    order_side=OrderSide.BUY,\n    quantity=Quantity.from_int(1),\n    price=Price.from_str("65000"),  # retained locally for risk management\n)\n\nstrategy.submit_order(\n    order,\n    params={"price_match": "QUEUE"},\n)\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"price_match"})," cannot be combined with ",(0,r.jsx)(n.code,{children:"price"})," on the Binance API. Nautilus retains the limit price internally for validations, but the exchange receives only the price match mode described above."]})}),"\n",(0,r.jsx)(n.h3,{id:"trailing-stops",children:"Trailing stops"}),"\n",(0,r.jsxs)(n.p,{children:["Binance uses the concept of an activation price for trailing stops, as detailed in their ",(0,r.jsx)(n.a,{href:"https://www.binance.com/en/support/faq/what-is-a-trailing-stop-order-360042299292",children:"documentation"}),".\nThis approach is somewhat unconventional. For trailing stop orders to function on Binance, the activation price should be set using the ",(0,r.jsx)(n.code,{children:"activation_price"})," parameter."]}),"\n",(0,r.jsxs)(n.p,{children:["Note that the activation price is ",(0,r.jsx)(n.strong,{children:"not"})," the same as the trigger/STOP price. Binance will always calculate the trigger price for the order based on the current market price and the callback rate provided by ",(0,r.jsx)(n.code,{children:"trailing_offset"}),".\nThe activation price is the price at which the order will begin trailing based on the callback rate."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsxs)(n.p,{children:["For Binance trailing stop orders, you must use ",(0,r.jsx)(n.code,{children:"activation_price"})," instead of ",(0,r.jsx)(n.code,{children:"trigger_price"}),". Using ",(0,r.jsx)(n.code,{children:"trigger_price"})," will result in an order rejection."]})}),"\n",(0,r.jsx)(n.p,{children:"When submitting trailing stop orders from your strategy, you have two options:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Use the ",(0,r.jsx)(n.code,{children:"activation_price"})," to manually set the activation price."]}),"\n",(0,r.jsxs)(n.li,{children:["Leave the ",(0,r.jsx)(n.code,{children:"activation_price"})," as ",(0,r.jsx)(n.code,{children:"None"}),", activating the trailing mechanism immediately."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["You must also have at least ",(0,r.jsx)(n.em,{children:"one"})," of the following:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"activation_price"})," for the order is set."]}),"\n",(0,r.jsx)(n.li,{children:"(or) you have subscribed to quotes for the instrument you're submitting the order for (used to infer activation price)."}),"\n",(0,r.jsx)(n.li,{children:"(or) you have subscribed to trades for the instrument you're submitting the order for (used to infer activation price)."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"order-books",children:"Order books"}),"\n",(0,r.jsx)(n.p,{children:"Order books can be maintained at full or partial depths depending on the\nsubscription. WebSocket stream throttling is different between Spot and Futures exchanges,\nNautilus will use the highest streaming rate possible:"}),"\n",(0,r.jsx)(n.p,{children:"Order books can be maintained at full or partial depths based on the subscription settings.\nWebSocket stream update rates differ between Spot and Futures exchanges, with Nautilus using the\nhighest available streaming rate:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Spot"}),": 100ms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Futures"}),": 0ms (",(0,r.jsx)(n.em,{children:"unthrottled"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"There is a limitation of one order book per instrument per trader instance.\nAs stream subscriptions may vary, the latest order book data (deltas or snapshots)\nsubscription will be used by the Binance data client."}),"\n",(0,r.jsx)(n.p,{children:"Order book snapshot rebuilds will be triggered on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Initial subscription of the order book data."}),"\n",(0,r.jsx)(n.li,{children:"Data websocket reconnects."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The sequence of events is as follows:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Deltas will start buffered."}),"\n",(0,r.jsx)(n.li,{children:"Snapshot is requested and awaited."}),"\n",(0,r.jsxs)(n.li,{children:["Snapshot response is parsed to ",(0,r.jsx)(n.code,{children:"OrderBookDeltas"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Snapshot deltas are sent to the ",(0,r.jsx)(n.code,{children:"DataEngine"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Buffered deltas are iterated, dropping those where the sequence number is not greater than the last delta in the snapshot."}),"\n",(0,r.jsx)(n.li,{children:"Deltas will stop buffering."}),"\n",(0,r.jsxs)(n.li,{children:["Remaining deltas are sent to the ",(0,r.jsx)(n.code,{children:"DataEngine"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"binance-data-differences",children:"Binance data differences"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"ts_event"})," field value for ",(0,r.jsx)(n.code,{children:"QuoteTick"})," objects will differ between Spot and Futures exchanges,\nwhere the former does not provide an event timestamp, so the ",(0,r.jsx)(n.code,{children:"ts_init"})," is used (which means ",(0,r.jsx)(n.code,{children:"ts_event"})," and ",(0,r.jsx)(n.code,{children:"ts_init"})," are identical)."]}),"\n",(0,r.jsx)(n.h2,{id:"binance-specific-data",children:"Binance specific data"}),"\n",(0,r.jsx)(n.p,{children:"It's possible to subscribe to Binance specific data streams as they become available to the\nadapter over time."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Bars are not considered 'Binance specific' and can be subscribed to in the normal way.\nAs more adapters are built out which need for example mark price and funding rate updates, then these\nmethods may eventually become first-class (not requiring custom/generic subscriptions as below)."})}),"\n",(0,r.jsx)(n.h3,{id:"binancefuturesmarkpriceupdate",children:(0,r.jsx)(n.code,{children:"BinanceFuturesMarkPriceUpdate"})}),"\n",(0,r.jsxs)(n.p,{children:["You can subscribe to ",(0,r.jsx)(n.code,{children:"BinanceFuturesMarkPriceUpdate"})," (including funding rating info)\ndata streams by subscribing in the following way from your actor or strategy:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.binance import BinanceFuturesMarkPriceUpdate\nfrom nautilus_trader.model import DataType\nfrom nautilus_trader.model import ClientId\n\n# In your `on_start` method\nself.subscribe_data(\n    data_type=DataType(BinanceFuturesMarkPriceUpdate, metadata={"instrument_id": self.instrument.id}),\n    client_id=ClientId("BINANCE"),\n)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This will result in your actor/strategy passing these received ",(0,r.jsx)(n.code,{children:"BinanceFuturesMarkPriceUpdate"}),"\nobjects to your ",(0,r.jsx)(n.code,{children:"on_data"})," method. You will need to check the type, as this\nmethod acts as a flexible handler for all custom/generic data."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.core import Data\n\ndef on_data(self, data: Data):\n    # First check the type of data\n    if isinstance(data, BinanceFuturesMarkPriceUpdate):\n        # Do something with the data\n"})}),"\n",(0,r.jsx)(n.h2,{id:"rate-limiting",children:"Rate limiting"}),"\n",(0,r.jsx)(n.p,{children:"Binance uses an interval-based rate limiting system where request weight is tracked per fixed time window (e.g., every minute resets at :00 seconds). The adapter uses token bucket rate limiters to approximate this behavior, helping to reduce the risk of quota violations while maintaining high throughput for normal trading operations."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Key / Endpoint"}),(0,r.jsx)(n.th,{children:"Limit (weight/min)"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"binance:global"})}),(0,r.jsxs)(n.td,{children:["Spot: 6,000",(0,r.jsx)("br",{}),"Futures: 2,400"]}),(0,r.jsx)(n.td,{children:"Default bucket applied to every request."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v3/order"})}),(0,r.jsx)(n.td,{children:"3,000"}),(0,r.jsx)(n.td,{children:"Spot order placement."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v3/allOrders"})}),(0,r.jsx)(n.td,{children:"150"}),(0,r.jsx)(n.td,{children:"Spot all-orders endpoint (20\xd7 weight multiplier)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/api/v3/klines"})}),(0,r.jsx)(n.td,{children:"600"}),(0,r.jsx)(n.td,{children:"Spot historical klines."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/fapi/v1/order"})}),(0,r.jsx)(n.td,{children:"1,200"}),(0,r.jsx)(n.td,{children:"Futures order placement."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/fapi/v1/allOrders"})}),(0,r.jsx)(n.td,{children:"60"}),(0,r.jsx)(n.td,{children:"Futures historical orders (20\xd7 multiplier)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"/fapi/v1/klines"})}),(0,r.jsx)(n.td,{children:"600"}),(0,r.jsx)(n.td,{children:"Futures historical klines."})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Binance assigns request weight dynamically (e.g. ",(0,r.jsx)(n.code,{children:"/klines"})," scales with ",(0,r.jsx)(n.code,{children:"limit"}),"). The quotas above mirror the static limits but the client still draws a single token per call, so long history pulls may need manual pacing to respect the live ",(0,r.jsx)(n.code,{children:"X-MBX-USED-WEIGHT-*"})," headers."]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Binance returns HTTP 429 when you exceed the allowed weight and repeated bursts can trigger temporary IP bans, so leave enough headroom between batches."})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For more details on rate limiting, see the official documentation: ",(0,r.jsx)(n.a,{href:"https://binance-docs.github.io/apidocs/futures/en/#limits",children:"https://binance-docs.github.io/apidocs/futures/en/#limits"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"data-client-configuration-options",children:"Data client configuration options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"venue"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"BINANCE"})}),(0,r.jsx)(n.td,{children:"Venue identifier used when registering the client."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Binance API key; loaded from environment variables when omitted."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_secret"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Binance API secret; loaded from environment variables when omitted."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"key_type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"HMAC"})}),(0,r.jsxs)(n.td,{children:["Cryptographic key type (",(0,r.jsx)(n.code,{children:"HMAC"}),", ",(0,r.jsx)(n.code,{children:"RSA"}),", or ",(0,r.jsx)(n.code,{children:"ED25519"}),")."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account_type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SPOT"})}),(0,r.jsx)(n.td,{children:"Account type for data endpoints (spot, margin, USDT futures, coin futures)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_http"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the HTTP REST base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_ws"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the WebSocket base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"us"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["Route requests to Binance US endpoints when ",(0,r.jsx)(n.code,{children:"True"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"testnet"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["Use Binance testnet endpoints when ",(0,r.jsx)(n.code,{children:"True"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"update_instruments_interval_mins"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"60"})}),(0,r.jsx)(n.td,{children:"Interval (minutes) between instrument catalogue refreshes."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use_agg_trade_ticks"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"True"}),", subscribe to aggregated trade ticks instead of raw trades."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"execution-client-configuration-options",children:"Execution client configuration options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"venue"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"BINANCE"})}),(0,r.jsx)(n.td,{children:"Venue identifier used when registering the client."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Binance API key; loaded from environment variables when omitted."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_secret"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Binance API secret; loaded from environment variables when omitted."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"key_type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"HMAC"})}),(0,r.jsxs)(n.td,{children:["Cryptographic key type (",(0,r.jsx)(n.code,{children:"HMAC"}),", ",(0,r.jsx)(n.code,{children:"RSA"}),", or ",(0,r.jsx)(n.code,{children:"ED25519"}),")."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"account_type"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SPOT"})}),(0,r.jsx)(n.td,{children:"Account type for order placement (spot, margin, USDT futures, coin futures)."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_http"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the HTTP REST base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_ws"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the WebSocket base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"us"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["Route requests to Binance US endpoints when ",(0,r.jsx)(n.code,{children:"True"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"testnet"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["Use Binance testnet endpoints when ",(0,r.jsx)(n.code,{children:"True"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use_gtd"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"False"}),", remaps GTD orders to GTC for local expiry management."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use_reduce_only"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsxs)(n.td,{children:["When ",(0,r.jsx)(n.code,{children:"True"}),", passes through ",(0,r.jsx)(n.code,{children:"reduce_only"})," instructions to Binance."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use_position_ids"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsxs)(n.td,{children:["Enable Binance hedging position IDs; set ",(0,r.jsx)(n.code,{children:"False"})," for virtual hedging."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"use_trade_lite"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsx)(n.td,{children:"Use TRADE_LITE execution events that include derived fees."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"treat_expired_as_canceled"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"False"})}),(0,r.jsxs)(n.td,{children:["Treat ",(0,r.jsx)(n.code,{children:"EXPIRED"})," execution types as ",(0,r.jsx)(n.code,{children:"CANCELED"})," when ",(0,r.jsx)(n.code,{children:"True"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"recv_window_ms"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"5,000"})}),(0,r.jsx)(n.td,{children:"Receive window (milliseconds) for signed REST requests."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"max_retries"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Maximum retry attempts for order submission/cancel/modify calls."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Initial delay (milliseconds) between retry attempts."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Maximum delay (milliseconds) between retry attempts."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"futures_leverages"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Mapping of ",(0,r.jsx)(n.code,{children:"BinanceSymbol"})," to initial leverage for futures accounts."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"futures_margin_types"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["Mapping of ",(0,r.jsx)(n.code,{children:"BinanceSymbol"})," to futures margin type (isolated/cross)."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"listen_key_ping_max_failures"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"3"})}),(0,r.jsx)(n.td,{children:"Consecutive listen key ping failures allowed before recovery triggers."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"log_rejected_due_post_only_as_warning"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"True"})}),(0,r.jsxs)(n.td,{children:["Log post-only rejections as warnings when ",(0,r.jsx)(n.code,{children:"True"}),"; otherwise as errors."]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The most common use case is to configure a live ",(0,r.jsx)(n.code,{children:"TradingNode"})," to include Binance\ndata and execution clients. To achieve this, add a ",(0,r.jsx)(n.code,{children:"BINANCE"})," section to your client\nconfiguration(s):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.binance import BINANCE\nfrom nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        BINANCE: {\n            "api_key": "YOUR_BINANCE_API_KEY",\n            "api_secret": "YOUR_BINANCE_API_SECRET",\n            "account_type": "spot",  # {spot, margin, usdt_future, coin_future}\n            "base_url_http": None,  # Override with custom endpoint\n            "base_url_ws": None,  # Override with custom endpoint\n            "us": False,  # If client is for Binance US\n        },\n    },\n    exec_clients={\n        BINANCE: {\n            "api_key": "YOUR_BINANCE_API_KEY",\n            "api_secret": "YOUR_BINANCE_API_SECRET",\n            "account_type": "spot",  # {spot, margin, usdt_future, coin_future}\n            "base_url_http": None,  # Override with custom endpoint\n            "base_url_ws": None,  # Override with custom endpoint\n            "us": False,  # If client is for Binance US\n        },\n    },\n)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Then, create a ",(0,r.jsx)(n.code,{children:"TradingNode"})," and add the client factories:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.binance import BINANCE\nfrom nautilus_trader.adapters.binance import BinanceLiveDataClientFactory\nfrom nautilus_trader.adapters.binance import BinanceLiveExecClientFactory\nfrom nautilus_trader.live.node import TradingNode\n\n# Instantiate the live trading node with a configuration\nnode = TradingNode(config=config)\n\n# Register the client factories with the node\nnode.add_data_client_factory(BINANCE, BinanceLiveDataClientFactory)\nnode.add_exec_client_factory(BINANCE, BinanceLiveExecClientFactory)\n\n# Finally build the node\nnode.build()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"key-types",children:"Key types"}),"\n",(0,r.jsx)(n.p,{children:"Binance supports multiple cryptographic key types for API authentication:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HMAC"})," (default): Uses HMAC-SHA256 with your API secret"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RSA"}),": Uses RSA signature with your private key"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Ed25519"}),": Uses Ed25519 signature with your private key"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You can specify the key type in your configuration:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.binance import BinanceKeyType\n\nconfig = TradingNodeConfig(\n    data_clients={\n        BINANCE: {\n            "api_key": "YOUR_BINANCE_API_KEY",\n            "api_secret": "YOUR_BINANCE_API_SECRET",  # For HMAC\n            "key_type": BinanceKeyType.ED25519,  # or RSA, HMAC (default)\n            "account_type": "spot",\n        },\n    },\n)\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Ed25519 keys must be provided in base64-encoded ASN.1/DER format. The implementation automatically extracts the 32-byte seed from the DER structure."})}),"\n",(0,r.jsx)(n.h3,{id:"api-credentials",children:"API credentials"}),"\n",(0,r.jsx)(n.p,{children:"There are multiple options for supplying your credentials to the Binance clients.\nEither pass the corresponding values to the configuration objects, or\nset the following environment variables:"}),"\n",(0,r.jsx)(n.p,{children:"For Binance live clients (shared between Spot/Margin and Futures), you can set:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BINANCE_API_KEY"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BINANCE_API_SECRET"})," (for all key types)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For Binance Spot/Margin testnet clients, you can set:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BINANCE_TESTNET_API_KEY"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BINANCE_TESTNET_API_SECRET"})," (for all key types)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For Binance Futures testnet clients, you can set:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BINANCE_FUTURES_TESTNET_API_KEY"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"BINANCE_FUTURES_TESTNET_API_SECRET"})," (for all key types)"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"When starting the trading node, you'll receive immediate confirmation of whether your\ncredentials are valid and have trading permissions."}),"\n",(0,r.jsx)(n.h3,{id:"account-type",children:"Account type"}),"\n",(0,r.jsxs)(n.p,{children:["All the Binance account types will be supported for live trading. Set the ",(0,r.jsx)(n.code,{children:"account_type"}),"\nusing the ",(0,r.jsx)(n.code,{children:"BinanceAccountType"})," enum. The account type options are:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SPOT"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MARGIN"})," (Margin shared between open positions)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"ISOLATED_MARGIN"})," (Margin assigned to a single position)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"USDT_FUTURES"})," (USDT or BUSD stablecoins as collateral)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"COIN_FUTURES"})," (other cryptocurrency as collateral)"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"We recommend using environment variables to manage your credentials."})}),"\n",(0,r.jsx)(n.h3,{id:"base-url-overrides",children:"Base URL overrides"}),"\n",(0,r.jsx)(n.p,{children:"It's possible to override the default base URLs for both HTTP Rest and\nWebSocket APIs. This is useful for configuring API clusters for performance reasons,\nor when Binance has provided you with specialized endpoints."}),"\n",(0,r.jsx)(n.h3,{id:"binance-us",children:"Binance US"}),"\n",(0,r.jsxs)(n.p,{children:["There is support for Binance US accounts by setting the ",(0,r.jsx)(n.code,{children:"us"})," option in the configs\nto ",(0,r.jsx)(n.code,{children:"True"})," (this is ",(0,r.jsx)(n.code,{children:"False"})," by default). All functionality available to US accounts\nshould behave identically to standard Binance."]}),"\n",(0,r.jsx)(n.h3,{id:"testnets",children:"Testnets"}),"\n",(0,r.jsxs)(n.p,{children:["It's also possible to configure one or both clients to connect to the Binance testnet.\nSet the ",(0,r.jsx)(n.code,{children:"testnet"})," option to ",(0,r.jsx)(n.code,{children:"True"})," (this is ",(0,r.jsx)(n.code,{children:"False"})," by default):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.binance import BINANCE\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        BINANCE: {\n            "api_key": "YOUR_BINANCE_TESTNET_API_KEY",\n            "api_secret": "YOUR_BINANCE_TESTNET_API_SECRET",\n            "account_type": "spot",  # {spot, margin, usdt_future}\n            "testnet": True,  # If client uses the testnet\n        },\n    },\n    exec_clients={\n        BINANCE: {\n            "api_key": "YOUR_BINANCE_TESTNET_API_KEY",\n            "api_secret": "YOUR_BINANCE_TESTNET_API_SECRET",\n            "account_type": "spot",  # {spot, margin, usdt_future}\n            "testnet": True,  # If client uses the testnet\n        },\n    },\n)\n'})}),"\n",(0,r.jsx)(n.h3,{id:"aggregated-trades",children:"Aggregated trades"}),"\n",(0,r.jsxs)(n.p,{children:["Binance provides aggregated trade data endpoints as an alternative source of trades.\nIn comparison to the default trade endpoints, aggregated trade data endpoints can return all\nticks between a ",(0,r.jsx)(n.code,{children:"start_time"})," and ",(0,r.jsx)(n.code,{children:"end_time"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["To use aggregated trades and the endpoint features, set the ",(0,r.jsx)(n.code,{children:"use_agg_trade_ticks"})," option\nto ",(0,r.jsx)(n.code,{children:"True"})," (this is ",(0,r.jsx)(n.code,{children:"False"})," by default.)"]}),"\n",(0,r.jsx)(n.h3,{id:"parser-warnings",children:"Parser warnings"}),"\n",(0,r.jsxs)(n.p,{children:["Some Binance instruments are unable to be parsed into Nautilus objects if they\ncontain enormous field values beyond what can be handled by the platform.\nIn these cases, a ",(0,r.jsx)(n.em,{children:"warn and continue"})," approach is taken (the instrument will not\nbe available)."]}),"\n",(0,r.jsx)(n.p,{children:"These warnings may cause unnecessary log noise, and so it's possible to\nconfigure the provider to not log the warnings, as per the client configuration\nexample below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.config import InstrumentProviderConfig\n\ninstrument_provider=InstrumentProviderConfig(\n    load_all=True,\n    log_warnings=False,\n)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"futures-hedge-mode",children:"Futures hedge mode"}),"\n",(0,r.jsx)(n.p,{children:"Binance Futures Hedge mode is a position mode where a trader opens positions in both long and short\ndirections to mitigate risk and potentially profit from market volatility."}),"\n",(0,r.jsx)(n.p,{children:"To use Binance Future Hedge mode, you need to follow the three items below:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Before starting the strategy, ensure that hedge mode is configured on Binance."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["Set the ",(0,r.jsx)(n.code,{children:"use_reduce_only"})," option to ",(0,r.jsx)(n.code,{children:"False"})," in BinanceExecClientConfig (this is ",(0,r.jsx)(n.code,{children:"True"})," by default)."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.binance import BINANCE\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        BINANCE: BinanceDataClientConfig(\n            api_key=None,  # 'BINANCE_API_KEY' env var\n            api_secret=None,  # 'BINANCE_API_SECRET' env var\n            account_type=BinanceAccountType.USDT_FUTURES,\n            base_url_http=None,  # Override with custom endpoint\n            base_url_ws=None,  # Override with custom endpoint\n        ),\n    },\n    exec_clients={\n        BINANCE: BinanceExecClientConfig(\n            api_key=None,  # 'BINANCE_API_KEY' env var\n            api_secret=None,  # 'BINANCE_API_SECRET' env var\n            account_type=BinanceAccountType.USDT_FUTURES,\n            base_url_http=None,  # Override with custom endpoint\n            base_url_ws=None,  # Override with custom endpoint\n            use_reduce_only=False,  # Must be disabled for Hedge mode\n        ),\n    }\n)\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["When submitting an order, use a suffix (",(0,r.jsx)(n.code,{children:"LONG"})," or ",(0,r.jsx)(n.code,{children:"SHORT"})," ) in the ",(0,r.jsx)(n.code,{children:"position_id"})," to indicate the position direction."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'class EMACrossHedgeMode(Strategy):\n    ...,  # Omitted\n    def buy(self) -> None:\n        """\n        Users simple buy method (example).\n        """\n        order: MarketOrder = self.order_factory.market(\n            instrument_id=self.instrument_id,\n            order_side=OrderSide.BUY,\n            quantity=self.instrument.make_qty(self.trade_size),\n            # time_in_force=TimeInForce.FOK,\n        )\n\n        # LONG suffix is recognized as a long position by Binance adapter.\n        position_id = PositionId(f"{self.instrument_id}-LONG")\n        self.submit_order(order, position_id)\n\n    def sell(self) -> None:\n        """\n        Users simple sell method (example).\n        """\n        order: MarketOrder = self.order_factory.market(\n            instrument_id=self.instrument_id,\n            order_side=OrderSide.SELL,\n            quantity=self.instrument.make_qty(self.trade_size),\n            # time_in_force=TimeInForce.FOK,\n        )\n        # SHORT suffix is recognized as a short position by Binance adapter.\n        position_id = PositionId(f"{self.instrument_id}-SHORT")\n        self.submit_order(order, position_id)\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["For additional features or to contribute to the Binance adapter, please see our\n",(0,r.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},9087:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>c});var t=i(6363);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);