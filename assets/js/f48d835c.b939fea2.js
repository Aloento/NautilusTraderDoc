"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[7618],{496:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"integrations/coinbase_intx","title":"Coinbase International","description":"Coinbase International Exchange provides non-US institutional clients with access to cryptocurrency perpetual futures and spot markets.","source":"@site/docs/integrations/coinbase_intx.md","sourceDirName":"integrations","slug":"/integrations/coinbase_intx","permalink":"/integrations/coinbase_intx","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/coinbase_intx.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Bybit","permalink":"/integrations/bybit"},"next":{"title":"Databento","permalink":"/integrations/databento"}}');var r=i(7259),s=i(9087);const d={},l="Coinbase International",o={},c=[{value:"Installation",id:"installation",level:2},{value:"Examples",id:"examples",level:2},{value:"Overview",id:"overview",level:2},{value:"Coinbase documentation",id:"coinbase-documentation",level:2},{value:"Data",id:"data",level:2},{value:"Instruments",id:"instruments",level:3},{value:"WebSocket market data",id:"websocket-market-data",level:3},{value:"Execution",id:"execution",level:2},{value:"Selecting a Portfolio",id:"selecting-a-portfolio",level:3},{value:"Configuring the Portfolio",id:"configuring-the-portfolio",level:3},{value:"Orders capability",id:"orders-capability",level:2},{value:"Order Types",id:"order-types",level:3},{value:"Execution Instructions",id:"execution-instructions",level:3},{value:"Time in force options",id:"time-in-force-options",level:3},{value:"Advanced Order Features",id:"advanced-order-features",level:3},{value:"Batch operations",id:"batch-operations",level:3},{value:"Position management",id:"position-management",level:3},{value:"Order querying",id:"order-querying",level:3},{value:"Contingent orders",id:"contingent-orders",level:3},{value:"FIX drop copy integration",id:"fix-drop-copy-integration",level:3},{value:"Account and position management",id:"account-and-position-management",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Strategies",id:"strategies",level:3},{value:"Data client configuration options",id:"data-client-configuration-options",level:3},{value:"Execution client configuration options",id:"execution-client-configuration-options",level:3},{value:"API Credentials",id:"api-credentials",level:3},{value:"Implementation notes",id:"implementation-notes",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"coinbase-international",children:"Coinbase International"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.coinbase.com/en/international-exchange",children:"Coinbase International Exchange"})," provides non-US institutional clients with access to cryptocurrency perpetual futures and spot markets.\nThe exchange serves European and international traders by providing leveraged crypto derivatives, often restricted or unavailable in these regions."]}),"\n",(0,r.jsx)(n.p,{children:"Coinbase International brings a high standard of customer protection, a robust risk management framework and high-performance trading technology, including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Real-time 24/7/365 risk management."}),"\n",(0,r.jsx)(n.li,{children:"Liquidity from external market makers (no proprietary trading)."}),"\n",(0,r.jsx)(n.li,{children:"Dynamic margin requirements and collateral assessments."}),"\n",(0,r.jsx)(n.li,{children:"Liquidation framework that meets rigorous compliance standards."}),"\n",(0,r.jsx)(n.li,{children:"Well-capitalized exchange to support tail market events."}),"\n",(0,r.jsx)(n.li,{children:"Collaboration with top-tier global regulators."}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"https://www.coinbase.com/en-au/blog/introducing-coinbase-international-exchange",children:"Introducing Coinbase International Exchange"})," blog article for more details."]})}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["No additional ",(0,r.jsx)(n.code,{children:"coinbase_intx"})," installation is required; the adapter\u2019s core components, written in Rust, are automatically compiled and linked during the build."]})}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsxs)(n.p,{children:["You can find live example scripts ",(0,r.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/coinbase_intx",children:"here"}),".\nThese examples demonstrate how to set up live market data feeds and execution clients for trading on Coinbase International."]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The following products are supported on the Coinbase International exchange:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Perpetual Futures contracts"}),"\n",(0,r.jsx)(n.li,{children:"Spot cryptocurrencies"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This guide assumes a trader is setting up for both live market data feeds, and trade execution.\nThe Coinbase International adapter includes multiple components, which can be used together or\nseparately depending on the use case. These components work together to connect to Coinbase International\u2019s APIs\nfor market data and execution."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxHttpClient"}),": REST API connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxWebSocketClient"}),": WebSocket API connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxInstrumentProvider"}),": Instrument parsing and loading functionality."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxDataClient"}),": A market data feed manager."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxExecutionClient"}),": An account management and trade execution gateway."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxLiveDataClientFactory"}),": Factory for Coinbase International data clients."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CoinbaseIntxLiveExecClientFactory"}),": Factory for Coinbase International execution clients."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Most users will simply define a configuration for a live trading node (described below),\nand won't necessarily need to work with the above components directly."})}),"\n",(0,r.jsx)(n.h2,{id:"coinbase-documentation",children:"Coinbase documentation"}),"\n",(0,r.jsxs)(n.p,{children:["Coinbase International provides extensive API documentation for users which can be found in the ",(0,r.jsx)(n.a,{href:"https://docs.cdp.coinbase.com/intx/docs/welcome",children:"Coinbase Developer Platform"}),".\nWe recommend also referring to the Coinbase International documentation in conjunction with this NautilusTrader integration guide."]}),"\n",(0,r.jsx)(n.h2,{id:"data",children:"Data"}),"\n",(0,r.jsx)(n.h3,{id:"instruments",children:"Instruments"}),"\n",(0,r.jsxs)(n.p,{children:["On startup, the adapter automatically loads all available instruments from the Coinbase International REST API\nand subscribes to the ",(0,r.jsx)(n.code,{children:"INSTRUMENTS"})," WebSocket channel for updates. This ensures that the cache and clients requiring\nup-to-date definitions for parsing always have the latest instrument data."]}),"\n",(0,r.jsx)(n.p,{children:"Available instrument types include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"CurrencyPair"})," (Spot cryptocurrencies)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"CryptoPerpetual"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Index products have not yet been implemented."})}),"\n",(0,r.jsx)(n.p,{children:"The following data types are available:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"OrderBookDelta"})," (L2 market-by-price)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"QuoteTick"})," (L1 top-of-book best bid/ask)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"TradeTick"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"Bar"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"MarkPriceUpdate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"IndexPriceUpdate"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Historical data requests have not yet been implemented."})}),"\n",(0,r.jsx)(n.h3,{id:"websocket-market-data",children:"WebSocket market data"}),"\n",(0,r.jsx)(n.p,{children:"The data client connects to Coinbase International's WebSocket feed to stream real-time market data.\nThe WebSocket client handles automatic reconnection and re-subscribes to active subscriptions upon reconnecting."}),"\n",(0,r.jsx)(n.h2,{id:"execution",children:"Execution"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The adapter is designed to trade one Coinbase International portfolio per execution client."})}),"\n",(0,r.jsx)(n.h3,{id:"selecting-a-portfolio",children:"Selecting a Portfolio"}),"\n",(0,r.jsx)(n.p,{children:"To identify your available portfolios and their IDs, use the REST client by running the following script:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python nautilus_trader/adapters/coinbase_intx/scripts/list_portfolios.py\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will output a list of portfolio details, similar to the example below:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"[{'borrow_disabled': False,\n  'cross_collateral_enabled': False,\n  'is_default': False,\n  'is_lsp': False,\n  'maker_fee_rate': '-0.00008',\n  'name': 'hrp5587988499',\n  'portfolio_id': '3mnk59ap-1-22',  # Your portfolio ID\n  'portfolio_uuid': 'dd0958ad-0c9d-4445-a812-1870fe40d0e1',\n  'pre_launch_trading_enabled': False,\n  'taker_fee_rate': '0.00012',\n  'trading_lock': False,\n  'user_uuid': 'd4fbf7ea-9515-1068-8d60-4de91702c108'}]\n"})}),"\n",(0,r.jsx)(n.h3,{id:"configuring-the-portfolio",children:"Configuring the Portfolio"}),"\n",(0,r.jsxs)(n.p,{children:["To specify a portfolio for trading, set the ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_PORTFOLIO_ID"})," environment variable to\nthe desired ",(0,r.jsx)(n.code,{children:"portfolio_id"}),". If you're using multiple execution clients, you can alternatively define\nthe ",(0,r.jsx)(n.code,{children:"portfolio_id"})," in the execution configuration for each client."]}),"\n",(0,r.jsx)(n.h2,{id:"orders-capability",children:"Orders capability"}),"\n",(0,r.jsx)(n.p,{children:"Coinbase International offers market, limit, and stop order types, enabling a broad range of strategies."}),"\n",(0,r.jsx)(n.h3,{id:"order-types",children:"Order Types"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Order Type"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MARKET"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsxs)(n.td,{children:["Must use ",(0,r.jsx)(n.code,{children:"IOC"})," or ",(0,r.jsx)(n.code,{children:"FOK"})," time-in-forc"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LIMIT"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STOP_MARKET"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TRAILING_STOP_MARKET"})}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"execution-instructions",children:"Execution Instructions"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Instruction"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"post_only"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Ensures orders only provide liquidity."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"reduce_only"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Ensures orders only reduce existing positions."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"time-in-force-options",children:"Time in force options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Time in force"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GTC"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Good Till Canceled."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GTD"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Good Till Date."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"FOK"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Fill or Kill."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"IOC"})}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Immediate or Cancel."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"advanced-order-features",children:"Advanced Order Features"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order Modification"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Price and quantity modification."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Bracket/OCO Orders"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"Requires further investigation."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Iceberg Orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Available via FIX protocol."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"batch-operations",children:"Batch operations"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Operation"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Submit"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Modify"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Batch Cancel"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"position-management",children:"Position management"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query positions"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Real-time position updates for derivatives."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Position mode"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Single position mode only."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Leverage control"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Per-portfolio leverage settings."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Margin mode"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"Cross margin only."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"order-querying",children:"Order querying"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query open orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"List all active orders."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Query order history"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Historical order data."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order status updates"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Real-time updates via FIX drop copy."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Trade history"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Execution and fill reports."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"contingent-orders",children:"Contingent orders"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Feature"}),(0,r.jsx)(n.th,{children:"Derivatives"}),(0,r.jsx)(n.th,{children:"Spot"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Order lists"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsx)(n.td,{children:"-"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"OCO orders"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"Requires further investigation."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Bracket orders"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"?"}),(0,r.jsx)(n.td,{children:"Requires further investigation."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Conditional orders"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"\u2713"}),(0,r.jsx)(n.td,{children:"Stop and stop-limit orders."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"fix-drop-copy-integration",children:"FIX drop copy integration"}),"\n",(0,r.jsxs)(n.p,{children:["The Coinbase International adapter includes a FIX (Financial Information eXchange) ",(0,r.jsx)(n.a,{href:"https://docs.cdp.coinbase.com/intx/docs/fix-msg-drop-copy",children:"drop copy"})," client.\nThis provides reliable, low-latency execution updates directly from Coinbase's matching engine."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"This approach is necessary because execution messages are not provided over the WebSocket feed, and delivers faster and more reliable order execution updates than polling the REST API."})}),"\n",(0,r.jsx)(n.p,{children:"The FIX client:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Establishes a secure TCP/TLS connection and logs on automatically when the trading node starts."}),"\n",(0,r.jsx)(n.li,{children:"Handles connection monitoring and automatic reconnection and logon if the connection is interrupted."}),"\n",(0,r.jsx)(n.li,{children:"Properly logs out and closes the connection when the trading node stops."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The client processes several types of execution messages:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Order status reports (canceled, expired, triggered)."}),"\n",(0,r.jsx)(n.li,{children:"Fill reports (partial and complete fills)."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The FIX credentials are automatically managed using the same API credentials as the REST and WebSocket clients.\nNo additional configuration is required beyond providing valid API credentials."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The REST client handles processing ",(0,r.jsx)(n.code,{children:"REJECTED"})," and ",(0,r.jsx)(n.code,{children:"ACCEPTED"})," status execution messages on order submission."]})}),"\n",(0,r.jsx)(n.h3,{id:"account-and-position-management",children:"Account and position management"}),"\n",(0,r.jsx)(n.p,{children:"On startup, the execution client requests and loads your current account and execution state including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Available balances across all assets."}),"\n",(0,r.jsx)(n.li,{children:"Open orders."}),"\n",(0,r.jsx)(n.li,{children:"Open positions."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This provides your trading strategies with a complete picture of your account before placing new orders."}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"strategies",children:"Strategies"}),"\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsxs)(n.p,{children:["Coinbase International has a strict specification for client order IDs.\nNautilus can meet the spec by using UUID4 values for client order IDs.\nTo comply, set the ",(0,r.jsx)(n.code,{children:"use_uuid_client_order_ids=True"})," config option in your strategy configuration (otherwise, order submission will trigger an API error)."]}),(0,r.jsxs)(n.p,{children:["See the Coinbase International ",(0,r.jsx)(n.a,{href:"https://docs.cdp.coinbase.com/intx/reference/createorder",children:"Create order"})," REST API documentation for further details."]})]}),"\n",(0,r.jsx)(n.h3,{id:"data-client-configuration-options",children:"Data client configuration options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"venue"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX"})}),(0,r.jsx)(n.td,{children:"Venue identifier registered for the data client."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API key; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_KEY"})," (or testnet variant) when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_secret"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API secret; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_SECRET"})," (or testnet variant) when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_passphrase"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API passphrase; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_PASSPHRASE"})," when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_http"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the REST base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_ws"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the WebSocket base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http_timeout_secs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"60"})}),(0,r.jsx)(n.td,{children:"Default timeout (seconds) applied to REST calls."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"execution-client-configuration-options",children:"Execution client configuration options"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Option"}),(0,r.jsx)(n.th,{children:"Default"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"venue"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX"})}),(0,r.jsx)(n.td,{children:"Venue identifier registered for the execution client."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_key"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API key; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_KEY"})," (or testnet variant) when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_secret"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API secret; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_SECRET"})," (or testnet variant) when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"api_passphrase"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsxs)(n.td,{children:["API passphrase; loaded from ",(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_PASSPHRASE"})," when omitted."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"portfolio_id"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Portfolio identifier to trade; required for order submission."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_http"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the REST base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"base_url_ws"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"None"})}),(0,r.jsx)(n.td,{children:"Override for the WebSocket base URL."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"http_timeout_secs"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"60"})}),(0,r.jsx)(n.td,{children:"Default timeout (seconds) applied to REST calls."})]})]})]}),"\n",(0,r.jsx)(n.p,{children:"An example configuration could be:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.coinbase_intx import COINBASE_INTX, CoinbaseIntxDataClientConfig, CoinbaseIntxExecClientConfig\nfrom nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,  # Further config omitted\n    data_clients={\n        COINBASE_INTX: CoinbaseIntxDataClientConfig(\n            instrument_provider=InstrumentProviderConfig(load_all=True),\n        ),\n    },\n    exec_clients={\n        COINBASE_INTX: CoinbaseIntxExecClientConfig(\n            instrument_provider=InstrumentProviderConfig(load_all=True),\n        ),\n    },\n)\n\nstrat_config = TOBQuoterConfig(\n    use_uuid_client_order_ids=True,  # <-- Necessary for Coinbase Intx\n    instrument_id=instrument_id,\n    external_order_claims=[instrument_id],\n    ...,  # Further config omitted\n)\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then, create a ",(0,r.jsx)(n.code,{children:"TradingNode"})," and add the client factories:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.coinbase_intx import COINBASE_INTX, CoinbaseIntxLiveDataClientFactory, CoinbaseIntxLiveExecClientFactory\nfrom nautilus_trader.live.node import TradingNode\n\n# Instantiate the live trading node with a configuration\nnode = TradingNode(config=config)\n\n# Register the client factories with the node\nnode.add_data_client_factory(COINBASE_INTX, CoinbaseIntxLiveDataClientFactory)\nnode.add_exec_client_factory(COINBASE_INTX, CoinbaseIntxLiveExecClientFactory)\n\n# Finally build the node\nnode.build()\n"})}),"\n",(0,r.jsx)(n.h3,{id:"api-credentials",children:"API Credentials"}),"\n",(0,r.jsx)(n.p,{children:"Provide credentials to the clients using one of the following methods."}),"\n",(0,r.jsx)(n.p,{children:"Either pass values for the following configuration options:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"api_key"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"api_secret"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"api_passphrase"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"portfolio_id"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Or, set the following environment variables:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_KEY"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_SECRET"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX_API_PASSPHRASE"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"COINBASE_INTX_PORTFOLIO_ID"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:"We recommend using environment variables to manage your credentials."})}),"\n",(0,r.jsx)(n.p,{children:"When starting the trading node, you'll receive immediate confirmation of whether your\ncredentials are valid and have trading permissions."}),"\n",(0,r.jsx)(n.h2,{id:"implementation-notes",children:"Implementation notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Heartbeats"}),": The adapter maintains heartbeats on both the WebSocket and FIX connections to ensure reliable connectivity."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rate Limits"}),": The REST API client is configured to limit requests to 100 per second, matching the Coinbase International REST allowance. See ",(0,r.jsx)(n.a,{href:"https://docs.cdp.coinbase.com/intx/docs/rate-limits",children:"https://docs.cdp.coinbase.com/intx/docs/rate-limits"})," for the official guidance."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"warning",children:(0,r.jsx)(n.p,{children:"Coinbase International returns HTTP 429 when you exceed the 100 requests/sec allowance and can throttle the API key for several seconds, so keep bursts below the documented ceiling."})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Graceful Shutdown"}),": The adapter properly handles graceful shutdown, ensuring all pending messages are processed before disconnecting."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Thread Safety"}),": All adapter components are thread-safe, allowing them to be used from multiple threads concurrently."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Execution Model"}),": The adapter can be configured with a single Coinbase International portfolio per execution client. For trading multiple portfolios, you can create multiple execution clients."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},9087:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var t=i(6363);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);