"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[64],{6181:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"integrations/dydx","title":"dYdX","description":"dYdX is one of the largest decentralized cryptocurrency exchanges in terms of daily trading volume","source":"@site/docs/integrations/dydx.md","sourceDirName":"integrations","slug":"/integrations/dydx","permalink":"/integrations/dydx","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/dydx.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Databento","permalink":"/integrations/databento"},"next":{"title":"Hyperliquid","permalink":"/integrations/hyperliquid"}}');var d=r(7259),i=r(9087);const s={},l="dYdX",o={},c=[{value:"Installation",id:"installation",level:2},{value:"Examples",id:"examples",level:2},{value:"Overview",id:"overview",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"<code>StatusCode.NOT_FOUND</code> \u2014 account \u2026 /0 not found",id:"statuscodenot_found--account--0-not-found",level:3},{value:"Symbology",id:"symbology",level:2},{value:"Short-term and long-term orders",id:"short-term-and-long-term-orders",level:2},{value:"Market orders",id:"market-orders",level:2},{value:"Stop limit and stop market orders",id:"stop-limit-and-stop-market-orders",level:2},{value:"Orders capability",id:"orders-capability",level:2},{value:"Order Types",id:"order-types",level:3},{value:"Execution Instructions",id:"execution-instructions",level:3},{value:"Time in force options",id:"time-in-force-options",level:3},{value:"Advanced Order Features",id:"advanced-order-features",level:3},{value:"Batch operations",id:"batch-operations",level:3},{value:"Position management",id:"position-management",level:3},{value:"Order querying",id:"order-querying",level:3},{value:"Contingent orders",id:"contingent-orders",level:3},{value:"Order classification",id:"order-classification",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Data client configuration options",id:"data-client-configuration-options",level:3},{value:"Execution client configuration options",id:"execution-client-configuration-options",level:3},{value:"Execution clients",id:"execution-clients",level:3},{value:"API credentials",id:"api-credentials",level:3},{value:"Testnets",id:"testnets",level:3},{value:"Parser warnings",id:"parser-warnings",level:3},{value:"Order books",id:"order-books",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"dydx",children:"dYdX"})}),"\n",(0,d.jsx)(n.p,{children:"dYdX is one of the largest decentralized cryptocurrency exchanges in terms of daily trading volume\nfor crypto derivative products. dYdX runs on smart contracts on the Ethereum blockchain, and allows\nusers to trade with no intermediaries. This integration supports live market data ingestion and order\nexecution with dYdX v4, which is the first version of the protocol to be fully decentralized with no\ncentral components."}),"\n",(0,d.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,d.jsx)(n.p,{children:"To install NautilusTrader with dYdX support:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:'pip install --upgrade "nautilus_trader[dydx]"\n'})}),"\n",(0,d.jsx)(n.p,{children:"To build from source with all extras (including dYdX):"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-bash",children:"uv sync --all-extras\n"})}),"\n",(0,d.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,d.jsxs)(n.p,{children:["You can find live example scripts ",(0,d.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/dydx/",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(n.p,{children:"This guide assumes a trader is setting up for both live market data feeds, and trade execution.\nThe dYdX adapter includes multiple components, which can be used together or separately depending\non the use case."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXHttpClient"}),": Low-level HTTP API connectivity."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXWebSocketClient"}),": Low-level WebSocket API connectivity."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXAccountGRPCAPI"}),": Low-level gRPC API connectivity for account updates."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXInstrumentProvider"}),": Instrument parsing and loading functionality."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXDataClient"}),": A market data feed manager."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXExecutionClient"}),": An account management and trade execution gateway."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXLiveDataClientFactory"}),": Factory for dYdX data clients (used by the trading node builder)."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"DYDXLiveExecClientFactory"}),": Factory for dYdX execution clients (used by the trading node builder)."]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsx)(n.p,{children:"Most users will simply define a configuration for a live trading node (as below),\nand won't need to necessarily work with these lower level components directly."})}),"\n",(0,d.jsxs)(n.admonition,{title:"First-time account activation",type:"warning",children:[(0,d.jsxs)(n.p,{children:["A dYdX v4 trading account (sub-account 0) is created ",(0,d.jsx)(n.strong,{children:"only after"})," the wallet\u2019s first deposit or trade.\nUntil then, every gRPC/Indexer query returns ",(0,d.jsx)(n.code,{children:"NOT_FOUND"}),", so ",(0,d.jsx)(n.code,{children:"DYDXExecutionClient.connect()"})," fails."]}),(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Action \u2192"})," Before starting a live ",(0,d.jsx)(n.code,{children:"TradingNode"}),", send any positive amount of USDC (\u2265 1 wei) or other supported collateral from the same wallet ",(0,d.jsx)(n.strong,{children:"on the same network"})," (mainnet / testnet).\nOnce the transaction has finalised (a few blocks) restart the node; the client will connect cleanly."]})]}),"\n",(0,d.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,d.jsxs)(n.h3,{id:"statuscodenot_found--account--0-not-found",children:[(0,d.jsx)(n.code,{children:"StatusCode.NOT_FOUND"})," \u2014 account \u2026 /0 not found"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Cause"}),"\u2002",(0,d.jsx)(n.em,{children:"The wallet/sub-account has never been funded and therefore does not yet exist on-chain."})]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Fix"})}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"Deposit any positive amount of USDC to sub-account 0 on the correct network."}),"\n",(0,d.jsx)(n.li,{children:"Wait for finality (\u2248 30 s on mainnet, longer on testnet)."}),"\n",(0,d.jsxs)(n.li,{children:["Restart the ",(0,d.jsx)(n.code,{children:"TradingNode"}),"; the connection should now succeed."]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsxs)(n.p,{children:["In unattended deployments, wrap the ",(0,d.jsx)(n.code,{children:"connect()"})," call in an exponential-backoff loop so the client retries until the deposit appears."]})}),"\n",(0,d.jsx)(n.h2,{id:"symbology",children:"Symbology"}),"\n",(0,d.jsxs)(n.p,{children:["Only perpetual contracts are available on dYdX. To be consistent with other adapters and to be\nfutureproof in case other products become available on dYdX, NautilusTrader appends ",(0,d.jsx)(n.code,{children:"-PERP"})," for all\navailable perpetual symbols. For example, the Bitcoin/USD-C perpetual futures contract is identified\nas ",(0,d.jsx)(n.code,{children:"BTC-USD-PERP"}),". The quote currency for all markets is USD-C. Therefore, dYdX abbreviates it to USD."]}),"\n",(0,d.jsx)(n.h2,{id:"short-term-and-long-term-orders",children:"Short-term and long-term orders"}),"\n",(0,d.jsx)(n.p,{children:"dYdX makes a distinction between short-term orders and long-term orders (or stateful orders).\nShort-term orders are meant to be placed immediately and belongs in the same block the order was received.\nThese orders stay in-memory up to 20 blocks, with only their fill amount and expiry block height being committed to state.\nShort-term orders are mainly intended for use by market makers with high throughput or for market orders."}),"\n",(0,d.jsx)(n.p,{children:"By default, all orders are sent as short-term orders. To construct long-term orders, you can attach a tag to\nan order like this:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.dydx import DYDXOrderTags\n\norder: LimitOrder = self.order_factory.limit(\n    instrument_id=self.instrument_id,\n    order_side=OrderSide.BUY,\n    quantity=self.instrument.make_qty(self.trade_size),\n    price=self.instrument.make_price(price),\n    time_in_force=TimeInForce.GTD,\n    expire_time=self.clock.utc_now() + pd.Timedelta(minutes=10),\n    post_only=True,\n    emulation_trigger=self.emulation_trigger,\n    tags=[DYDXOrderTags(is_short_term_order=False).value],\n)\n"})}),"\n",(0,d.jsx)(n.p,{children:"To specify the number of blocks that an order is active:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.dydx import DYDXOrderTags\n\norder: LimitOrder = self.order_factory.limit(\n    instrument_id=self.instrument_id,\n    order_side=OrderSide.BUY,\n    quantity=self.instrument.make_qty(self.trade_size),\n    price=self.instrument.make_price(price),\n    time_in_force=TimeInForce.GTD,\n    expire_time=self.clock.utc_now() + pd.Timedelta(seconds=5),\n    post_only=True,\n    emulation_trigger=self.emulation_trigger,\n    tags=[DYDXOrderTags(is_short_term_order=True, num_blocks_open=5).value],\n)\n"})}),"\n",(0,d.jsx)(n.h2,{id:"market-orders",children:"Market orders"}),"\n",(0,d.jsx)(n.p,{children:"Market orders require specifying a price to for price slippage protection and use hidden orders.\nBy setting a price for a market order, you can limit the potential price slippage. For example,\nif you set the price of $100 for a market buy order, the order will only be executed if the market price\nis at or below $100. If the market price is above $100, the order will not be executed."}),"\n",(0,d.jsx)(n.p,{children:"Some exchanges, including dYdX, support hidden orders. A hidden order is an order that is not visible\nto other market participants, but is still executable. By setting a price for a market order, you can\ncreate a hidden order that will only be executed if the market price reaches the specified price."}),"\n",(0,d.jsx)(n.p,{children:"If the market price is not specified, a default value of 0 is used."}),"\n",(0,d.jsx)(n.p,{children:"To specify the price when creating a market order:"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'order = self.order_factory.market(\n    instrument_id=self.instrument_id,\n    order_side=OrderSide.BUY,\n    quantity=self.instrument.make_qty(self.trade_size),\n    time_in_force=TimeInForce.IOC,\n    tags=[DYDXOrderTags(is_short_term_order=True, market_order_price=Price.from_str("10_000")).value],\n)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"stop-limit-and-stop-market-orders",children:"Stop limit and stop market orders"}),"\n",(0,d.jsx)(n.p,{children:"Both stop limit and stop market conditional orders can be submitted. dYdX only supports long-term orders\nfor conditional orders."}),"\n",(0,d.jsx)(n.h2,{id:"orders-capability",children:"Orders capability"}),"\n",(0,d.jsx)(n.p,{children:"dYdX supports perpetual futures trading with a comprehensive set of order types and execution features."}),"\n",(0,d.jsx)(n.h3,{id:"order-types",children:"Order Types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Order Type"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"MARKET"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Requires price for slippage protection. Quote quantity not supported."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"LIMIT"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"STOP_MARKET"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Long-term orders only."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Long-term orders only."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"TRAILING_STOP_MARKET"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"execution-instructions",children:"Execution Instructions"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Instruction"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"post_only"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Supported on all order types."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"reduce_only"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Supported on all order types."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"time-in-force-options",children:"Time in force options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Time in force"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"GTC"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Good Till Canceled."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"GTD"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Good Till Date."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FOK"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Fill or Kill."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"IOC"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Immediate or Cancel."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"advanced-order-features",children:"Advanced Order Features"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order Modification"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Short-term orders only; cancel-replace method."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Bracket/OCO Orders"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Iceberg Orders"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"batch-operations",children:"Batch operations"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Operation"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Submit"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Modify"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Cancel"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"position-management",children:"Position management"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query positions"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Real-time position updates."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Position mode"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Net position mode only."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Leverage control"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Per-market leverage settings."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Margin mode"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"Cross margin only."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"order-querying",children:"Order querying"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query open orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"List all active orders."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query order history"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Historical order data."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order status updates"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Real-time order state changes."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Trade history"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Execution and fill reports."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"contingent-orders",children:"Contingent orders"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Perpetuals"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order lists"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OCO orders"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Bracket orders"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Conditional orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Stop market and stop limit orders."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"order-classification",children:"Order classification"}),"\n",(0,d.jsxs)(n.p,{children:["dYdX classifies orders as either ",(0,d.jsx)(n.strong,{children:"short-term"})," or ",(0,d.jsx)(n.strong,{children:"long-term"})," orders:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Short-term orders"}),": Default for all orders; intended for high-frequency trading and market orders."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Long-term orders"}),": Required for conditional orders; use ",(0,d.jsx)(n.code,{children:"DYDXOrderTags"})," to specify."]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,d.jsx)(n.p,{children:"The product types for each client must be specified in the configurations."}),"\n",(0,d.jsx)(n.h3,{id:"data-client-configuration-options",children:"Data client configuration options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"wallet_address"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Wallet address; loaded from ",(0,d.jsx)(n.code,{children:"DYDX_WALLET_ADDRESS"}),"/",(0,d.jsx)(n.code,{children:"DYDX_TESTNET_WALLET_ADDRESS"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"is_testnet"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the dYdX testnet when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"update_instruments_interval_mins"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"60"})}),(0,d.jsx)(n.td,{children:"Interval (minutes) between instrument catalogue refreshes."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_retries"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts for REST/WebSocket recovery."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Initial delay (milliseconds) between retries."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum delay (milliseconds) between retries."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"execution-client-configuration-options",children:"Execution client configuration options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"wallet_address"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Wallet address; loaded from ",(0,d.jsx)(n.code,{children:"DYDX_WALLET_ADDRESS"}),"/",(0,d.jsx)(n.code,{children:"DYDX_TESTNET_WALLET_ADDRESS"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"subaccount"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"0"})}),(0,d.jsxs)(n.td,{children:["Subaccount number (dYdX provisions subaccount ",(0,d.jsx)(n.code,{children:"0"})," by default)."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"mnemonic"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Mnemonic used to derive the signing key; loaded from environment when omitted."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_http"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the REST base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_ws"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the WebSocket base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"is_testnet"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the dYdX testnet when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_retries"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts for order submission/cancel/modify calls."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Initial delay (milliseconds) between retries."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum delay (milliseconds) between retries."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"execution-clients",children:"Execution clients"}),"\n",(0,d.jsx)(n.p,{children:"The account type must be a margin account to trade the perpetual futures contracts."}),"\n",(0,d.jsxs)(n.p,{children:["The most common use case is to configure a live ",(0,d.jsx)(n.code,{children:"TradingNode"})," to include dYdX\ndata and execution clients. To achieve this, add a ",(0,d.jsx)(n.code,{children:"DYDX"})," section to your client\nconfiguration(s):"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        "DYDX": {\n            "wallet_address": "YOUR_DYDX_WALLET_ADDRESS",\n            "is_testnet": False,\n        },\n    },\n    exec_clients={\n        "DYDX": {\n            "wallet_address": "YOUR_DYDX_WALLET_ADDRESS",\n            "subaccount": "YOUR_DYDX_SUBACCOUNT_NUMBER"\n            "mnemonic": "YOUR_MNEMONIC",\n            "is_testnet": False,\n        },\n    },\n)\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Then, create a ",(0,d.jsx)(n.code,{children:"TradingNode"})," and add the client factories:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.dydx import DYDXLiveDataClientFactory\nfrom nautilus_trader.adapters.dydx import DYDXLiveExecClientFactory\nfrom nautilus_trader.live.node import TradingNode\n\n# Instantiate the live trading node with a configuration\nnode = TradingNode(config=config)\n\n# Register the client factories with the node\nnode.add_data_client_factory("DYDX", DYDXLiveDataClientFactory)\nnode.add_exec_client_factory("DYDX", DYDXLiveExecClientFactory)\n\n# Finally build the node\nnode.build()\n'})}),"\n",(0,d.jsx)(n.h3,{id:"api-credentials",children:"API credentials"}),"\n",(0,d.jsxs)(n.p,{children:["There are two options for supplying your credentials to the dYdX clients.\nEither pass the corresponding ",(0,d.jsx)(n.code,{children:"wallet_address"})," and ",(0,d.jsx)(n.code,{children:"mnemonic"})," values to the configuration objects, or\nset the following environment variables:"]}),"\n",(0,d.jsx)(n.p,{children:"For dYdX live clients, you can set:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DYDX_WALLET_ADDRESS"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DYDX_MNEMONIC"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"For dYdX testnet clients, you can set:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DYDX_TESTNET_WALLET_ADDRESS"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"DYDX_TESTNET_MNEMONIC"})}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsx)(n.p,{children:"We recommend using environment variables to manage your credentials."})}),"\n",(0,d.jsx)(n.p,{children:"The data client is using the wallet address to determine the trading fees. The trading fees are used during back tests only."}),"\n",(0,d.jsx)(n.h3,{id:"testnets",children:"Testnets"}),"\n",(0,d.jsxs)(n.p,{children:["It's also possible to configure one or both clients to connect to the dYdX testnet.\nSimply set the ",(0,d.jsx)(n.code,{children:"is_testnet"})," option to ",(0,d.jsx)(n.code,{children:"True"})," (this is ",(0,d.jsx)(n.code,{children:"False"})," by default):"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'config = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        "DYDX": {\n            "wallet_address": "YOUR_DYDX_WALLET_ADDRESS",\n            "is_testnet": True,\n        },\n    },\n    exec_clients={\n        "DYDX": {\n            "wallet_address": "YOUR_DYDX_WALLET_ADDRESS",\n            "subaccount": "YOUR_DYDX_SUBACCOUNT_NUMBER"\n            "mnemonic": "YOUR_MNEMONIC",\n            "is_testnet": True,\n        },\n    },\n)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"parser-warnings",children:"Parser warnings"}),"\n",(0,d.jsxs)(n.p,{children:["Some dYdX instruments are unable to be parsed into Nautilus objects if they\ncontain enormous field values beyond what can be handled by the platform.\nIn these cases, a ",(0,d.jsx)(n.em,{children:"warn and continue"})," approach is taken (the instrument will not be available)."]}),"\n",(0,d.jsx)(n.h2,{id:"order-books",children:"Order books"}),"\n",(0,d.jsxs)(n.p,{children:["Order books can be maintained at full depth or top-of-book quotes depending on the\nsubscription. The venue does not provide quotes, but the adapter subscribes to order\nbook deltas and sends new quotes to the ",(0,d.jsx)(n.code,{children:"DataEngine"})," when there is a top-of-book price or size change."]}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["For additional features or to contribute to the dYdX adapter, please see our\n",(0,d.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"."]})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},9087:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>l});var t=r(6363);const d={},i=t.createContext(d);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);