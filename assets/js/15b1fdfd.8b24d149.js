"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[2514],{2481:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"integrations/okx","title":"OKX","description":"Founded in 2017, OKX is a leading cryptocurrency exchange offering spot, perpetual swap,","source":"@site/docs/integrations/okx.md","sourceDirName":"integrations","slug":"/integrations/okx","permalink":"/integrations/okx","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/okx.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Interactive Brokers","permalink":"/integrations/ib"},"next":{"title":"Polymarket","permalink":"/integrations/polymarket"}}');var s=r(7259),d=r(9087);const t={},l="OKX",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Examples",id:"examples",level:2},{value:"Product support",id:"product-support",level:3},{value:"Symbology",id:"symbology",level:2},{value:"Symbol format by instrument type",id:"symbol-format-by-instrument-type",level:3},{value:"SPOT",id:"spot",level:4},{value:"SWAP (Perpetual Futures)",id:"swap-perpetual-futures",level:4},{value:"FUTURES (Dated Futures)",id:"futures-dated-futures",level:4},{value:"OPTIONS",id:"options",level:4},{value:"Common questions",id:"common-questions",level:3},{value:"Orders capability",id:"orders-capability",level:2},{value:"Client order ID requirements",id:"client-order-id-requirements",level:3},{value:"Order types",id:"order-types",level:3},{value:"Execution instructions",id:"execution-instructions",level:3},{value:"Time in force",id:"time-in-force",level:3},{value:"Batch operations",id:"batch-operations",level:3},{value:"Position management",id:"position-management",level:3},{value:"Margin modes",id:"margin-modes",level:3},{value:"Available margin modes",id:"available-margin-modes",level:4},{value:"Setting margin mode per order",id:"setting-margin-mode-per-order",level:4},{value:"Order querying",id:"order-querying",level:3},{value:"Contingent orders",id:"contingent-orders",level:3},{value:"Conditional order architecture",id:"conditional-order-architecture",level:4},{value:"Supported conditional order types",id:"supported-conditional-order-types",level:4},{value:"Trigger price types",id:"trigger-price-types",level:4},{value:"Authentication",id:"authentication",level:2},{value:"Demo trading",id:"demo-trading",level:2},{value:"Rate limiting",id:"rate-limiting",level:2},{value:"REST limits",id:"rest-limits",level:3},{value:"WebSocket limits",id:"websocket-limits",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Configuration options",id:"configuration-options",level:3},{value:"Data client",id:"data-client",level:4},{value:"Execution client",id:"execution-client",level:4}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"okx",children:"OKX"})}),"\n",(0,s.jsx)(n.p,{children:"Founded in 2017, OKX is a leading cryptocurrency exchange offering spot, perpetual swap,\nfutures, and options trading. This integration supports live market data ingest and order\nexecution on OKX."}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"This adapter is implemented in Rust, with optional Python bindings for ease of use in Python-based workflows.\nIt does not require external OKX client libraries\u2014the core components are compiled as a static library and linked automatically during the build."}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.p,{children:["You can find live example scripts ",(0,s.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/okx/",children:"here"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"product-support",children:"Product support"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Product Type"}),(0,s.jsx)(n.th,{children:"Data Feed"}),(0,s.jsx)(n.th,{children:"Trading"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Spot"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Use for index prices."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Perpetual Swaps"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Linear and inverse contracts."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Futures"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Specific expiration dates."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Margin"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"Not yet supported"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Options"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"Data feed supported, trading coming soon"}),"."]})]})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Options support"}),": While you can subscribe to options market data and receive price updates, order execution for options is not yet implemented. You can use the symbology format shown above to subscribe to options data feeds."]})}),"\n",(0,s.jsx)(n.p,{children:"The OKX adapter includes multiple components, which can be used separately or together depending on your use case."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXHttpClient"}),": Low-level HTTP API connectivity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXWebSocketClient"}),": Low-level WebSocket API connectivity."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXInstrumentProvider"}),": Instrument parsing and loading functionality."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXDataClient"}),": Market data feed manager."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXExecutionClient"}),": Account management and trade execution gateway."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXLiveDataClientFactory"}),": Factory for OKX data clients (used by the trading node builder)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"OKXLiveExecClientFactory"}),": Factory for OKX execution clients (used by the trading node builder)."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Most users will simply define a configuration for a live trading node (as shown below),\nand won\u2019t need to work directly with these lower-level components."})}),"\n",(0,s.jsx)(n.h2,{id:"symbology",children:"Symbology"}),"\n",(0,s.jsxs)(n.p,{children:["OKX uses specific symbol conventions for different instrument types. All instrument IDs should include the ",(0,s.jsx)(n.code,{children:".OKX"})," suffix when referencing them (e.g., ",(0,s.jsx)(n.code,{children:"BTC-USDT.OKX"})," for spot Bitcoin)."]}),"\n",(0,s.jsx)(n.h3,{id:"symbol-format-by-instrument-type",children:"Symbol format by instrument type"}),"\n",(0,s.jsx)(n.h4,{id:"spot",children:"SPOT"}),"\n",(0,s.jsxs)(n.p,{children:["Format: ",(0,s.jsx)(n.code,{children:"{BaseCurrency}-{QuoteCurrency}"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USDT"})," - Bitcoin against USDT (Tether)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USDC"})," - Bitcoin against USDC"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ETH-USDT"})," - Ethereum against USDT"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SOL-USDT"})," - Solana against USDT"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"To subscribe to spot Bitcoin USD in your strategy:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'InstrumentId.from_str("BTC-USDT.OKX")  # For USDT-quoted spot\nInstrumentId.from_str("BTC-USDC.OKX")  # For USDC-quoted spot\n'})}),"\n",(0,s.jsx)(n.h4,{id:"swap-perpetual-futures",children:"SWAP (Perpetual Futures)"}),"\n",(0,s.jsxs)(n.p,{children:["Format: ",(0,s.jsx)(n.code,{children:"{BaseCurrency}-{QuoteCurrency}-SWAP"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USDT-SWAP"})," - Bitcoin perpetual swap (linear, USDT-margined)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USD-SWAP"})," - Bitcoin perpetual swap (inverse, coin-margined)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ETH-USDT-SWAP"})," - Ethereum perpetual swap (linear)"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ETH-USD-SWAP"})," - Ethereum perpetual swap (inverse)"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Linear vs Inverse contracts:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Linear"})," (USDT-margined): Uses stablecoins like USDT as margin."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inverse"})," (coin-margined): Uses the base cryptocurrency as margin."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"futures-dated-futures",children:"FUTURES (Dated Futures)"}),"\n",(0,s.jsxs)(n.p,{children:["Format: ",(0,s.jsx)(n.code,{children:"{BaseCurrency}-{QuoteCurrency}-{YYMMDD}"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USD-251226"})," - Bitcoin futures expiring December 26, 2025"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ETH-USD-251226"})," - Ethereum futures expiring December 26, 2025"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USD-250328"})," - Bitcoin futures expiring March 28, 2025"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Note: Futures are typically inverse contracts (coin-margined)."}),"\n",(0,s.jsx)(n.h4,{id:"options",children:"OPTIONS"}),"\n",(0,s.jsxs)(n.p,{children:["Format: ",(0,s.jsx)(n.code,{children:"{BaseCurrency}-{QuoteCurrency}-{YYMMDD}-{Strike}-{Type}"})]}),"\n",(0,s.jsx)(n.p,{children:"Examples:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USD-250328-100000-C"})," - Bitcoin call option, $100,000 strike, expiring March 28, 2025"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"BTC-USD-250328-100000-P"})," - Bitcoin put option, $100,000 strike, expiring March 28, 2025"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ETH-USD-250328-4000-C"})," - Ethereum call option, $4,000 strike, expiring March 28, 2025"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Where:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"C"})," = Call option"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"P"})," = Put option"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"common-questions",children:"Common questions"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Q: How do I subscribe to spot Bitcoin USD?"}),"\nA: Use ",(0,s.jsx)(n.code,{children:"BTC-USDT.OKX"})," for USDT-margined spot or ",(0,s.jsx)(n.code,{children:"BTC-USDC.OKX"})," for USDC-margined spot."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Q: What's the difference between BTC-USDT-SWAP and BTC-USD-SWAP?"}),"\nA: ",(0,s.jsx)(n.code,{children:"BTC-USDT-SWAP"})," is a linear perpetual (USDT-margined), while ",(0,s.jsx)(n.code,{children:"BTC-USD-SWAP"})," is an inverse perpetual (BTC-margined)."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Q: How do I know which contract type to use?"}),"\nA: Check the ",(0,s.jsx)(n.code,{children:"contract_types"})," parameter in the configuration:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["For linear contracts: ",(0,s.jsx)(n.code,{children:"OKXContractType.LINEAR"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["For inverse contracts: ",(0,s.jsx)(n.code,{children:"OKXContractType.INVERSE"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"orders-capability",children:"Orders capability"}),"\n",(0,s.jsx)(n.p,{children:"Below are the order types, execution instructions, and time-in-force options supported\nfor linear perpetual swap products on OKX."}),"\n",(0,s.jsx)(n.h3,{id:"client-order-id-requirements",children:"Client order ID requirements"}),"\n",(0,s.jsxs)(n.admonition,{type:"warning",children:[(0,s.jsx)(n.p,{children:"OKX has specific requirements for client order IDs:"}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No hyphens allowed"}),": OKX does not accept hyphens (",(0,s.jsx)(n.code,{children:"-"}),") in client order IDs."]}),"\n",(0,s.jsx)(n.li,{children:"Maximum length: 32 characters."}),"\n",(0,s.jsx)(n.li,{children:"Allowed characters: alphanumeric characters and underscores only."}),"\n"]}),(0,s.jsx)(n.p,{children:"When configuring your strategy, ensure you set:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"use_hyphens_in_client_order_ids=False\n"})})]}),"\n",(0,s.jsx)(n.h3,{id:"order-types",children:"Order types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Order Type"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"MARKET"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Immediate execution at market price. Supports quote quantity."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"LIMIT"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Execution at specified price or better."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STOP_MARKET"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Conditional market order (OKX algo order)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Conditional limit order (OKX algo order)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Conditional market order (OKX algo order)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Conditional limit order (OKX algo order)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"TRAILING_STOP"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"Not yet supported"}),"."]})]})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Conditional orders"}),": ",(0,s.jsx)(n.code,{children:"STOP_MARKET"}),", ",(0,s.jsx)(n.code,{children:"STOP_LIMIT"}),", ",(0,s.jsx)(n.code,{children:"MARKET_IF_TOUCHED"}),", and ",(0,s.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})," are implemented as OKX algo orders, providing advanced trigger capabilities with multiple price sources."]})}),"\n",(0,s.jsx)(n.h3,{id:"execution-instructions",children:"Execution instructions"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Instruction"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"post_only"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Only for LIMIT orders."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"reduce_only"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Only for derivatives."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"time-in-force",children:"Time in force"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Time in force"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GTC"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Good Till Canceled."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"FOK"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Fill or Kill."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"IOC"})}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Immediate or Cancel."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"GTD"})}),(0,s.jsx)(n.td,{children:"\u2717"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.em,{children:"Not supported by OKX API."})})]})]})]}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"GTD (Good Till Date) time in force"}),": OKX does not support native GTD functionality through their API."]}),(0,s.jsx)(n.p,{children:"If you need GTD functionality, you must use Nautilus's strategy-managed GTD feature, which will handle the order expiration by canceling the order at the specified expiry time."})]}),"\n",(0,s.jsx)(n.h3,{id:"batch-operations",children:"Batch operations"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Operation"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Batch Submit"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Submit multiple orders in single request."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Batch Modify"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Modify multiple orders in single request."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Batch Cancel"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Cancel multiple orders in single request."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"position-management",children:"Position management"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Query positions"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Real-time position updates."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Position mode"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Net vs Long/Short mode."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Leverage control"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Dynamic leverage adjustment per instrument."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Margin mode"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Supports cash, isolated, cross, spot_isolated modes."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"margin-modes",children:"Margin modes"}),"\n",(0,s.jsxs)(n.p,{children:["OKX's unified account system allows trading with different margin modes on a per-order basis. The adapter supports specifying the trade mode (",(0,s.jsx)(n.code,{children:"td_mode"}),") when submitting orders."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important"}),": Account modes must be initially configured via the OKX Web/App interface. The API cannot set the account mode for the first time."]})}),"\n",(0,s.jsxs)(n.p,{children:["For more details on OKX's account modes and margin system, see the ",(0,s.jsx)(n.a,{href:"https://www.okx.com/docs-v5/en/#overview-account-mode",children:"OKX Account Mode documentation"}),"."]}),"\n",(0,s.jsx)(n.h4,{id:"available-margin-modes",children:"Available margin modes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"cash"})}),": Spot trading without margin (default for spot trading)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"isolated"})}),": Isolated margin mode where risk is confined to specific positions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"cross"})}),": Cross margin mode where all positions share the same margin pool."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"spot_isolated"})}),": Isolated margin for spot trading."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"setting-margin-mode-per-order",children:"Setting margin mode per order"}),"\n",(0,s.jsxs)(n.p,{children:["You can specify the margin mode for individual orders using the ",(0,s.jsx)(n.code,{children:"params"})," parameter:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Submit an order with isolated margin mode\nstrategy.submit_order(\n    order=order,\n    params={"td_mode": "isolated"}\n)\n\n# Submit an order with cross margin mode\nstrategy.submit_order(\n    order=order,\n    params={"td_mode": "cross"}\n)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["If no ",(0,s.jsx)(n.code,{children:"td_mode"})," is specified in params, the adapter will use the default mode configured for your account type:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Cash accounts default to ",(0,s.jsx)(n.code,{children:"cash"})," mode."]}),"\n",(0,s.jsxs)(n.li,{children:["Margin accounts default to ",(0,s.jsx)(n.code,{children:"isolated"})," mode."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This flexibility allows you to:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Run multiple strategies with different risk profiles simultaneously."}),"\n",(0,s.jsx)(n.li,{children:"Isolate high-risk trades while using cross margin for capital-efficient positions."}),"\n",(0,s.jsx)(n.li,{children:"Mix spot and margin trades within the same account."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"order-querying",children:"Order querying"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Query open orders"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"List all active orders."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Query order history"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Historical order data."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Order status updates"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Real-time order state changes."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Trade history"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Execution and fill reports."})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"contingent-orders",children:"Contingent orders"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Feature"}),(0,s.jsx)(n.th,{children:"Linear Perpetual Swap"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Order lists"}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"OCO orders"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"One-Cancels-Other orders."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Bracket orders"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Stop loss + take profit combinations."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Conditional orders"}),(0,s.jsx)(n.td,{children:"\u2713"}),(0,s.jsx)(n.td,{children:"Stop and limit-if-touched orders."})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"conditional-order-architecture",children:"Conditional order architecture"}),"\n",(0,s.jsx)(n.p,{children:"Conditional orders (OKX algo orders) use a hybrid architecture for optimal performance and reliability:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Submission"}),": Via HTTP REST API (",(0,s.jsx)(n.code,{children:"/api/v5/trade/order-algo"}),")"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Status updates"}),": Via WebSocket business endpoint (",(0,s.jsx)(n.code,{children:"/ws/v5/business"}),") on the ",(0,s.jsx)(n.code,{children:"orders-algo"})," channel"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Cancellation"}),": Via HTTP REST API using algo order ID tracking"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This design ensures:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Immediate submission acknowledgment through HTTP."}),"\n",(0,s.jsx)(n.li,{children:"Real-time status updates through WebSocket."}),"\n",(0,s.jsx)(n.li,{children:"Proper order lifecycle management with algo order ID mapping."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"supported-conditional-order-types",children:"Supported conditional order types"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Order Type"}),(0,s.jsx)(n.th,{children:"Trigger Types"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STOP_MARKET"})}),(0,s.jsx)(n.td,{children:"Last, Mark, Index"}),(0,s.jsx)(n.td,{children:"Market execution when triggered."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,s.jsx)(n.td,{children:"Last, Mark, Index"}),(0,s.jsx)(n.td,{children:"Limit order placement when triggered."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,s.jsx)(n.td,{children:"Last, Mark, Index"}),(0,s.jsx)(n.td,{children:"Market execution when price touched."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,s.jsx)(n.td,{children:"Last, Mark, Index"}),(0,s.jsx)(n.td,{children:"Limit order placement when price touched."})]})]})]}),"\n",(0,s.jsx)(n.h4,{id:"trigger-price-types",children:"Trigger price types"}),"\n",(0,s.jsx)(n.p,{children:"Conditional orders support different trigger price sources:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Last Price"})," (",(0,s.jsx)(n.code,{children:"TriggerType.LAST_PRICE"}),"): Uses the last traded price (default)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mark Price"})," (",(0,s.jsx)(n.code,{children:"TriggerType.MARK_PRICE"}),"): Uses the mark price (recommended for derivatives)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Index Price"})," (",(0,s.jsx)(n.code,{children:"TriggerType.INDEX_PRICE"}),"): Uses the underlying index price."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# Example: Stop loss using mark price trigger\nstop_order = order_factory.stop_market(\n    instrument_id=instrument_id,\n    order_side=OrderSide.SELL,\n    quantity=Quantity.from_str("0.1"),\n    trigger_price=Price.from_str("45000.0"),\n    trigger_type=TriggerType.MARK_PRICE,  # Use mark price for trigger\n)\nstrategy.submit_order(stop_order)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsx)(n.p,{children:"To use the OKX adapter, you'll need to create API credentials in your OKX account:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Log into your OKX account and navigate to the API management page."}),"\n",(0,s.jsx)(n.li,{children:"Create a new API key with the required permissions for trading and data access."}),"\n",(0,s.jsx)(n.li,{children:"Note down your API key, secret key, and passphrase."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You can provide these credentials through environment variables:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'export OKX_API_KEY="your_api_key"\nexport OKX_API_SECRET="your_api_secret"\nexport OKX_API_PASSPHRASE="your_passphrase"\n'})}),"\n",(0,s.jsx)(n.p,{children:"Or pass them directly in the configuration (not recommended for production)."}),"\n",(0,s.jsx)(n.h2,{id:"demo-trading",children:"Demo trading"}),"\n",(0,s.jsxs)(n.p,{children:["OKX provides a demo trading environment for testing strategies without real funds. To use demo mode, set ",(0,s.jsx)(n.code,{children:"is_demo=True"})," in your client configuration:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"config = TradingNodeConfig(\n    data_clients={\n        OKX: OKXDataClientConfig(\n            is_demo=True,  # Enable demo mode\n            # ... other config\n        ),\n    },\n    exec_clients={\n        OKX: OKXExecClientConfig(\n            is_demo=True,  # Enable demo mode\n            # ... other config\n        ),\n    },\n)\n"})}),"\n",(0,s.jsx)(n.p,{children:"When demo mode is enabled:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["REST API requests include the ",(0,s.jsx)(n.code,{children:"x-simulated-trading: 1"})," header."]}),"\n",(0,s.jsxs)(n.li,{children:["WebSocket connections use demo endpoints (",(0,s.jsx)(n.code,{children:"wspap.okx.com"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"The same API credentials are used as production."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"You must use API keys created specifically for demo trading. Production API keys will not work in demo mode."})}),"\n",(0,s.jsx)(n.h2,{id:"rate-limiting",children:"Rate limiting"}),"\n",(0,s.jsx)(n.p,{children:"The adapter enforces OKX\u2019s per-endpoint quotas while keeping sensible defaults for both REST and WebSocket calls."}),"\n",(0,s.jsx)(n.h3,{id:"rest-limits",children:"REST limits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Global cap: 250 requests per second (matches 500 requests / 2 seconds IP allowance)."}),"\n",(0,s.jsx)(n.li,{children:"Endpoint-specific quotas appear in the table below and mirror OKX\u2019s published limits where available."}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"websocket-limits",children:"WebSocket limits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Subscription operations: 3 requests per second."}),"\n",(0,s.jsx)(n.li,{children:"Order actions (place/cancel/amend): 250 requests per second."}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsx)(n.p,{children:"OKX enforces per-endpoint and per-account quotas; exceeding them leads to HTTP 429 responses and temporary throttling on that key."})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Key / Endpoint"}),(0,s.jsx)(n.th,{children:"Limit (req/sec)"}),(0,s.jsx)(n.th,{children:"Notes"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"okx:global"})}),(0,s.jsx)(n.td,{children:"250"}),(0,s.jsx)(n.td,{children:"Matches 500 req / 2 s IP allowance."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/public/instruments"})}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"Matches OKX 20 req / 2 s docs."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/market/candles"})}),(0,s.jsx)(n.td,{children:"50"}),(0,s.jsx)(n.td,{children:"Higher allowance for streaming candles."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/market/history-candles"})}),(0,s.jsx)(n.td,{children:"20"}),(0,s.jsx)(n.td,{children:"Conservative quota for large historical pulls."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/market/history-trades"})}),(0,s.jsx)(n.td,{children:"30"}),(0,s.jsx)(n.td,{children:"Trade history pulls."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/account/balance"})}),(0,s.jsx)(n.td,{children:"5"}),(0,s.jsx)(n.td,{children:"OKX guidance: 10 req / 2 s."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/order"})}),(0,s.jsx)(n.td,{children:"30"}),(0,s.jsx)(n.td,{children:"60 requests / 2 seconds per-instrument limit."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/orders-pending"})}),(0,s.jsx)(n.td,{children:"20"}),(0,s.jsx)(n.td,{children:"Open order fetch."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/orders-history"})}),(0,s.jsx)(n.td,{children:"20"}),(0,s.jsx)(n.td,{children:"Historical orders."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/fills"})}),(0,s.jsx)(n.td,{children:"30"}),(0,s.jsx)(n.td,{children:"Execution reports."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/order-algo"})}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"Algo placements (conditional orders)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"/api/v5/trade/cancel-algos"})}),(0,s.jsx)(n.td,{children:"10"}),(0,s.jsx)(n.td,{children:"Algo cancellation."})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["All keys automatically include the ",(0,s.jsx)(n.code,{children:"okx:global"})," bucket. URLs are normalised (query strings removed) before rate limiting, so requests with different filters share the same quota."]}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["For more details on rate limiting, see the official documentation: ",(0,s.jsx)(n.a,{href:"https://www.okx.com/docs-v5/en/#rest-api-rate-limit",children:"https://www.okx.com/docs-v5/en/#rest-api-rate-limit"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"configuration-options",children:"Configuration options"}),"\n",(0,s.jsx)(n.p,{children:"The OKX data client provides the following configuration options:"}),"\n",(0,s.jsx)(n.h4,{id:"data-client",children:"Data client"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"instrument_types"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(OKXInstrumentType.SPOT,)"})}),(0,s.jsx)(n.td,{children:"Controls which OKX instrument families are loaded (spot, swap, futures, options)."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"contract_types"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsxs)(n.td,{children:["Restricts loading to specific contract styles when combined with ",(0,s.jsx)(n.code,{children:"instrument_types"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_url_http"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Override for the OKX REST endpoint; defaults to the production URL resolved at runtime."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_url_ws"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Override for the market data WebSocket endpoint."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"api_key"})," / ",(0,s.jsx)(n.code,{children:"api_secret"})," / ",(0,s.jsx)(n.code,{children:"api_passphrase"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsxs)(n.td,{children:["When omitted, pulled from the ",(0,s.jsx)(n.code,{children:"OKX_API_KEY"}),", ",(0,s.jsx)(n.code,{children:"OKX_API_SECRET"}),", and ",(0,s.jsx)(n.code,{children:"OKX_PASSPHRASE"})," environment variables."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"is_demo"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"False"})}),(0,s.jsxs)(n.td,{children:["Connects to the OKX demo environment when ",(0,s.jsx)(n.code,{children:"True"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http_timeout_secs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"60"})}),(0,s.jsx)(n.td,{children:"Request timeout (seconds) for REST market data calls."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"update_instruments_interval_mins"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"60"})}),(0,s.jsx)(n.td,{children:"Interval, in minutes, between background instrument refreshes."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"vip_level"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Enables higher-depth order book channels when set to the matching OKX VIP tier."})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"The OKX execution client provides the following configuration options:"}),"\n",(0,s.jsx)(n.h4,{id:"execution-client",children:"Execution client"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Option"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"instrument_types"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"(OKXInstrumentType.SPOT,)"})}),(0,s.jsx)(n.td,{children:"Instrument families that should be tradable for this client."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"contract_types"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsxs)(n.td,{children:["Restricts tradable contracts (linear, inverse, options) when paired with ",(0,s.jsx)(n.code,{children:"instrument_types"}),"."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_url_http"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Override for the OKX trading REST endpoint."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"base_url_ws"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Override for the private WebSocket endpoint."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsxs)(n.td,{children:[(0,s.jsx)(n.code,{children:"api_key"})," / ",(0,s.jsx)(n.code,{children:"api_secret"})," / ",(0,s.jsx)(n.code,{children:"api_passphrase"})]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsxs)(n.td,{children:["Fall back to ",(0,s.jsx)(n.code,{children:"OKX_API_KEY"}),", ",(0,s.jsx)(n.code,{children:"OKX_API_SECRET"}),", and ",(0,s.jsx)(n.code,{children:"OKX_PASSPHRASE"})," environment variables when unset."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"margin_mode"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"None"})}),(0,s.jsx)(n.td,{children:"Forces the OKX account margin mode (cross or isolated) when specified."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"is_demo"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"False"})}),(0,s.jsx)(n.td,{children:"Connects to the OKX demo trading environment."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http_timeout_secs"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"60"})}),(0,s.jsx)(n.td,{children:"Request timeout (seconds) for REST trading calls."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"use_fills_channel"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"False"})}),(0,s.jsx)(n.td,{children:"Subscribes to the dedicated fills channel (VIP5+ required) for lower-latency fill reports."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"use_mm_mass_cancel"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"False"})}),(0,s.jsx)(n.td,{children:"Uses the market-maker bulk cancel endpoint when available; otherwise falls back to per-order cancels."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"max_retries"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"3"})}),(0,s.jsx)(n.td,{children:"Maximum retry attempts for recoverable REST errors."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"1,000"})}),(0,s.jsx)(n.td,{children:"Initial delay (milliseconds) applied before retrying a failed request."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"10,000"})}),(0,s.jsx)(n.td,{children:"Upper bound for the exponential backoff delay between retries."})]})]})]}),"\n",(0,s.jsx)(n.p,{children:"Below is an example configuration for a live trading node using OKX data and execution clients:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.okx import OKX\nfrom nautilus_trader.adapters.okx import OKXDataClientConfig, OKXExecClientConfig\nfrom nautilus_trader.adapters.okx.factories import OKXLiveDataClientFactory, OKXLiveExecClientFactory\nfrom nautilus_trader.config import InstrumentProviderConfig, LiveExecEngineConfig, LoggingConfig, TradingNodeConfig\nfrom nautilus_trader.core.nautilus_pyo3 import OKXContractType\nfrom nautilus_trader.core.nautilus_pyo3 import OKXInstrumentType\nfrom nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,\n    data_clients={\n        OKX: OKXDataClientConfig(\n            api_key=None,           # Will use OKX_API_KEY env var\n            api_secret=None,        # Will use OKX_API_SECRET env var\n            api_passphrase=None,    # Will use OKX_API_PASSPHRASE env var\n            base_url_http=None,\n            instrument_provider=InstrumentProviderConfig(load_all=True),\n            instrument_types=(OKXInstrumentType.SWAP,),\n            contract_types=(OKXContractType.LINEAR,),\n            is_demo=False,\n        ),\n    },\n    exec_clients={\n        OKX: OKXExecClientConfig(\n            api_key=None,\n            api_secret=None,\n            api_passphrase=None,\n            base_url_http=None,\n            base_url_ws=None,\n            instrument_provider=InstrumentProviderConfig(load_all=True),\n            instrument_types=(OKXInstrumentType.SWAP,),\n            contract_types=(OKXContractType.LINEAR,),\n            is_demo=False,\n        ),\n    },\n)\nnode = TradingNode(config=config)\nnode.add_data_client_factory(OKX, OKXLiveDataClientFactory)\nnode.add_exec_client_factory(OKX, OKXLiveExecClientFactory)\nnode.build()\n"})}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["For additional features or to contribute to the OKX adapter, please see our\n",(0,s.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"."]})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},9087:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>l});var i=r(6363);const s={},d=i.createContext(s);function t(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);