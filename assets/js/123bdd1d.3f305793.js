"use strict";(globalThis.webpackChunknautilus_trader=globalThis.webpackChunknautilus_trader||[]).push([[3386],{1784:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>a,frontMatter:()=>s,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"integrations/bybit","title":"Bybit","description":"Founded in 2018, Bybit is one of the largest cryptocurrency exchanges in terms","source":"@site/docs/integrations/bybit.md","sourceDirName":"integrations","slug":"/integrations/bybit","permalink":"/integrations/bybit","draft":false,"unlisted":false,"editUrl":"https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/bybit.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Blockchain","permalink":"/integrations/blockchain"},"next":{"title":"Coinbase International","permalink":"/integrations/coinbase_intx"}}');var d=i(7259),t=i(9087);const s={},c="Bybit",l={},o=[{value:"Examples",id:"examples",level:2},{value:"Overview",id:"overview",level:2},{value:"Bybit documentation",id:"bybit-documentation",level:2},{value:"Products",id:"products",level:2},{value:"Symbology",id:"symbology",level:2},{value:"Orders capability",id:"orders-capability",level:2},{value:"Order types",id:"order-types",level:3},{value:"Execution instructions",id:"execution-instructions",level:3},{value:"Time in force",id:"time-in-force",level:3},{value:"Advanced order features",id:"advanced-order-features",level:3},{value:"Batch operations",id:"batch-operations",level:3},{value:"Position management",id:"position-management",level:3},{value:"Order querying",id:"order-querying",level:3},{value:"Contingent orders",id:"contingent-orders",level:3},{value:"Order parameters",id:"order-parameters",level:3},{value:"Example: SPOT margin trading",id:"example-spot-margin-trading",level:4},{value:"SPOT trading limitations",id:"spot-trading-limitations",level:3},{value:"Trailing stops",id:"trailing-stops",level:3},{value:"Rate limiting",id:"rate-limiting",level:2},{value:"Data clients",id:"data-clients",level:3},{value:"Execution clients",id:"execution-clients",level:3},{value:"Fee currency logic",id:"fee-currency-logic",level:2},{value:"SPOT trading fees",id:"spot-trading-fees",level:3},{value:"Normal fees (positive)",id:"normal-fees-positive",level:4},{value:"Maker rebates (negative fees)",id:"maker-rebates-negative-fees",level:4},{value:"Example: BTCUSDT SPOT",id:"example-btcusdt-spot",level:4},{value:"Derivatives trading fees",id:"derivatives-trading-fees",level:3},{value:"Fee calculation",id:"fee-calculation",level:3},{value:"SPOT products",id:"spot-products",level:4},{value:"Derivatives",id:"derivatives",level:4},{value:"Official documentation",id:"official-documentation",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Data client configuration options",id:"data-client-configuration-options",level:3},{value:"Execution client configuration options",id:"execution-client-configuration-options",level:3},{value:"API credentials",id:"api-credentials",level:3}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"bybit",children:"Bybit"})}),"\n",(0,d.jsx)(n.p,{children:"Founded in 2018, Bybit is one of the largest cryptocurrency exchanges in terms\nof daily trading volume, and open interest of crypto assets and crypto\nderivative products. This integration supports live market data ingest and order\nexecution with Bybit."}),"\n",(0,d.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,d.jsxs)(n.p,{children:["You can find live example scripts ",(0,d.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/bybit/",children:"here"}),"."]}),"\n",(0,d.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,d.jsx)(n.p,{children:"This guide assumes a trader is setting up for both live market data feeds, and trade execution.\nThe Bybit adapter includes multiple components, which can be used together or separately depending\non the use case."}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitHttpClient"}),": Low-level HTTP API connectivity."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitWebSocketClient"}),": Low-level WebSocket API connectivity."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitInstrumentProvider"}),": Instrument parsing and loading functionality."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitDataClient"}),": A market data feed manager."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitExecutionClient"}),": An account management and trade execution gateway."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitLiveDataClientFactory"}),": Factory for Bybit data clients (used by the trading node builder)."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"BybitLiveExecClientFactory"}),": Factory for Bybit execution clients (used by the trading node builder)."]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsx)(n.p,{children:"Most users will simply define a configuration for a live trading node (as below),\nand won't need to necessarily work with these lower level components directly."})}),"\n",(0,d.jsx)(n.h2,{id:"bybit-documentation",children:"Bybit documentation"}),"\n",(0,d.jsxs)(n.p,{children:["Bybit provides extensive documentation for users which can be found in the ",(0,d.jsx)(n.a,{href:"https://www.bybit.com/en/help-center",children:"Bybit help center"}),".\nIt\u2019s recommended you also refer to the Bybit documentation in conjunction with this NautilusTrader integration guide."]}),"\n",(0,d.jsx)(n.h2,{id:"products",children:"Products"}),"\n",(0,d.jsx)(n.p,{children:"A product is an umbrella term for a group of related instrument types."}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Product is also referred to as ",(0,d.jsx)(n.code,{children:"category"})," in the Bybit v5 API."]})}),"\n",(0,d.jsx)(n.p,{children:"The following product types are supported on Bybit:"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Product Type"}),(0,d.jsx)(n.th,{children:"Supported"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Spot cryptocurrencies"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Native spot markets with margin support."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Linear perpetual contracts"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"USDT/USDC margined perpetual swaps."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Linear futures contracts"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Delivery-settled linear futures."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Inverse perpetual contracts"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Coin-margined perpetual swaps."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Inverse futures contracts"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Coin-margined delivery futures."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Option contracts"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"USDC-settled options."})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"symbology",children:"Symbology"}),"\n",(0,d.jsx)(n.p,{children:"To distinguish between different product types on Bybit, Nautilus uses specific product category suffixes for symbols:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"-SPOT"}),": Spot cryptocurrencies"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"-LINEAR"}),": Perpetual and futures contracts"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"-INVERSE"}),": Inverse perpetual and inverse futures contracts"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"-OPTION"}),": Option contracts"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"These suffixes must be appended to the Bybit raw symbol string to identify the specific product type\nfor the instrument ID. For example:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["The Ether/Tether spot currency pair is identified with ",(0,d.jsx)(n.code,{children:"-SPOT"}),", such as ",(0,d.jsx)(n.code,{children:"ETHUSDT-SPOT"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["The BTCUSDT perpetual futures contract is identified with ",(0,d.jsx)(n.code,{children:"-LINEAR"}),", such as ",(0,d.jsx)(n.code,{children:"BTCUSDT-LINEAR"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["The BTCUSD inverse perpetual futures contract is identified with ",(0,d.jsx)(n.code,{children:"-INVERSE"}),", such as ",(0,d.jsx)(n.code,{children:"BTCUSD-INVERSE"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"orders-capability",children:"Orders capability"}),"\n",(0,d.jsxs)(n.p,{children:["Bybit offers a flexible combination of trigger types, enabling a broader range of Nautilus orders.\nAll the order types listed below can be used as ",(0,d.jsx)(n.em,{children:"either"})," entries or exits, except for trailing stops\n(which utilize a position-related API)."]}),"\n",(0,d.jsx)(n.h3,{id:"order-types",children:"Order types"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Order Type"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"MARKET"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Supports quote quantity."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"LIMIT"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"STOP_MARKET"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"STOP_LIMIT"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"MARKET_IF_TOUCHED"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"LIMIT_IF_TOUCHED"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"TRAILING_STOP_MARKET"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported for Spot"}),"."]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"execution-instructions",children:"Execution instructions"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Instruction"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"post_only"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsxs)(n.td,{children:["Only supported on ",(0,d.jsx)(n.code,{children:"LIMIT"})," orders."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"reduce_only"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported for Spot"}),"."]})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"time-in-force",children:"Time in force"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Time in force"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"GTC"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Good Till Canceled."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"GTD"})}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"FOK"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Fill or Kill."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"IOC"})}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Immediate or Cancel."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"advanced-order-features",children:"Advanced order features"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order Modification"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Price and quantity modification."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Bracket/OCO Orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"UI only; API users implement manually."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Iceberg Orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Max 10 per account, 1 per symbol."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"batch-operations",children:"Batch operations"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Operation"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Submit"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Submit multiple orders in single request."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Modify"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Modify multiple orders in single request."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Batch Cancel"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Cancel multiple orders in single request."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"position-management",children:"Position management"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query positions"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Real-time position updates."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Position mode"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"One-Way vs Hedge mode."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Leverage control"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Dynamic leverage adjustment per symbol."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Margin mode"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Cross vs Isolated margin."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"order-querying",children:"Order querying"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query open orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"List all active orders."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Query order history"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Historical order data."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order status updates"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Real-time order state changes."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Trade history"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Execution and fill reports."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"contingent-orders",children:"Contingent orders"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Feature"}),(0,d.jsx)(n.th,{children:"Spot"}),(0,d.jsx)(n.th,{children:"Linear"}),(0,d.jsx)(n.th,{children:"Inverse"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Order lists"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsx)(n.td,{children:"-"}),(0,d.jsxs)(n.td,{children:[(0,d.jsx)(n.em,{children:"Not supported"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OCO orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"UI only; API users implement manually."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Bracket orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"UI only; API users implement manually."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"Conditional orders"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"\u2713"}),(0,d.jsx)(n.td,{children:"Stop and limit-if-touched orders."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"order-parameters",children:"Order parameters"}),"\n",(0,d.jsxs)(n.p,{children:["Individual orders can be customized using the ",(0,d.jsx)(n.code,{children:"params"})," dictionary when submitting orders:"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Parameter"}),(0,d.jsx)(n.th,{children:"Type"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsx)(n.tbody,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"is_leverage"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bool"})}),(0,d.jsxs)(n.td,{children:["For SPOT products only. If ",(0,d.jsx)(n.code,{children:"True"}),", enables margin trading (borrowing) for the order. Default: ",(0,d.jsx)(n.code,{children:"False"}),". See ",(0,d.jsx)(n.a,{href:"https://bybit-exchange.github.io/docs/v5/order/create-order#request-parameters",children:"Bybit's isLeverage documentation"}),"."]})]})})]}),"\n",(0,d.jsx)(n.h4,{id:"example-spot-margin-trading",children:"Example: SPOT margin trading"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# Submit a SPOT order with margin enabled\norder = strategy.order_factory.market(\n    instrument_id=InstrumentId.from_str("BTCUSDT-SPOT.BYBIT"),\n    order_side=OrderSide.BUY,\n    quantity=Quantity.from_str("0.1"),\n    params={"is_leverage": True}  # Enable margin for this order\n)\nstrategy.submit_order(order)\n'})}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:["Without ",(0,d.jsx)(n.code,{children:"is_leverage=True"})," in the params, SPOT orders will only use your available balance\nand won't borrow funds, even if you have auto-borrow enabled on your Bybit account."]})}),"\n",(0,d.jsxs)(n.p,{children:["For a complete example of using order parameters including ",(0,d.jsx)(n.code,{children:"is_leverage"}),", see the\n",(0,d.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/bybit/bybit_exec_tester.py",children:"bybit_exec_tester.py"})," example."]}),"\n",(0,d.jsx)(n.h3,{id:"spot-trading-limitations",children:"SPOT trading limitations"}),"\n",(0,d.jsx)(n.p,{children:"The following limitations apply to SPOT products, as positions are not tracked on the venue side:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"reduce_only"})," orders are ",(0,d.jsx)(n.em,{children:"not supported"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:["Trailing stop orders are ",(0,d.jsx)(n.em,{children:"not supported"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"trailing-stops",children:"Trailing stops"}),"\n",(0,d.jsxs)(n.p,{children:["Trailing stops on Bybit do not have a client order ID on the venue side (though there is a ",(0,d.jsx)(n.code,{children:"venue_order_id"}),").\nThis is because trailing stops are associated with a netted position for an instrument.\nConsider the following points when using trailing stops on Bybit:"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"reduce_only"})," instruction is available"]}),"\n",(0,d.jsx)(n.li,{children:'When the position associated with a trailing stop is closed, the trailing stop is automatically "deactivated" (closed) on the venue side.'}),"\n",(0,d.jsxs)(n.li,{children:["You cannot query trailing stop orders that are not already open (the ",(0,d.jsx)(n.code,{children:"venue_order_id"})," is unknown until then)."]}),"\n",(0,d.jsx)(n.li,{children:"You can manually adjust the trigger price in the GUI, which will update the Nautilus order."}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"rate-limiting",children:"Rate limiting"}),"\n",(0,d.jsx)(n.p,{children:"Every HTTP call consumes the global token bucket as well as any keyed quota(s). When usage exceeds a bucket, requests are queued automatically, so manual throttling is rarely required."}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Key / Endpoint"}),(0,d.jsx)(n.th,{children:"Limit (requests/sec)"}),(0,d.jsx)(n.th,{children:"Notes"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bybit:global"})}),(0,d.jsx)(n.td,{children:"120"}),(0,d.jsx)(n.td,{children:"Exchange-wide 600 req / 5 s ceiling."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/market/kline"})}),(0,d.jsx)(n.td,{children:"20"}),(0,d.jsx)(n.td,{children:"Historical sweeps throttled slightly below global."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/market/trades"})}),(0,d.jsx)(n.td,{children:"24"}),(0,d.jsx)(n.td,{children:"Matches the global quota."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/order/create"})}),(0,d.jsx)(n.td,{children:"10"}),(0,d.jsx)(n.td,{children:"Standard order placement."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/order/cancel"})}),(0,d.jsx)(n.td,{children:"10"}),(0,d.jsx)(n.td,{children:"Single-order cancellation."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/order/create-batch"})}),(0,d.jsx)(n.td,{children:"5"}),(0,d.jsx)(n.td,{children:"Batch placement endpoints."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/order/cancel-batch"})}),(0,d.jsx)(n.td,{children:"5"}),(0,d.jsx)(n.td,{children:"Batch cancellation endpoints."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"/v5/order/cancel-all"})}),(0,d.jsx)(n.td,{children:"2"}),(0,d.jsx)(n.td,{children:"Full book cancel to mirror Bybit guidance."})]})]})]}),"\n",(0,d.jsx)(n.admonition,{type:"warning",children:(0,d.jsxs)(n.p,{children:["Bybit responds with error code ",(0,d.jsx)(n.code,{children:"10016"})," when the rate limit is exceeded and may temporarily block the IP if requests continue without back-off."]})}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["For more details on rate limiting, see the official documentation: ",(0,d.jsx)(n.a,{href:"https://bybit-exchange.github.io/docs/v5/rate-limit",children:"https://bybit-exchange.github.io/docs/v5/rate-limit"}),"."]})}),"\n",(0,d.jsx)(n.h3,{id:"data-clients",children:"Data clients"}),"\n",(0,d.jsx)(n.p,{children:"If no product types are specified then all product types will be loaded and available."}),"\n",(0,d.jsx)(n.h3,{id:"execution-clients",children:"Execution clients"}),"\n",(0,d.jsx)(n.p,{children:"The adapter automatically determines the account type based on configured product types:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SPOT only"}),": Uses ",(0,d.jsx)(n.code,{children:"CASH"})," account type with borrowing support enabled"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Derivatives or mixed products"}),": Uses ",(0,d.jsx)(n.code,{children:"MARGIN"})," account type (UTA - Unified Trading Account)"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"This allows you to trade SPOT alongside derivatives in a single Unified Trading Account, which is the standard account type for most Bybit users."}),"\n",(0,d.jsxs)(n.admonition,{type:"info",children:[(0,d.jsx)(n.p,{children:(0,d.jsx)(n.strong,{children:"Unified Trading Accounts (UTA) and SPOT margin trading"})}),(0,d.jsx)(n.p,{children:"Most Bybit users now have Unified Trading Accounts (UTA) as Bybit steers new users to this account type.\nClassic accounts are considered legacy."}),(0,d.jsx)(n.p,{children:"For SPOT margin trading on UTA accounts:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["Borrowing is ",(0,d.jsx)(n.strong,{children:"NOT automatically enabled"})," - it requires explicit API configuration"]}),"\n",(0,d.jsxs)(n.li,{children:["To use SPOT margin via API, you must submit orders with ",(0,d.jsx)(n.code,{children:"is_leverage=True"})," in the parameters (see ",(0,d.jsx)(n.a,{href:"https://bybit-exchange.github.io/docs/v5/order/create-order#request-parameters",children:"Bybit docs"}),")"]}),"\n",(0,d.jsx)(n.li,{children:"If auto-borrow/auto-repay is enabled on your Bybit account, the venue will automatically borrow/repay funds for those margin orders"}),"\n",(0,d.jsx)(n.li,{children:"Without auto-borrow enabled, you'll need to manually manage borrowing through Bybit's interface"}),"\n"]}),(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Important"}),": The Nautilus Bybit adapter defaults to ",(0,d.jsx)(n.code,{children:"is_leverage=False"})," for SPOT orders,\nmeaning they won't use margin unless you explicitly enable it."]})]}),"\n",(0,d.jsx)(n.h2,{id:"fee-currency-logic",children:"Fee currency logic"}),"\n",(0,d.jsx)(n.p,{children:"Understanding how Bybit determines the currency for trading fees is important for accurate accounting and position tracking. The fee currency rules vary between SPOT and derivatives products."}),"\n",(0,d.jsx)(n.h3,{id:"spot-trading-fees",children:"SPOT trading fees"}),"\n",(0,d.jsx)(n.p,{children:"For SPOT trading, the fee currency depends on the order side and whether the fee is a rebate (negative fee for maker orders):"}),"\n",(0,d.jsx)(n.h4,{id:"normal-fees-positive",children:"Normal fees (positive)"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"BUY orders"}),": Fee is charged in the ",(0,d.jsx)(n.strong,{children:"base currency"})," (e.g., BTC for BTCUSDT)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SELL orders"}),": Fee is charged in the ",(0,d.jsx)(n.strong,{children:"quote currency"})," (e.g., USDT for BTCUSDT)"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"maker-rebates-negative-fees",children:"Maker rebates (negative fees)"}),"\n",(0,d.jsxs)(n.p,{children:["When maker fees are negative (rebates), the currency logic is ",(0,d.jsx)(n.strong,{children:"inverted"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"BUY orders with maker rebate"}),": Rebate is paid in the ",(0,d.jsx)(n.strong,{children:"quote currency"})," (e.g., USDT for BTCUSDT)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SELL orders with maker rebate"}),": Rebate is paid in the ",(0,d.jsx)(n.strong,{children:"base currency"})," (e.g., BTC for BTCUSDT)"]}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"note",children:(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Taker orders never have inverted logic"}),", even if the maker fee rate is negative. Taker fees always follow the normal fee currency rules."]})}),"\n",(0,d.jsx)(n.h4,{id:"example-btcusdt-spot",children:"Example: BTCUSDT SPOT"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Buy 1 BTC as taker (0.1% fee)"}),": Pay 0.001 BTC in fees"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Sell 1 BTC as taker (0.1% fee)"}),": Pay equivalent USDT in fees"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Buy 1 BTC as maker (-0.01% rebate)"}),": Receive USDT rebate (inverted)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Sell 1 BTC as maker (-0.01% rebate)"}),": Receive BTC rebate (inverted)"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"derivatives-trading-fees",children:"Derivatives trading fees"}),"\n",(0,d.jsxs)(n.p,{children:["For all derivatives products (LINEAR, INVERSE, OPTION), fees are always charged in the ",(0,d.jsx)(n.strong,{children:"settlement currency"}),":"]}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Product Type"}),(0,d.jsx)(n.th,{children:"Settlement Currency"}),(0,d.jsx)(n.th,{children:"Fee Currency"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"LINEAR"}),(0,d.jsx)(n.td,{children:"USDT (typically)"}),(0,d.jsx)(n.td,{children:"USDT"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"INVERSE"}),(0,d.jsx)(n.td,{children:"Base coin (e.g., BTC for BTCUSD)"}),(0,d.jsx)(n.td,{children:"Base coin"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"OPTION"}),(0,d.jsx)(n.td,{children:"USDC (legacy) or USDT (post Feb 2025)"}),(0,d.jsx)(n.td,{children:"USDC/USDT"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"fee-calculation",children:"Fee calculation"}),"\n",(0,d.jsxs)(n.p,{children:["When the WebSocket execution message doesn't provide the exact fee amount (",(0,d.jsx)(n.code,{children:"execFee"}),"), the adapter calculates fees as follows:"]}),"\n",(0,d.jsx)(n.h4,{id:"spot-products",children:"SPOT products"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"BUY orders"}),": ",(0,d.jsx)(n.code,{children:"fee = base_quantity \xd7 fee_rate"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SELL orders"}),": ",(0,d.jsx)(n.code,{children:"fee = notional_value \xd7 fee_rate"})," (where ",(0,d.jsx)(n.code,{children:"notional_value = quantity \xd7 price"}),")"]}),"\n"]}),"\n",(0,d.jsx)(n.h4,{id:"derivatives",children:"Derivatives"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["All derivatives: ",(0,d.jsx)(n.code,{children:"fee = notional_value \xd7 fee_rate"})]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"official-documentation",children:"Official documentation"}),"\n",(0,d.jsx)(n.p,{children:"For complete details on Bybit's fee structure and currency rules, refer to:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://bybit-exchange.github.io/docs/v5/websocket/private/execution",children:"Bybit WebSocket Private Execution"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://bybit-exchange.github.io/docs/v5/enum#spot-fee-currency-instruction",children:"Bybit Spot Fee Currency Instruction"})}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,d.jsx)(n.p,{children:"The product types for each client must be specified in the configurations."}),"\n",(0,d.jsx)(n.h3,{id:"data-client-configuration-options",children:"Data client configuration options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_key"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["API key; loaded from ",(0,d.jsx)(n.code,{children:"BYBIT_API_KEY"}),"/",(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_KEY"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_secret"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["API secret; loaded from ",(0,d.jsx)(n.code,{children:"BYBIT_API_SECRET"}),"/",(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_SECRET"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"product_types"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Sequence of ",(0,d.jsx)(n.code,{children:"BybitProductType"})," values to enable; loads all products when ",(0,d.jsx)(n.code,{children:"None"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_http"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the REST base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"demo"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the Bybit demo environment when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"testnet"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the Bybit testnet when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"update_instruments_interval_mins"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"60"})}),(0,d.jsx)(n.td,{children:"Interval (minutes) between instrument catalogue refreshes."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"recv_window_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"5,000"})}),(0,d.jsx)(n.td,{children:"Receive window (milliseconds) for signed REST requests."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"bars_timestamp_on_close"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"True"})}),(0,d.jsxs)(n.td,{children:["Timestamp bars on the close (",(0,d.jsx)(n.code,{children:"True"}),") or open (",(0,d.jsx)(n.code,{children:"False"}),") of the interval."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_retries"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts for REST/WebSocket recovery."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Initial delay (milliseconds) between retries."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum delay (milliseconds) between retries."})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"execution-client-configuration-options",children:"Execution client configuration options"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"Option"}),(0,d.jsx)(n.th,{children:"Default"}),(0,d.jsx)(n.th,{children:"Description"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_key"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["API key; loaded from ",(0,d.jsx)(n.code,{children:"BYBIT_API_KEY"}),"/",(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_KEY"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"api_secret"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["API secret; loaded from ",(0,d.jsx)(n.code,{children:"BYBIT_API_SECRET"}),"/",(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_SECRET"})," when omitted."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"product_types"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Sequence of ",(0,d.jsx)(n.code,{children:"BybitProductType"})," values to enable (SPOT cannot be mixed with derivatives for execution)."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_http"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the REST base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_ws_private"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the private WebSocket base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"base_url_ws_trade"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Override for the trade WebSocket base URL."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"demo"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the Bybit demo environment when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"testnet"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Connect to the Bybit testnet when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"use_gtd"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Remap GTD orders to GTC when ",(0,d.jsx)(n.code,{children:"True"})," (Bybit lacks native GTD support)."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"use_ws_execution_fast"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsx)(n.td,{children:"Subscribe to the low-latency execution stream."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"use_ws_trade_api"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsx)(n.td,{children:"Send order requests over WebSocket instead of HTTP."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"use_http_batch_api"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsx)(n.td,{children:"Use Bybit's HTTP batch trading API (requires WebSocket trading enabled)."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"use_spot_position_reports"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsxs)(n.td,{children:["Report SPOT wallet balances as positions when ",(0,d.jsx)(n.code,{children:"True"}),"."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ignore_uncached_instrument_executions"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"False"})}),(0,d.jsx)(n.td,{children:"Ignore execution messages for instruments not yet cached."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"max_retries"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum retry attempts for order submission/cancel/modify calls."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_initial_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Initial delay (milliseconds) between retries."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry_delay_max_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Maximum delay (milliseconds) between retries."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"recv_window_ms"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"5,000"})}),(0,d.jsx)(n.td,{children:"Receive window (milliseconds) for signed REST requests."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ws_trade_timeout_secs"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"5.0"})}),(0,d.jsx)(n.td,{children:"Timeout (seconds) waiting for trade WebSocket acknowledgements."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ws_auth_timeout_secs"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"5.0"})}),(0,d.jsx)(n.td,{children:"Timeout (seconds) waiting for auth WebSocket acknowledgements."})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"futures_leverages"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Mapping of ",(0,d.jsx)(n.code,{children:"BybitSymbol"})," to leverage settings."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"position_mode"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsxs)(n.td,{children:["Mapping of ",(0,d.jsx)(n.code,{children:"BybitSymbol"})," to position mode (one-way vs hedge)."]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"margin_mode"})}),(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"None"})}),(0,d.jsx)(n.td,{children:"Margin mode setting for the account."})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["The most common use case is to configure a live ",(0,d.jsx)(n.code,{children:"TradingNode"})," to include Bybit\ndata and execution clients. To achieve this, add a ",(0,d.jsx)(n.code,{children:"BYBIT"})," section to your client\nconfiguration(s):"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'from nautilus_trader.adapters.bybit import BYBIT\nfrom nautilus_trader.adapters.bybit import BybitProductType\nfrom nautilus_trader.live.node import TradingNode\n\nconfig = TradingNodeConfig(\n    ...,  # Omitted\n    data_clients={\n        BYBIT: {\n            "api_key": "YOUR_BYBIT_API_KEY",\n            "api_secret": "YOUR_BYBIT_API_SECRET",\n            "base_url_http": None,  # Override with custom endpoint\n            "product_types": [BybitProductType.LINEAR]\n            "testnet": False,\n        },\n    },\n    exec_clients={\n        BYBIT: {\n            "api_key": "YOUR_BYBIT_API_KEY",\n            "api_secret": "YOUR_BYBIT_API_SECRET",\n            "base_url_http": None,  # Override with custom endpoint\n            "product_types": [BybitProductType.LINEAR]\n            "testnet": False,\n        },\n    },\n)\n'})}),"\n",(0,d.jsxs)(n.p,{children:["Then, create a ",(0,d.jsx)(n.code,{children:"TradingNode"})," and add the client factories:"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"from nautilus_trader.adapters.bybit import BYBIT\nfrom nautilus_trader.adapters.bybit import BybitLiveDataClientFactory\nfrom nautilus_trader.adapters.bybit import BybitLiveExecClientFactory\nfrom nautilus_trader.live.node import TradingNode\n\n# Instantiate the live trading node with a configuration\nnode = TradingNode(config=config)\n\n# Register the client factories with the node\nnode.add_data_client_factory(BYBIT, BybitLiveDataClientFactory)\nnode.add_exec_client_factory(BYBIT, BybitLiveExecClientFactory)\n\n# Finally build the node\nnode.build()\n"})}),"\n",(0,d.jsx)(n.h3,{id:"api-credentials",children:"API credentials"}),"\n",(0,d.jsxs)(n.p,{children:["There are two options for supplying your credentials to the Bybit clients.\nEither pass the corresponding ",(0,d.jsx)(n.code,{children:"api_key"})," and ",(0,d.jsx)(n.code,{children:"api_secret"})," values to the configuration objects, or\nset the following environment variables:"]}),"\n",(0,d.jsx)(n.p,{children:"For Bybit live clients, you can set:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_API_KEY"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_API_SECRET"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"For Bybit demo clients, you can set:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_DEMO_API_KEY"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_DEMO_API_SECRET"})}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"For Bybit testnet clients, you can set:"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_KEY"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.code,{children:"BYBIT_TESTNET_API_SECRET"})}),"\n"]}),"\n",(0,d.jsx)(n.admonition,{type:"tip",children:(0,d.jsx)(n.p,{children:"We recommend using environment variables to manage your credentials."})}),"\n",(0,d.jsx)(n.p,{children:"When starting the trading node, you'll receive immediate confirmation of whether your\ncredentials are valid and have trading permissions."}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["For additional features or to contribute to the Bybit adapter, please see our\n",(0,d.jsx)(n.a,{href:"https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md",children:"contributing guide"}),"."]})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(h,{...e})}):h(e)}},9087:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var r=i(6363);const d={},t=r.createContext(d);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);