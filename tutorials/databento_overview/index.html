<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/databento_overview" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Databento overview | NautilusTrader 文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nautilus.aloen.to/tutorials/databento_overview"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Databento overview | NautilusTrader 文档"><meta data-rh="true" name="description" content="Databento documentation:"><meta data-rh="true" property="og:description" content="Databento documentation:"><link data-rh="true" rel="icon" href="/logo.png"><link data-rh="true" rel="canonical" href="https://nautilus.aloen.to/tutorials/databento_overview"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/tutorials/databento_overview" hreflang="zh"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/tutorials/databento_overview" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Tutorials","item":"https://nautilus.aloen.to/tutorials/"},{"@type":"ListItem","position":2,"name":"Databento overview","item":"https://nautilus.aloen.to/tutorials/databento_overview"}]}</script><link rel="stylesheet" href="/assets/css/styles.33db920f.css">
<script src="/assets/js/runtime~main.4ed1c191.js" defer="defer"></script>
<script src="/assets/js/main.3352860b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/logo.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent__uWo" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--light_cjoX"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--dark_jZId"></div><b class="navbar__title text--truncate">NautilusTrader</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api_reference/">文档</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Aloento/NautilusTraderDoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_KfBJ"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_RWFU colorModeToggle_sA1q"><button class="clean-btn toggleButton_qjfc toggleButtonDisabled_cpNp" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX lightToggleIcon_UYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX darkToggleIcon_i1s2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX systemToggleIcon_yIQx"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_PsjF"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_jk42"><div class="docsWrapper_KWBO"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_XpKL" type="button"></button><div class="docRoot_joIP"><aside class="theme-doc-sidebar-container docSidebarContainer_DOen"><div class="sidebarViewport_j7YP"><div class="sidebar_nPgc"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_MTDt"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/api_reference/"><span title="Python API" class="categoryLinkLabel_XKxb">Python API</span></a><button aria-label="展开侧边栏分类 &#x27;Python API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/concepts/"><span title="Concepts" class="categoryLinkLabel_XKxb">Concepts</span></a><button aria-label="展开侧边栏分类 &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/developer_guide/"><span title="Developer Guide" class="categoryLinkLabel_XKxb">Developer Guide</span></a><button aria-label="展开侧边栏分类 &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/getting_started/"><span title="入门" class="categoryLinkLabel_XKxb">入门</span></a><button aria-label="展开侧边栏分类 &#x27;入门&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/integrations/"><span title="Integrations" class="categoryLinkLabel_XKxb">Integrations</span></a><button aria-label="展开侧边栏分类 &#x27;Integrations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist menu__link--active" href="/tutorials/"><span title="Tutorials" class="categoryLinkLabel_XKxb">Tutorials</span></a><button aria-label="折叠侧边栏分类 &#x27;Tutorials&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/backtest_binance_orderbook"><span title="Backtest: Binance OrderBook data" class="linkLabel_CNtA">Backtest: Binance OrderBook data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/backtest_bybit_orderbook"><span title="Backtest: Bybit OrderBook data" class="linkLabel_CNtA">Backtest: Bybit OrderBook data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/backtest_fx_bars"><span title="Backtest: FX bar data" class="linkLabel_CNtA">Backtest: FX bar data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/databento_data_catalog"><span title="Databento data catalog" class="linkLabel_CNtA">Databento data catalog</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/tutorials/databento_overview"><span title="Databento overview" class="linkLabel_CNtA">Databento overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/loading_external_data"><span title="Loading external data" class="linkLabel_CNtA">Loading external data</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/tutorials/parquet_explorer"><span title="Parquet Explorer" class="linkLabel_CNtA">Parquet Explorer</span></a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_bw1l"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_PIhC"><div class="docItemContainer_pFw3"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_HRKZ" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sX5c"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/tutorials/"><span>Tutorials</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Databento overview</span></li></ul></nav><div class="tocCollapsible_DhUt theme-doc-toc-mobile tocMobile_Izjv"><button type="button" class="clean-btn tocCollapsibleButton_eYR5">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>Databento overview</h1></header>
<p>Databento documentation:</p>
<ul>
<li><a href="https://databento.com/docs" target="_blank" rel="noopener noreferrer">https://databento.com/docs</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="3-services">3 services<a href="#3-services" class="hash-link" aria-label="3 services的直接链接" title="3 services的直接链接" translate="no">​</a></h2>
<p>Databento provides 3 types of services:</p>
<ol>
<li><code>Historical</code> - for market data data older than 24 hours</li>
<li><code>Live</code> - for market data within the last 24 hours</li>
<li><code>Reference</code> - for security master and corporate actions data</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="3-file-formats">3 file formats<a href="#3-file-formats" class="hash-link" aria-label="3 file formats的直接链接" title="3 file formats的直接链接" translate="no">​</a></h2>
<p>Databento supports 3 formats for data:</p>
<ul>
<li><code>DBN</code> - Databento Binary Encoding (binary)</li>
<li><code>csv</code> - comma separated values (text)</li>
<li><code>json</code> - JavaScript Object notation (text)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="python-library">Python library<a href="#python-library" class="hash-link" aria-label="Python library的直接链接" title="Python library的直接链接" translate="no">​</a></h2>
<p>Databento provides a simple Python library (used in this tutorial):</p>
<p><code>pip install -U databento</code></p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="schemas">Schemas<a href="#schemas" class="hash-link" aria-label="Schemas的直接链接" title="Schemas的直接链接" translate="no">​</a></h2>
<p>Schema is just a sophisticated name for <code>type of data</code> you want.</p>
<p>Most used schemas ordered from most detailed:</p>
<table><thead><tr><th>Schema</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>mbo</code></td><td>L3 data</td><td>Provides every order book event across every price level, keyed by order ID. Allows determination of queue position for each order, offering highest level of granularity available.</td></tr><tr><td><code>mbp-10</code></td><td>L2 data</td><td>Provides every order book event across top ten price levels, keyed by price. Includes trades and changes to aggregate market depth, with total size and order count at top ten price levels.</td></tr><tr><td><code>mbp-1</code></td><td>L1 data</td><td>Provides every order book event updating the top price level (BBO). Includes trades and changes to book depth, with total size and order count at BBO.</td></tr><tr><td><code>bbo-1s</code></td><td>L1 sampled</td><td>Similar to L1 data but sampled in 1 second intervals. Provides last best bid, best offer, and sale at 1-second intervals.</td></tr><tr><td><code>tbbo</code></td><td>L1 trades</td><td>Provides every trade event alongside the BBO immediately before the effect of each trade. Subset of MBP-1.</td></tr><tr><td><code>trades</code></td><td>Trade data</td><td>Provides every trade event. This is a subset of MBO data.</td></tr><tr><td><code>ohlcv-1s</code></td><td>1s bars</td><td>OHLCV bars aggregated from trades at 1-second intervals.</td></tr><tr><td><code>ohlcv-1m</code></td><td>1m bars</td><td>OHLCV bars aggregated from trades at 1-minute intervals.</td></tr><tr><td><code>ohlcv-1h</code></td><td>1h bars</td><td>OHLCV bars aggregated from trades at 1-hour intervals.</td></tr><tr><td><code>ohlcv-1d</code></td><td>1d bars</td><td>OHLCV bars aggregated from trades at 1-day intervals.</td></tr><tr><td><code>definition</code></td><td>Reference</td><td>Provides reference information about instruments including symbol, name, expiration date, listing date, tick size, strike price.</td></tr><tr><td><code>status</code></td><td>Exchange status</td><td>Provides updates about trading session like halts, pauses, short-selling restrictions, auction start, and other matching engine statuses.</td></tr><tr><td><code>statistics</code></td><td>Exchange stats</td><td>Provides official summary statistics published by venue, including daily volume, open interest, settlement prices, and official open/high/low prices.</td></tr></tbody></table>
<p><strong>How Databento generates lower-resolution data?</strong></p>
<ol>
<li>Databento first collects the most detailed market data available from each source (mostly <code>mbo</code> if available)</li>
<li>and then derives all other formats from this most granular data to ensure 100% consistency across all data types (schemas).</li>
</ol>
<p>Additional sources:</p>
<ul>
<li>Example tutorial how to convert tick/trades data into bars:<!-- -->
<ul>
<li><a href="https://databento.com/docs/examples/basics-historical/tick-resampling/example" target="_blank" rel="noopener noreferrer">https://databento.com/docs/examples/basics-historical/tick-resampling/example</a></li>
</ul>
</li>
<li>All schemas explained in detail:<!-- -->
<ul>
<li><a href="https://databento.com/docs/schemas-and-data-formats?historical=python&amp;live=python&amp;reference=python" target="_blank" rel="noopener noreferrer">https://databento.com/docs/schemas-and-data-formats?historical=python&amp;live=python&amp;reference=python</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="symbology">Symbology<a href="#symbology" class="hash-link" aria-label="Symbology的直接链接" title="Symbology的直接链接" translate="no">​</a></h2>
<p>Symbology is just a sophisticated name for the naming convention of various instruments. Abbreviation <code>stypes</code> is often used in API and docs and means &quot;symbology types&quot;.</p>
<p>Databento supports 4 symbology types (naming conventions):</p>
<table><thead><tr><th style="text-align:left">Symbology Type</th><th style="text-align:left">Description</th><th style="text-align:left">Example/Pattern</th><th style="text-align:left">Key Notes</th></tr></thead><tbody><tr><td style="text-align:left"><code>raw_symbol</code></td><td style="text-align:left">Original string symbols used by data publisher</td><td style="text-align:left"><code>AAPL</code>, <code>ESH3</code></td><td style="text-align:left">Best for direct market connectivity environments</td></tr><tr><td style="text-align:left"><code>instrument_id</code></td><td style="text-align:left">Unique numeric IDs assigned by publisher</td><td style="text-align:left"><code>12345</code>, <code>9876543</code></td><td style="text-align:left">Space-efficient but can be remapped daily by some publishers</td></tr><tr><td style="text-align:left"><code>parent</code></td><td style="text-align:left">Groups related symbols using root symbol</td><td style="text-align:left"><code>ES.FUT</code>, <code>ES.OPT</code></td><td style="text-align:left">Allows querying all futures/options for a root symbol at once</td></tr><tr><td style="text-align:left"><code>continuous</code></td><td style="text-align:left">References instruments that change over time</td><td style="text-align:left"><code>ES.c.0</code>, <code>CL.n.1</code>, <code>ZN.v.0</code></td><td style="text-align:left">Roll rules: Calendar (c), Open Interest (n), Volume (v)</td></tr></tbody></table>
<p>Additionally, Databento supports a special symbol value:</p>
<table><thead><tr><th style="text-align:left">Special Value</th><th style="text-align:left">Description</th><th style="text-align:left">Usage</th><th style="text-align:left">Key Notes</th></tr></thead><tbody><tr><td style="text-align:left"><code>ALL_SYMBOLS</code></td><td style="text-align:left">Requests all symbols in dataset</td><td style="text-align:left"><code>ALL_SYMBOLS</code></td><td style="text-align:left">Wildcard value for requesting all available symbols (not a symbology type)</td></tr></tbody></table>
<p>When requesting data, <strong>input</strong> and <strong>output</strong> symbology can be specified. These 4 combinations are supported (for various exchanges / publishers):</p>
<table><thead><tr><th style="text-align:left">SType in</th><th style="text-align:left">SType out</th><th style="text-align:left">DBEQ.BASIC</th><th style="text-align:left">GLBX.MDP3</th><th style="text-align:left">IFEU.IMPACT</th><th style="text-align:left">NDEX.IMPACT</th><th style="text-align:left">OPRA.PILLAR</th><th style="text-align:left">XNAS.ITCH</th></tr></thead><tbody><tr><td style="text-align:left"><code>parent</code></td><td style="text-align:left"><code>instrument_id</code></td><td style="text-align:left"></td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>continuous</code></td><td style="text-align:left"><code>instrument_id</code></td><td style="text-align:left"></td><td style="text-align:left">✓</td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td><td style="text-align:left"></td></tr><tr><td style="text-align:left"><code>raw_symbol</code></td><td style="text-align:left"><code>instrument_id</code></td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td></tr><tr><td style="text-align:left"><code>instrument_id</code></td><td style="text-align:left"><code>raw_symbol</code></td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td><td style="text-align:left">✓</td></tr></tbody></table>
<p>For more details:</p>
<ul>
<li><a href="https://databento.com/docs/standards-and-conventions/symbology?historical=python&amp;live=python&amp;reference=python" target="_blank" rel="noopener noreferrer">https://databento.com/docs/standards-and-conventions/symbology?historical=python&amp;live=python&amp;reference=python</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="databento-file-format">Databento file format<a href="#databento-file-format" class="hash-link" aria-label="Databento file format的直接链接" title="Databento file format的直接链接" translate="no">​</a></h2>
<p>Databento uses its own file format for market-data. It is called <strong>Databento Binary Encoding (DBN)</strong>.
Think of it like more performant + compressed alternative of CSV / JSON files.</p>
<p>You can easily load DBN file and convert it into simple CSV / JSON data.</p>
<p>For more details:</p>
<ul>
<li><a href="https://databento.com/docs/standards-and-conventions/databento-binary-encoding#getting-started-with-dbn?historical=python&amp;live=python&amp;reference=python" target="_blank" rel="noopener noreferrer">https://databento.com/docs/standards-and-conventions/databento-binary-encoding#getting-started-with-dbn?historical=python&amp;live=python&amp;reference=python</a></li>
</ul>
<h1>Historical API examples</h1>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="authenticate--connect-to-databento">Authenticate &amp; connect to Databento<a href="#authenticate--connect-to-databento" class="hash-link" aria-label="Authenticate &amp; connect to Databento的直接链接" title="Authenticate &amp; connect to Databento的直接链接" translate="no">​</a></h2>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> databento </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> db</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Establish connection and authenticate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">API_KEY </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;db-8VWGBis54s4ewGVciMRakNxLCJKen&quot;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># put your API key here (existing key is just example, not real)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">client </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Historical</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">API_KEY</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="metadata">Metadata<a href="#metadata" class="hash-link" aria-label="Metadata的直接链接" title="Metadata的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="list-publishers">List Publishers<a href="#list-publishers" class="hash-link" aria-label="List Publishers的直接链接" title="List Publishers的直接链接" translate="no">​</a></h3>
<p>Shows all data publishers.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">publishers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_publishers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Show only first five from long list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">publishers</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;publisher_id&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;dataset&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GLBX.MDP3&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;venue&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GLBX&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;CME Globex MDP 3.0&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;publisher_id&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;dataset&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XNAS.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;venue&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XNAS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nasdaq TotalView-ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;publisher_id&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;dataset&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XBOS.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;venue&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XBOS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nasdaq BX TotalView-ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;publisher_id&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;dataset&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XPSX.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;venue&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XPSX&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Nasdaq PSX TotalView-ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;publisher_id&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;dataset&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;BATS.PITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;venue&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;BATS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;description&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Cboe BZX Depth Pitch&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="list-datasets">List Datasets<a href="#list-datasets" class="hash-link" aria-label="List Datasets的直接链接" title="List Datasets的直接链接" translate="no">​</a></h3>
<p>Each dataset is in format: <code>PUBLISHER.DATASET</code></p>
<ul>
<li>Publisher / Market code is based on: <a href="https://www.iso20022.org/market-identifier-codes" target="_blank" rel="noopener noreferrer">https://www.iso20022.org/market-identifier-codes</a></li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">datasets </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_datasets</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">datasets</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ARCX.PILLAR&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;DBEQ.BASIC&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EPRL.DOM&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;EQUS.SUMMARY&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;GLBX.MDP3&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;IEXG.TOPS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;IFEU.IMPACT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NDEX.IMPACT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OPRA.PILLAR&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XASE.PILLAR&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XBOS.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XCHI.PILLAR&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XCIS.TRADESBBO&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XNAS.BASIC&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XNAS.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XNYS.PILLAR&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;XPSX.ITCH&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="list-schemas">List Schemas<a href="#list-schemas" class="hash-link" aria-label="List Schemas的直接链接" title="List Schemas的直接链接" translate="no">​</a></h3>
<p>List all supported data formats in Databento.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">schemas </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">list_schemas</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schemas</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;mbo&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mbp-1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mbp-10&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tbbo&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;trades&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bbo-1s&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bbo-1m&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ohlcv-1s&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ohlcv-1m&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ohlcv-1h&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;ohlcv-1d&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;definition&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;statistics&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;status&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="dataset-condition">Dataset condition<a href="#dataset-condition" class="hash-link" aria-label="Dataset condition的直接链接" title="Dataset condition的直接链接" translate="no">​</a></h3>
<p>Show data availability and quality.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">conditions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_dataset_condition</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start_date</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end_date</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-10&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">conditions</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-06&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;available&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;last_modified_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2024-05-18&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-07&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;available&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;last_modified_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2024-05-21&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-08&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;available&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;last_modified_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2024-05-21&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-09&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;available&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;last_modified_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2024-05-21&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-10&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;condition&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;available&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;last_modified_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2024-05-22&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="dataset-range">Dataset range<a href="#dataset-range" class="hash-link" aria-label="Dataset range的直接链接" title="Dataset range的直接链接" translate="no">​</a></h3>
<p>Show available range for dataset.</p>
<ul>
<li>Use this method to discover data availability.</li>
<li>The start and end values in the response can be used with the <code>timeseries.get_range</code> and <code>batch.submit_job</code> endpoints.</li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">available_range </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_dataset_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">available_range</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;start&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2010-06-06T00:00:00.000000000Z&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;end&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2025-01-18T00:00:00.000000000Z&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="record-count">Record count<a href="#record-count" class="hash-link" aria-label="Record count的直接链接" title="Record count的直接链接" translate="no">​</a></h3>
<p>Returns count of records return from data query.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">record_count </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_record_count</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># ES (S&amp;P contract) expiring in June 2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 1 hour bars ; only time-ranges that are multiplies of 10-minutes (cannot be used for 1-min bars)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-01-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># including start</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-01-07&quot;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># excluding end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># There is one hour break on the exchange, so 23 hourly bars are OK</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">record_count</span><br></span></code></pre></div></div>
<p>Example output:</p>
<p><code>23</code></p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="costs">Costs<a href="#costs" class="hash-link" aria-label="Costs的直接链接" title="Costs的直接链接" translate="no">​</a></h3>
<p>Get costs = how much you pay for the data in US dollars.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">cost </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 1 hour bars ; only time-ranges that are multiplies of 10-minutes (cannot be used for 1-min bars)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-01-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># including start</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-01-07&quot;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># excluding end</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cost</span><br></span></code></pre></div></div>
<p>Example output:</p>
<p><code>0.00022791326</code></p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="time-series-data">Time series data<a href="#time-series-data" class="hash-link" aria-label="Time series data的直接链接" title="Time series data的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="get_range"><code>get_range</code><a href="#get_range" class="hash-link" aria-label="get_range的直接链接" title="get_range的直接链接" translate="no">​</a></h3>
<ul>
<li>Makes a streaming request for time series data from Databento.</li>
<li>This is the primary method for getting historical market data, instrument definitions, and status data directly into your application.</li>
<li>This method only returns after all of the data has been downloaded, which can take a long time.</li>
</ul>
<p><strong>Warning:</strong></p>
<ul>
<li><code>ts_event</code> represents start-time of aggregation. So if we download bars, the timestamp represents <strong>opening time</strong> for each bar.</li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeseries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># ES (S&amp;P contract) expiring in June 2022</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">           </span><span class="token comment" style="color:#999988;font-style:italic"># Hourly bars</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-01T00:00:00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-03T00:10:00&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic"># Optional limit on count of results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Data are received in DBNStore format</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data</span><br></span></code></pre></div></div>
<p>Example output:</p>
<p><code>&lt;DBNStore(schema=ohlcv-1h)&gt;</code></p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Convert DBN format to pandas-dataframe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Preview</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-01 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4149.25</td><td style="text-align:left">4153.50</td><td style="text-align:left">4149.00</td><td style="text-align:left">4150.75</td><td style="text-align:left">9281</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-01 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4151.00</td><td style="text-align:left">4157.75</td><td style="text-align:left">4149.50</td><td style="text-align:left">4154.25</td><td style="text-align:left">11334</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-01 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4154.25</td><td style="text-align:left">4155.25</td><td style="text-align:left">4146.50</td><td style="text-align:left">4147.00</td><td style="text-align:left">7258</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<p>Note:</p>
<ul>
<li><code>rtype</code> = 1-hour bars</li>
<li>More codes like this: <a href="https://databento.com/docs/standards-and-conventions/common-fields-enums-types#rtype?historical=python&amp;live=python&amp;reference=python" target="_blank" rel="noopener noreferrer">https://databento.com/docs/standards-and-conventions/common-fields-enums-types#rtype?historical=python&amp;live=python&amp;reference=python</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="symbols">Symbols<a href="#symbols" class="hash-link" aria-label="Symbols的直接链接" title="Symbols的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="resolve"><code>resolve</code><a href="#resolve" class="hash-link" aria-label="resolve的直接链接" title="resolve的直接链接" translate="no">​</a></h3>
<p>Resolve a list of symbols from an <strong>input</strong> symbology type, to an <strong>output</strong> symbology type.</p>
<ul>
<li>Example: <code>raw_symbol</code> to an <code>instrument_id</code>: <code>ESM2</code> → <code>3403</code></li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">result </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">symbology</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">resolve</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stype_in</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;raw_symbol&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stype_out</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;instrument_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start_date</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end_date</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-30&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;result&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;ESM2&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&#x27;d0&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-01&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;d1&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-26&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;s&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;3403&#x27;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;symbols&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ESM2&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;stype_in&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;raw_symbol&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;stype_out&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;instrument_id&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;start_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-01&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;end_date&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2022-06-30&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;partial&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;not_found&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;message&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;OK&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;status&#x27;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>Most important is the <code>result</code> and key-value pair <code>&#x27;s&#x27;: &#x27;3403&#x27;</code>, which contains value of instrument_id.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="dbnstore-operations">DBNStore operations<a href="#dbnstore-operations" class="hash-link" aria-label="DBNStore operations的直接链接" title="DBNStore operations的直接链接" translate="no">​</a></h2>
<p>The <code>DBNStore</code> object is an helper class for working with <code>DBN</code> encoded data.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="from_bytes"><code>from_bytes</code><a href="#from_bytes" class="hash-link" aria-label="from_bytes的直接链接" title="from_bytes的直接链接" translate="no">​</a></h3>
<p>Read data from a DBN byte stream.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeseries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-06 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4109.50</td><td style="text-align:left">4117.00</td><td style="text-align:left">4105.50</td><td style="text-align:left">4115.75</td><td style="text-align:left">8541</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4115.75</td><td style="text-align:left">4122.75</td><td style="text-align:left">4113.00</td><td style="text-align:left">4122.25</td><td style="text-align:left">14008</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4122.25</td><td style="text-align:left">4127.00</td><td style="text-align:left">4120.75</td><td style="text-align:left">4126.25</td><td style="text-align:left">10150</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Save streamed data to file - recommended suffix is: `*.dbn.zst`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">path </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;./GLBX-ESM2-20220606.ohlcv-1h.dbn.zst&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Load data from previously saved file and create DBN object again</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rb&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> saved</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    loaded_dbn_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBNStore</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_bytes</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">saved</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loaded_dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output <em>(not real data, just example of output format)</em>:</p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-06 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4109.50</td><td style="text-align:left">4117.00</td><td style="text-align:left">4105.50</td><td style="text-align:left">4115.75</td><td style="text-align:left">8541</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4115.75</td><td style="text-align:left">4122.75</td><td style="text-align:left">4113.00</td><td style="text-align:left">4122.25</td><td style="text-align:left">14008</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4122.25</td><td style="text-align:left">4127.00</td><td style="text-align:left">4120.75</td><td style="text-align:left">4126.25</td><td style="text-align:left">10150</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="from_file"><code>from_file</code><a href="#from_file" class="hash-link" aria-label="from_file的直接链接" title="from_file的直接链接" translate="no">​</a></h3>
<p>Reads data from a DBN file.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">loaded_dbn_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">DBNStore</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">path</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">loaded_dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-06 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4109.50</td><td style="text-align:left">4117.00</td><td style="text-align:left">4105.50</td><td style="text-align:left">4115.75</td><td style="text-align:left">8541</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4115.75</td><td style="text-align:left">4122.75</td><td style="text-align:left">4113.00</td><td style="text-align:left">4122.25</td><td style="text-align:left">14008</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4122.25</td><td style="text-align:left">4127.00</td><td style="text-align:left">4120.75</td><td style="text-align:left">4126.25</td><td style="text-align:left">10150</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_csv"><code>to_csv</code><a href="#to_csv" class="hash-link" aria-label="to_csv的直接链接" title="to_csv的直接链接" translate="no">​</a></h3>
<p>Write data to a file in CSV format.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeseries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Export to CSV file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_csv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GLBX-ESM2-20220606-ohlcv-1h.csv&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_df"><code>to_df</code><a href="#to_df" class="hash-link" aria-label="to_df的直接链接" title="to_df的直接链接" translate="no">​</a></h3>
<p>Converts DBN data to a pandas DataFrame.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Export to pandas DataFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-06 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4109.50</td><td style="text-align:left">4117.00</td><td style="text-align:left">4105.50</td><td style="text-align:left">4115.75</td><td style="text-align:left">8541</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4115.75</td><td style="text-align:left">4122.75</td><td style="text-align:left">4113.00</td><td style="text-align:left">4122.25</td><td style="text-align:left">14008</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4122.25</td><td style="text-align:left">4127.00</td><td style="text-align:left">4120.75</td><td style="text-align:left">4126.25</td><td style="text-align:left">10150</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_json"><code>to_json</code><a href="#to_json" class="hash-link" aria-label="to_json的直接链接" title="to_json的直接链接" translate="no">​</a></h3>
<p>Write data to a file in JSON format.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Export to pandas DataFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_json</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GLBX-ESM2-20220606-ohlcv-1h.json&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_file"><code>to_file</code><a href="#to_file" class="hash-link" aria-label="to_file的直接链接" title="to_file的直接链接" translate="no">​</a></h3>
<p>Write data to a DBN file.</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Export to DBN file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GLBX-ESM2-20220606.ohlcv-1h.dbn.zst&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_ndarray"><code>to_ndarray</code><a href="#to_ndarray" class="hash-link" aria-label="to_ndarray的直接链接" title="to_ndarray的直接链接" translate="no">​</a></h3>
<ul>
<li>Converts data to a numpy N-dimensional array.</li>
<li>Each element will contain a Python representation of the binary fields as a <code>Tuple</code>.</li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Export to numpy-array</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ndarray </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_ndarray</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ndarray</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="to_parquet"><code>to_parquet</code><a href="#to_parquet" class="hash-link" aria-label="to_parquet的直接链接" title="to_parquet的直接链接" translate="no">​</a></h3>
<ul>
<li>Write data to a file in <a href="https://parquet.apache.org/" target="_blank" rel="noopener noreferrer">Apache parquet</a> format.</li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Export to Apache Parquet file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_parquet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;GLBX-ESM2-20220606-ohlcv-1h.parquet&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="for-cycle"><code>for</code> cycle<a href="#for-cycle" class="hash-link" aria-label="for-cycle的直接链接" title="for-cycle的直接链接" translate="no">​</a></h3>
<ul>
<li>You can use standard python <code>for</code> cycle to iterate over DBN file content.</li>
</ul>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Let&#x27;s load some data first</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeseries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ESM2&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1h&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2022-06-06&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    limit</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Contains 3 hourly bars</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dbn_data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<table><thead><tr><th style="text-align:left">ts_event</th><th style="text-align:left">rtype</th><th style="text-align:left">publisher_id</th><th style="text-align:left">instrument_id</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th><th style="text-align:left">symbol</th></tr></thead><tbody><tr><td style="text-align:left">2022-06-06 00:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4109.50</td><td style="text-align:left">4117.00</td><td style="text-align:left">4105.50</td><td style="text-align:left">4115.75</td><td style="text-align:left">8541</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 01:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4115.75</td><td style="text-align:left">4122.75</td><td style="text-align:left">4113.00</td><td style="text-align:left">4122.25</td><td style="text-align:left">14008</td><td style="text-align:left">ESM2</td></tr><tr><td style="text-align:left">2022-06-06 02:00:00+00:00</td><td style="text-align:left">34</td><td style="text-align:left">1</td><td style="text-align:left">3403</td><td style="text-align:left">4122.25</td><td style="text-align:left">4127.00</td><td style="text-align:left">4120.75</td><td style="text-align:left">4126.25</td><td style="text-align:left">10150</td><td style="text-align:left">ESM2</td></tr></tbody></table>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># We can use DBN data in for-cycle:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> bar </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dbn_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bar</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic"># print full bar data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># intentionally break to see only 1st bar</span><br></span></code></pre></div></div>
<p>Example output:</p>
<div class="language-text codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-text codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token plain">OhlcvMsg {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    hd: RecordHeader {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        length: 14,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rtype: Ohlcv1H,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        publisher_id: GlbxMdp3Glbx,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        instrument_id: 3403,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ts_event: 1654473600000000000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open: 4109.500000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    high: 4117.000000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    low: 4105.500000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    close: 4115.750000000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    volume: 4543</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> bar </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> dbn_data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Bar open: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">bar</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation builtin">open</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># print only bar-open information</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain">                           </span><span class="token comment" style="color:#999988;font-style:italic"># intentionally break to see only 1st bar</span><br></span></code></pre></div></div>
<p>Example output:</p>
<p><code>Bar open: 4108500000000</code></p>
<h1>Examples</h1>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="download-1-min-6e-data">Download 1-min 6E data<a href="#download-1-min-6e-data" class="hash-link" aria-label="Download 1-min 6E data的直接链接" title="Download 1-min 6E data的直接链接" translate="no">​</a></h2>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> datetime </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> timedelta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pandas </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> pd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> pytz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;display.max_columns&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_option</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;display.max_rows&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Settings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;GLBX.MDP3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">symbol</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;6E.v.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stype_in</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;continuous&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">schema</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;ohlcv-1m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2025-01-01&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;2025-01-05&quot;</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Check costs in dollars</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cost </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">metadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_cost</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dataset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">symbol</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stype_in</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stype_in</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">cost</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">:</span><span class="token string-interpolation interpolation format-spec">.2f</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">$&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output:</p>
<p><code>0.01$</code></p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Download data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timeseries</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    dataset</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">dataset</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    symbols</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">symbol</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    stype_in</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">stype_in</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">schema</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    start</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">start</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">end</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Export data in DBNStore format (CSV data are 10x bigger)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_file</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">dataset</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">symbol</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">-</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">end</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">.</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">schema</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">.dbn.zst&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Cleanup and view data as DataFrame</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    data</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_df</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reset_index</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rename</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;ts_event&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;datetime&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">drop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;rtype&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;publisher_id&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;instrument_id&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Nice order of columns</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">reindex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">columns</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;symbol&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;datetime&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;open&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;high&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;low&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;close&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;volume&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Localize datetime to Bratislava</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">datetime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to_datetime</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;datetime&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> utc</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Mark as UTC datetime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">datetime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;datetime&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tz_convert</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pytz</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">timezone</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Europe/Bratislava&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Convert to Bratislava timezone</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Add 1-minute, so datetime represents closing time of the bar (not opening time)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">assign</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">datetime </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">lambda</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> df</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;datetime&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> timedelta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">minutes</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Preview</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">len</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">df</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">head</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>Example output: <em>(not real data, just example of output format)</em></p>
<p><code>2734</code></p>
<table><thead><tr><th style="text-align:left">symbol</th><th style="text-align:left">datetime</th><th style="text-align:left">open</th><th style="text-align:left">high</th><th style="text-align:left">low</th><th style="text-align:left">close</th><th style="text-align:left">volume</th></tr></thead><tbody><tr><td style="text-align:left">6E.v.0</td><td style="text-align:left">2025-01-02 00:01:00+01:00</td><td style="text-align:left">1.03890</td><td style="text-align:left">1.03930</td><td style="text-align:left">1.03845</td><td style="text-align:left">1.03905</td><td style="text-align:left">291</td></tr><tr><td style="text-align:left">6E.v.0</td><td style="text-align:left">2025-01-02 00:02:00+01:00</td><td style="text-align:left">1.03900</td><td style="text-align:left">1.03900</td><td style="text-align:left">1.03870</td><td style="text-align:left">1.03880</td><td style="text-align:left">311</td></tr><tr><td style="text-align:left">6E.v.0</td><td style="text-align:left">2025-01-02 00:03:00+01:00</td><td style="text-align:left">1.03880</td><td style="text-align:left">1.03890</td><td style="text-align:left">1.03870</td><td style="text-align:left">1.03885</td><td style="text-align:left">140</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/tutorials/databento_overview.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_F7ru" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_GNoA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/tutorials/databento_data_catalog"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Databento data catalog</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/tutorials/loading_external_data"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Loading external data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_pg_n thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#3-services" class="table-of-contents__link toc-highlight">3 services</a></li><li><a href="#3-file-formats" class="table-of-contents__link toc-highlight">3 file formats</a></li><li><a href="#python-library" class="table-of-contents__link toc-highlight">Python library</a></li><li><a href="#schemas" class="table-of-contents__link toc-highlight">Schemas</a></li><li><a href="#symbology" class="table-of-contents__link toc-highlight">Symbology</a></li><li><a href="#databento-file-format" class="table-of-contents__link toc-highlight">Databento file format</a></li><li><a href="#authenticate--connect-to-databento" class="table-of-contents__link toc-highlight">Authenticate &amp; connect to Databento</a></li><li><a href="#metadata" class="table-of-contents__link toc-highlight">Metadata</a><ul><li><a href="#list-publishers" class="table-of-contents__link toc-highlight">List Publishers</a></li><li><a href="#list-datasets" class="table-of-contents__link toc-highlight">List Datasets</a></li><li><a href="#list-schemas" class="table-of-contents__link toc-highlight">List Schemas</a></li><li><a href="#dataset-condition" class="table-of-contents__link toc-highlight">Dataset condition</a></li><li><a href="#dataset-range" class="table-of-contents__link toc-highlight">Dataset range</a></li><li><a href="#record-count" class="table-of-contents__link toc-highlight">Record count</a></li><li><a href="#costs" class="table-of-contents__link toc-highlight">Costs</a></li></ul></li><li><a href="#time-series-data" class="table-of-contents__link toc-highlight">Time series data</a><ul><li><a href="#get_range" class="table-of-contents__link toc-highlight"><code>get_range</code></a></li></ul></li><li><a href="#symbols" class="table-of-contents__link toc-highlight">Symbols</a><ul><li><a href="#resolve" class="table-of-contents__link toc-highlight"><code>resolve</code></a></li></ul></li><li><a href="#dbnstore-operations" class="table-of-contents__link toc-highlight">DBNStore operations</a><ul><li><a href="#from_bytes" class="table-of-contents__link toc-highlight"><code>from_bytes</code></a></li><li><a href="#from_file" class="table-of-contents__link toc-highlight"><code>from_file</code></a></li><li><a href="#to_csv" class="table-of-contents__link toc-highlight"><code>to_csv</code></a></li><li><a href="#to_df" class="table-of-contents__link toc-highlight"><code>to_df</code></a></li><li><a href="#to_json" class="table-of-contents__link toc-highlight"><code>to_json</code></a></li><li><a href="#to_file" class="table-of-contents__link toc-highlight"><code>to_file</code></a></li><li><a href="#to_ndarray" class="table-of-contents__link toc-highlight"><code>to_ndarray</code></a></li><li><a href="#to_parquet" class="table-of-contents__link toc-highlight"><code>to_parquet</code></a></li><li><a href="#for-cycle" class="table-of-contents__link toc-highlight"><code>for</code> cycle</a></li></ul></li><li><a href="#download-1-min-6e-data" class="table-of-contents__link toc-highlight">Download 1-min 6E data</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NautilusTrader Documentation.</div></div></div></footer></div>
</body>
</html>