<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-integrations/bitmex" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">BitMEX | NautilusTrader 文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nautilus.aloen.to/integrations/bitmex"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BitMEX | NautilusTrader 文档"><meta data-rh="true" name="description" content="Founded in 2014, BitMEX (Bitcoin Mercantile Exchange) is a cryptocurrency derivatives"><meta data-rh="true" property="og:description" content="Founded in 2014, BitMEX (Bitcoin Mercantile Exchange) is a cryptocurrency derivatives"><link data-rh="true" rel="icon" href="/logo.png"><link data-rh="true" rel="canonical" href="https://nautilus.aloen.to/integrations/bitmex"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/integrations/bitmex" hreflang="zh"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/integrations/bitmex" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Integrations","item":"https://nautilus.aloen.to/integrations/"},{"@type":"ListItem","position":2,"name":"BitMEX","item":"https://nautilus.aloen.to/integrations/bitmex"}]}</script><link rel="stylesheet" href="/assets/css/styles.33db920f.css">
<script src="/assets/js/runtime~main.4ed1c191.js" defer="defer"></script>
<script src="/assets/js/main.3352860b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/logo.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent__uWo" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--light_cjoX"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--dark_jZId"></div><b class="navbar__title text--truncate">NautilusTrader</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api_reference/">文档</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Aloento/NautilusTraderDoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_KfBJ"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_RWFU colorModeToggle_sA1q"><button class="clean-btn toggleButton_qjfc toggleButtonDisabled_cpNp" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX lightToggleIcon_UYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX darkToggleIcon_i1s2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX systemToggleIcon_yIQx"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_PsjF"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_jk42"><div class="docsWrapper_KWBO"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_XpKL" type="button"></button><div class="docRoot_joIP"><aside class="theme-doc-sidebar-container docSidebarContainer_DOen"><div class="sidebarViewport_j7YP"><div class="sidebar_nPgc"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_MTDt"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/api_reference/"><span title="Python API" class="categoryLinkLabel_XKxb">Python API</span></a><button aria-label="展开侧边栏分类 &#x27;Python API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/concepts/"><span title="Concepts" class="categoryLinkLabel_XKxb">Concepts</span></a><button aria-label="展开侧边栏分类 &#x27;Concepts&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/developer_guide/"><span title="Developer Guide" class="categoryLinkLabel_XKxb">Developer Guide</span></a><button aria-label="展开侧边栏分类 &#x27;Developer Guide&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/getting_started/"><span title="入门" class="categoryLinkLabel_XKxb">入门</span></a><button aria-label="展开侧边栏分类 &#x27;入门&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist menu__link--active" href="/integrations/"><span title="Integrations" class="categoryLinkLabel_XKxb">Integrations</span></a><button aria-label="折叠侧边栏分类 &#x27;Integrations&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/betfair"><span title="Betfair" class="linkLabel_CNtA">Betfair</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/binance"><span title="Binance" class="linkLabel_CNtA">Binance</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/integrations/bitmex"><span title="BitMEX" class="linkLabel_CNtA">BitMEX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/blockchain"><span title="Blockchain" class="linkLabel_CNtA">Blockchain</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/bybit"><span title="Bybit" class="linkLabel_CNtA">Bybit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/coinbase_intx"><span title="Coinbase International" class="linkLabel_CNtA">Coinbase International</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/databento"><span title="Databento" class="linkLabel_CNtA">Databento</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/dydx"><span title="dYdX" class="linkLabel_CNtA">dYdX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/hyperliquid"><span title="Hyperliquid" class="linkLabel_CNtA">Hyperliquid</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/ib"><span title="Interactive Brokers" class="linkLabel_CNtA">Interactive Brokers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/okx"><span title="OKX" class="linkLabel_CNtA">OKX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/polymarket"><span title="Polymarket" class="linkLabel_CNtA">Polymarket</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/tardis"><span title="Tardis" class="linkLabel_CNtA">Tardis</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/tutorials/"><span title="Tutorials" class="categoryLinkLabel_XKxb">Tutorials</span></a><button aria-label="展开侧边栏分类 &#x27;Tutorials&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_bw1l"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_PIhC"><div class="docItemContainer_pFw3"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_HRKZ" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sX5c"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/integrations/"><span>Integrations</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">BitMEX</span></li></ul></nav><div class="tocCollapsible_DhUt theme-doc-toc-mobile tocMobile_Izjv"><button type="button" class="clean-btn tocCollapsibleButton_eYR5">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>BitMEX</h1></header>
<p>Founded in 2014, BitMEX (Bitcoin Mercantile Exchange) is a cryptocurrency derivatives
trading platform offering spot, perpetual contracts, traditional futures, prediction
markets, and other advanced trading products. This integration supports live market data
ingest and order execution with BitMEX.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Overview的直接链接" title="Overview的直接链接" translate="no">​</a></h2>
<p>This adapter is implemented in Rust, with optional Python bindings for ease of use in Python-based workflows.
It does not require external BitMEX client libraries—the core components are compiled as a static library and linked automatically during the build.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Examples的直接链接" title="Examples的直接链接" translate="no">​</a></h2>
<p>You can find live example scripts <a href="https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/bitmex/" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="components">Components<a href="#components" class="hash-link" aria-label="Components的直接链接" title="Components的直接链接" translate="no">​</a></h2>
<p>This guide assumes a trader is setting up for both live market data feeds, and trade execution.
The BitMEX adapter includes multiple components, which can be used together or separately depending
on the use case.</p>
<ul>
<li><code>BitmexHttpClient</code>: Low-level HTTP API connectivity.</li>
<li><code>BitmexWebSocketClient</code>: Low-level WebSocket API connectivity.</li>
<li><code>BitmexInstrumentProvider</code>: Instrument parsing and loading functionality.</li>
<li><code>BitmexDataClient</code>: A market data feed manager.</li>
<li><code>BitmexExecutionClient</code>: An account management and trade execution gateway.</li>
<li><code>BitmexLiveDataClientFactory</code>: Factory for BitMEX data clients (used by the trading node builder).</li>
<li><code>BitmexLiveExecClientFactory</code>: Factory for BitMEX execution clients (used by the trading node builder).</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>Most users will simply define a configuration for a live trading node (as below),
and won&#x27;t need to necessarily work with these lower level components directly.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="bitmex-documentation">BitMEX documentation<a href="#bitmex-documentation" class="hash-link" aria-label="BitMEX documentation的直接链接" title="BitMEX documentation的直接链接" translate="no">​</a></h2>
<p>BitMEX provides extensive documentation for users:</p>
<ul>
<li><a href="https://www.bitmex.com/app/restAPI" target="_blank" rel="noopener noreferrer">BitMEX API Explorer</a> - Interactive API documentation.</li>
<li><a href="https://www.bitmex.com/app/apiOverview" target="_blank" rel="noopener noreferrer">BitMEX API Documentation</a> - Complete API reference.</li>
<li><a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">BitMEX Exchange Rules</a> - Official exchange rules and regulations.</li>
<li><a href="https://www.bitmex.com/app/contract" target="_blank" rel="noopener noreferrer">Contract Guides</a> - Detailed contract specifications.</li>
<li><a href="https://www.bitmex.com/app/spotGuide" target="_blank" rel="noopener noreferrer">Spot Trading Guide</a> - Spot trading overview.</li>
<li><a href="https://www.bitmex.com/app/perpetualContractsGuide" target="_blank" rel="noopener noreferrer">Perpetual Contracts Guide</a> - Perpetual swaps explained.</li>
<li><a href="https://www.bitmex.com/app/futuresGuide" target="_blank" rel="noopener noreferrer">Futures Contracts Guide</a> - Traditional futures information.</li>
</ul>
<p>It&#x27;s recommended you refer to the BitMEX documentation in conjunction with this
NautilusTrader integration guide.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="product-support">Product support<a href="#product-support" class="hash-link" aria-label="Product support的直接链接" title="Product support的直接链接" translate="no">​</a></h2>
<table><thead><tr><th>Product Type</th><th>Data Feed</th><th>Trading</th><th>Notes</th></tr></thead><tbody><tr><td>Spot</td><td>✓</td><td>✓</td><td>Limited pairs, unified wallet with derivatives.</td></tr><tr><td>Perpetual Swaps</td><td>✓</td><td>✓</td><td>Inverse and linear contracts available.</td></tr><tr><td>Futures</td><td>✓</td><td>✓</td><td>Traditional fixed expiration contracts.</td></tr><tr><td>Quanto Futures</td><td>✓</td><td>✓</td><td>Settled in different currency than underlying.</td></tr><tr><td>Prediction Markets</td><td>✓</td><td>✓</td><td>Event-based contracts, 0-100 pricing, USDT settled.</td></tr><tr><td>Options</td><td>-</td><td>-</td><td><em>Not provided by BitMEX</em>.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>BitMEX has discontinued their options products to focus on their core derivatives and spot offerings.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="spot-trading">Spot trading<a href="#spot-trading" class="hash-link" aria-label="Spot trading的直接链接" title="Spot trading的直接链接" translate="no">​</a></h3>
<ul>
<li>Direct token/coin trading with immediate settlement.</li>
<li>Major pairs including XBT/USDT, ETH/USDT, ETH/XBT.</li>
<li>Additional altcoin pairs (LINK, SOL, UNI, APE, AXS, BMEX against USDT).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="derivatives">Derivatives<a href="#derivatives" class="hash-link" aria-label="Derivatives的直接链接" title="Derivatives的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Perpetual contracts</strong>: Inverse (e.g., XBTUSD) and linear (e.g., ETHUSDT).</li>
<li><strong>Traditional futures</strong>: Fixed expiration date contracts.</li>
<li><strong>Quanto futures</strong>: Contracts settled in a different currency than the underlying.</li>
<li><strong>Prediction markets</strong>: Event-based derivatives (e.g., P_FTXZ26, P_SBFJAILZ26) allowing traders to speculate on outcomes across crypto, finance, and other events. No leverage, priced 0-100, settled in USDT.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="symbology">Symbology<a href="#symbology" class="hash-link" aria-label="Symbology的直接链接" title="Symbology的直接链接" translate="no">​</a></h2>
<p>BitMEX uses a specific naming convention for its trading symbols. Understanding this
convention is crucial for correctly identifying and trading instruments.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="symbol-format">Symbol format<a href="#symbol-format" class="hash-link" aria-label="Symbol format的直接链接" title="Symbol format的直接链接" translate="no">​</a></h3>
<p>BitMEX symbols typically follow these patterns:</p>
<ul>
<li><strong>Spot pairs</strong>: Base currency + Quote currency (e.g., <code>XBT/USDT</code>, <code>ETH/USDT</code>).</li>
<li><strong>Perpetual contracts</strong>: Base currency + Quote currency (e.g., <code>XBTUSD</code>, <code>ETHUSD</code>).</li>
<li><strong>Futures contracts</strong>: Base currency + Expiry code (e.g., <code>XBTM24</code>, <code>ETHH25</code>).</li>
<li><strong>Quanto contracts</strong>: Special naming for non-USD settled contracts.</li>
<li><strong>Prediction markets</strong>: <code>P_</code> prefix + Event identifier + Expiry code (e.g., <code>P_POWELLK26</code>, <code>P_FTXZ26</code>).</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>BitMEX uses <code>XBT</code> as the symbol for Bitcoin instead of <code>BTC</code>. This follows the ISO 4217
currency code standard where &quot;X&quot; denotes non-national currencies. XBT and BTC refer to
the same asset - Bitcoin.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="expiry-codes">Expiry codes<a href="#expiry-codes" class="hash-link" aria-label="Expiry codes的直接链接" title="Expiry codes的直接链接" translate="no">​</a></h3>
<p>Futures contracts use standard futures month codes:</p>
<ul>
<li><code>F</code> = January</li>
<li><code>G</code> = February</li>
<li><code>H</code> = March</li>
<li><code>J</code> = April</li>
<li><code>K</code> = May</li>
<li><code>M</code> = June</li>
<li><code>N</code> = July</li>
<li><code>Q</code> = August</li>
<li><code>U</code> = September</li>
<li><code>V</code> = October</li>
<li><code>X</code> = November</li>
<li><code>Z</code> = December</li>
</ul>
<p>Followed by the year (e.g., <code>24</code> for 2024, <code>25</code> for 2025).</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="nautilustrader-instrument-ids">NautilusTrader instrument IDs<a href="#nautilustrader-instrument-ids" class="hash-link" aria-label="NautilusTrader instrument IDs的直接链接" title="NautilusTrader instrument IDs的直接链接" translate="no">​</a></h3>
<p>Within NautilusTrader, BitMEX instruments are identified using the native BitMEX symbol
directly, combined with the venue identifier:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">identifiers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Spot pairs (note: no slash in the symbol)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spot_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># XBT/USDT spot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eth_spot_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ETHUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ETH/USDT spot</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Perpetual contracts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perp_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTUSD.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Bitcoin perpetual (inverse)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">linear_perp_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ETHUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ethereum perpetual (linear)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Futures contract (June 2024)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">futures_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTM24.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Bitcoin futures expiring June 2024</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Prediction market contracts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prediction_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;P_XBTETFV23.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Bitcoin ETF SEC approval prediction expiring October 2023</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>BitMEX spot symbols in NautilusTrader don&#x27;t include the slash (/) that appears in the
BitMEX UI. Use <code>XBTUSDT</code> instead of <code>XBT/USDT</code>.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="quantity-scaling">Quantity scaling<a href="#quantity-scaling" class="hash-link" aria-label="Quantity scaling的直接链接" title="Quantity scaling的直接链接" translate="no">​</a></h3>
<p>BitMEX reports spot and derivative quantities in <em>contract</em> units. The actual asset size per
contract is exchange-specific and published on the instrument definition:</p>
<ul>
<li><code>lotSize</code> – minimum number of contracts you can trade.</li>
<li><code>underlyingToPositionMultiplier</code> – number of contracts per unit of the underlying asset.</li>
</ul>
<p>For example, the SOL/USDT spot instrument (<code>SOLUSDT</code>) exposes <code>lotSize = 1000</code> and
<code>underlyingToPositionMultiplier = 10000</code>, meaning one contract represents <code>1 / 10000 = 0.0001</code>
SOL, and the minimum order (<code>lotSize * contract_size</code>) is <code>0.1</code> SOL. The adapter now derives the
contract size directly from these fields and scales both inbound market data and outbound orders
accordingly, so quantities in Nautilus are always expressed in base units (SOL, ETH, etc.).</p>
<p>See the BitMEX API documentation for details on these fields: <a href="https://www.bitmex.com/app/apiOverview#Instrument-Properties" target="_blank" rel="noopener noreferrer">https://www.bitmex.com/app/apiOverview#Instrument-Properties</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="orders-capability">Orders capability<a href="#orders-capability" class="hash-link" aria-label="Orders capability的直接链接" title="Orders capability的直接链接" translate="no">​</a></h2>
<p>The BitMEX integration supports the following order types and execution features.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="order-types">Order types<a href="#order-types" class="hash-link" aria-label="Order types的直接链接" title="Order types的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Order Type</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td><code>MARKET</code></td><td>✓</td><td>Executed immediately at current market price. Quote quantity not supported.</td></tr><tr><td><code>LIMIT</code></td><td>✓</td><td>Executed only at specified price or better.</td></tr><tr><td><code>STOP_MARKET</code></td><td>✓</td><td>Supported (set <code>trigger_price</code>).</td></tr><tr><td><code>STOP_LIMIT</code></td><td>✓</td><td>Supported (set <code>price</code> and <code>trigger_price</code>).</td></tr><tr><td><code>MARKET_IF_TOUCHED</code></td><td>✓</td><td>Supported (set <code>trigger_price</code>).</td></tr><tr><td><code>LIMIT_IF_TOUCHED</code></td><td>✓</td><td>Supported (set <code>price</code> and <code>trigger_price</code>).</td></tr><tr><td><code>TRAILING_STOP_MARKET</code></td><td>-</td><td><em>Not implemented</em> (supported by BitMEX).</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="execution-instructions">Execution instructions<a href="#execution-instructions" class="hash-link" aria-label="Execution instructions的直接链接" title="Execution instructions的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Instruction</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td><code>post_only</code></td><td>✓</td><td>Supported via <code>ParticipateDoNotInitiate</code> execution instruction on <code>LIMIT</code> orders.</td></tr><tr><td><code>reduce_only</code></td><td>✓</td><td>Supported via <code>ReduceOnly</code> execution instruction.</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>Post-only orders that would cross the spread are canceled by BitMEX rather than rejected. The
integration surfaces these as rejections with <code>due_post_only=True</code> so strategies can handle them
consistently.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="trigger-types">Trigger types<a href="#trigger-types" class="hash-link" aria-label="Trigger types的直接链接" title="Trigger types的直接链接" translate="no">​</a></h3>
<p>BitMEX supports multiple reference prices to evaluate stop/conditional order triggers for:</p>
<ul>
<li><code>STOP_MARKET</code></li>
<li><code>STOP_LIMIT</code></li>
<li><code>MARKET_IF_TOUCHED</code></li>
<li><code>LIMIT_IF_TOUCHED</code></li>
</ul>
<p>Choose the trigger type that matches your strategy and/or risk preferences.</p>
<table><thead><tr><th>Reference price</th><th>Nautilus <code>TriggerType</code></th><th>BitMEX value</th><th>Notes</th></tr></thead><tbody><tr><td>Last trade</td><td><code>LAST_PRICE</code></td><td><code>LastPrice</code></td><td>BitMEX default; triggers on the last traded price.</td></tr><tr><td>Mark price</td><td><code>MARK_PRICE</code></td><td><code>MarkPrice</code></td><td>Recommended for many stop-loss use cases to reduce stop-outs from price spikes.</td></tr><tr><td>Index price</td><td><code>INDEX_PRICE</code></td><td><code>IndexPrice</code></td><td>Tracks the external index; useful for some contracts.</td></tr></tbody></table>
<ul>
<li>If no <code>trigger_type</code> is provided, BitMEX uses its venue default (<code>LastPrice</code>).</li>
<li>These trigger references are exchange-evaluated; the order remains resting at the venue until triggered.</li>
</ul>
<p><strong>Example</strong>:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enums </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">order </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stop_market</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instrument_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">instrument_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_side</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">order_side</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    quantity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">qty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trigger_price</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">trigger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trigger_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MARK_PRICE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Use BitMEX Mark Price as reference</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><code>ExecTester</code> example configuration also demonstrates setting <code>stop_trigger_type=TriggerType.MARK_PRICE</code>
in <code>examples/live/bitmex/bitmex_exec_tester.py</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="time-in-force">Time in force<a href="#time-in-force" class="hash-link" aria-label="Time in force的直接链接" title="Time in force的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Time in force</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td><code>GTC</code></td><td>✓</td><td>Good Till Canceled (default).</td></tr><tr><td><code>GTD</code></td><td>-</td><td><em>Not supported by BitMEX</em>.</td></tr><tr><td><code>FOK</code></td><td>✓</td><td>Fill or Kill - fills entire order or cancels.</td></tr><tr><td><code>IOC</code></td><td>✓</td><td>Immediate or Cancel - partial fill allowed.</td></tr><tr><td><code>DAY</code></td><td>✓</td><td>Expires at 00:00 UTC (BitMEX trading day boundary).</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p><code>DAY</code> orders expire at 12:00am UTC, which marks the BitMEX trading day boundary (end of trading hours for that day).
See the <a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">BitMEX Exchange Rules</a> and <a href="https://www.bitmex.com/api/explorer/" target="_blank" rel="noopener noreferrer">API documentation</a> for complete details.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="advanced-order-features">Advanced order features<a href="#advanced-order-features" class="hash-link" aria-label="Advanced order features的直接链接" title="Advanced order features的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Feature</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td>Order Modification</td><td>✓</td><td>Modify price, quantity, and trigger price.</td></tr><tr><td>Bracket Orders</td><td>-</td><td>Use <code>contingency_type</code> and <code>linked_order_ids</code>.</td></tr><tr><td>Iceberg Orders</td><td>✓</td><td>Use <code>display_qty</code>.</td></tr><tr><td>Trailing Stops</td><td>-</td><td><em>Not implemented</em> (supported by BitMEX).</td></tr><tr><td>Pegged Orders</td><td>-</td><td><em>Not implemented</em> (supported by BitMEX).</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="batch-operations">Batch operations<a href="#batch-operations" class="hash-link" aria-label="Batch operations的直接链接" title="Batch operations的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Operation</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td>Batch Submit</td><td>-</td><td><em>Not supported by BitMEX</em>.</td></tr><tr><td>Batch Modify</td><td>-</td><td><em>Not supported by BitMEX</em>.</td></tr><tr><td>Batch Cancel</td><td>✓</td><td>Cancel multiple orders in a single request.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="position-management">Position management<a href="#position-management" class="hash-link" aria-label="Position management的直接链接" title="Position management的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Feature</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td>Query positions</td><td>✓</td><td>REST and real-time position updates via WebSocket.</td></tr><tr><td>Cross margin</td><td>✓</td><td>Default margin mode.</td></tr><tr><td>Isolated margin</td><td>✓</td><td></td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="order-querying">Order querying<a href="#order-querying" class="hash-link" aria-label="Order querying的直接链接" title="Order querying的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>Feature</th><th>Supported</th><th>Notes</th></tr></thead><tbody><tr><td>Query open orders</td><td>✓</td><td>List all active orders.</td></tr><tr><td>Query order history</td><td>✓</td><td>Historical order data.</td></tr><tr><td>Order status updates</td><td>✓</td><td>Real-time order state changes via WebSocket.</td></tr><tr><td>Trade history</td><td>✓</td><td>Execution and fill reports.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="market-data">Market data<a href="#market-data" class="hash-link" aria-label="Market data的直接链接" title="Market data的直接链接" translate="no">​</a></h2>
<ul>
<li>Order book deltas: <code>L2_MBP</code> only; <code>depth</code> 0 (full book) or 25.</li>
<li>Order book snapshots: <code>L2_MBP</code> only; <code>depth</code> 0 (default 10) or 10.</li>
<li>Quotes, trades, and instrument updates are supported via WebSocket.</li>
<li>Funding rates, mark prices, and index prices are supported where applicable.</li>
<li>Historical requests via REST:<!-- -->
<ul>
<li>Trade ticks with optional <code>start</code>, <code>end</code>, and <code>limit</code> filters (up to 1,000 results per call).</li>
<li>Time bars (<code>1m</code>, <code>5m</code>, <code>1h</code>, <code>1d</code>) for externally aggregated LAST prices, including optional partial bins.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>BitMEX caps each REST response at 1,000 rows and requires manual pagination via <code>start</code>/<code>startTime</code>. The current adapter returns only the
first page; wider pagination support is scheduled for a future update.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="connection-management">Connection management<a href="#connection-management" class="hash-link" aria-label="Connection management的直接链接" title="Connection management的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="http-keep-alive">HTTP Keep-Alive<a href="#http-keep-alive" class="hash-link" aria-label="HTTP Keep-Alive的直接链接" title="HTTP Keep-Alive的直接链接" translate="no">​</a></h3>
<p>The BitMEX adapter utilizes HTTP keep-alive for optimal performance:</p>
<ul>
<li><strong>Connection pooling</strong>: Connections are automatically pooled and reused.</li>
<li><strong>Keep-alive timeout</strong>: 90 seconds (matches BitMEX server-side timeout).</li>
<li><strong>Automatic reconnection</strong>: Failed connections are automatically re-established.</li>
<li><strong>SSL session caching</strong>: Reduces handshake overhead for subsequent requests.</li>
</ul>
<p>This configuration ensures low-latency communication with BitMEX servers by maintaining
persistent connections and avoiding the overhead of establishing new connections for each request.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="request-authentication-and-expiration">Request authentication and expiration<a href="#request-authentication-and-expiration" class="hash-link" aria-label="Request authentication and expiration的直接链接" title="Request authentication and expiration的直接链接" translate="no">​</a></h3>
<p>BitMEX uses an <code>api-expires</code> header for request authentication to prevent replay attacks:</p>
<ul>
<li>Signed requests include an <code>api-expires</code> Unix timestamp set <code>recv_window_ms / 1000</code> seconds ahead (10 seconds by default).</li>
<li>BitMEX rejects any request once that timestamp has passed, so keep latency within your configured window.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="rate-limiting">Rate limiting<a href="#rate-limiting" class="hash-link" aria-label="Rate limiting的直接链接" title="Rate limiting的直接链接" translate="no">​</a></h2>
<p>BitMEX implements a dual-layer rate limiting system:</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="rest-limits">REST limits<a href="#rest-limits" class="hash-link" aria-label="REST limits的直接链接" title="REST limits的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Burst limit</strong>: 10 requests per second for authenticated users (applies to order placement, modification, and cancel endpoints).</li>
<li><strong>Rolling minute limit</strong>: 120 requests per minute for authenticated users (30 requests per minute for unauthenticated users).</li>
<li><strong>Order caps</strong>: 200 open orders and 10 stop orders per symbol; exceeding these caps triggers exchange-side rejections.</li>
</ul>
<p>The adapter enforces these quotas automatically and surfaces the rate-limit headers BitMEX returns with each response.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="websocket-limits">WebSocket limits<a href="#websocket-limits" class="hash-link" aria-label="WebSocket limits的直接链接" title="WebSocket limits的直接链接" translate="no">​</a></h3>
<ul>
<li>Connection requests: follow the exchange guidance (currently 3 connections per second per IP).</li>
<li>Private streams require authentication; the adapter reconnects automatically if a limit is exceeded.</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_lEzE alert alert--warning"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_Vfkp"><p>Exceeding BitMEX rate limits returns HTTP 429 and may trigger temporary IP bans; persistent 4xx/5xx errors can extend the lockout period.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="configurable-rate-limits">Configurable rate limits<a href="#configurable-rate-limits" class="hash-link" aria-label="Configurable rate limits的直接链接" title="Configurable rate limits的直接链接" translate="no">​</a></h3>
<p>The rate limits can be configured if your account has different limits than the defaults:</p>
<table><thead><tr><th>Parameter</th><th>Default (authenticated)</th><th>Default (unauthenticated)</th><th>Description</th></tr></thead><tbody><tr><td><code>max_requests_per_second</code></td><td>10</td><td>10</td><td>Maximum requests per second (burst limit).</td></tr><tr><td><code>max_requests_per_minute</code></td><td>120</td><td>30</td><td>Maximum requests per minute (rolling window).</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>For more details on rate limiting, see the <a href="https://www.bitmex.com/app/restAPI#Limits" target="_blank" rel="noopener noreferrer">BitMEX API documentation on rate limits</a>.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_lEzE alert alert--warning"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_Vfkp"><p><strong>Cancel Broadcaster Rate Limit Considerations</strong></p><p>The cancel broadcaster (when <code>canceller_pool_size &gt; 1</code>) fans out each cancel request to multiple independent HTTP clients in parallel. Each client maintains its own rate limiter, which means the effective request rate is multiplied by the pool size.</p><p><strong>Example</strong>: With <code>canceller_pool_size=3</code> (default) and <code>max_requests_per_second=10</code>, a single cancel operation consumes <strong>3 requests</strong> (one per client), potentially reaching <strong>30 requests/second</strong> if canceling rapidly.</p><p>Since BitMEX enforces rate limits <strong>at the account level</strong> (not per connection), the broadcaster can push you over the exchange&#x27;s default limits of 10 req/s burst and 120 req/min rolling window.</p><p><strong>Mitigations</strong>: Reduce <code>max_requests_per_second</code> and <code>max_requests_per_minute</code> proportionally (divide by <code>canceller_pool_size</code>), or adjust the pool size itself (see <a href="#cancel-broadcaster">Cancel broadcaster configuration</a>).
Future versions may support shared rate limiters across the pool.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="rate-limit-headers">Rate-limit headers<a href="#rate-limit-headers" class="hash-link" aria-label="Rate-limit headers的直接链接" title="Rate-limit headers的直接链接" translate="no">​</a></h3>
<p>BitMEX exposes the current allowance via response headers:</p>
<ul>
<li><code>x-ratelimit-limit</code>: total requests permitted in the current window.</li>
<li><code>x-ratelimit-remaining</code>: remaining requests before throttling occurs.</li>
<li><code>x-ratelimit-reset</code>: UNIX timestamp when the allowance resets.</li>
<li><code>retry-after</code>: seconds to wait after a 429 response.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="cancel-broadcaster">Cancel broadcaster<a href="#cancel-broadcaster" class="hash-link" aria-label="Cancel broadcaster的直接链接" title="Cancel broadcaster的直接链接" translate="no">​</a></h2>
<p>The BitMEX execution client includes a cancel broadcaster that provides fault-tolerant order cancellation through parallel request fanout.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="concepts">Concepts<a href="#concepts" class="hash-link" aria-label="Concepts的直接链接" title="Concepts的直接链接" translate="no">​</a></h3>
<p>Order cancellations are time-critical operations - when a strategy decides to cancel an order, any delay or failure can result in unintended fills, slippage, or unwanted position exposure. The cancel broadcaster addresses this by:</p>
<ul>
<li><strong>Parallel fanout</strong>: Cancel requests are simultaneously broadcast to multiple independent HTTP client instances.</li>
<li><strong>First-success short-circuiting</strong>: The first successful response wins, and remaining in-flight requests are immediately aborted.</li>
<li><strong>Fault tolerance</strong>: If one HTTP client experiences network issues, DNS failures, or connection timeouts, other clients in the pool continue processing.</li>
<li><strong>Idempotent success handling</strong>: Responses indicating the order was already canceled (such as &quot;orderID not found&quot; or similar idempotent states) are treated as success rather than failure, preventing unnecessary error propagation.</li>
</ul>
<p>This architecture ensures that a single network path failure or slow connection doesn&#x27;t block critical cancel operations, improving the reliability of risk management and position control in live trading.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="health-monitoring">Health monitoring<a href="#health-monitoring" class="hash-link" aria-label="Health monitoring的直接链接" title="Health monitoring的直接链接" translate="no">​</a></h3>
<p>Each HTTP client in the broadcaster pool maintains health metrics:</p>
<ul>
<li>Successful cancellations mark a client as healthy.</li>
<li>Failed requests increment error counters.</li>
<li>Background health checks periodically verify client connectivity.</li>
<li>Degraded clients are tracked but remain in the pool to maintain fault tolerance.</li>
</ul>
<p>The broadcaster exposes metrics including total cancels, successful cancels, failed cancels, expected rejects (already canceled orders), and idempotent successes for operational monitoring and debugging.</p>
<h4 class="anchor anchorWithStickyNavbar_RpWm" id="tracked-metrics">Tracked metrics<a href="#tracked-metrics" class="hash-link" aria-label="Tracked metrics的直接链接" title="Tracked metrics的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>Metric</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>total_cancels</code></td><td><code>u64</code></td><td>Total number of cancel operations initiated (includes single, batch, and cancel-all requests).</td></tr><tr><td><code>successful_cancels</code></td><td><code>u64</code></td><td>Number of cancel operations that successfully received acknowledgement from BitMEX.</td></tr><tr><td><code>failed_cancels</code></td><td><code>u64</code></td><td>Number of cancel operations where all HTTP clients in the pool failed (no healthy clients or all requests failed).</td></tr><tr><td><code>expected_rejects</code></td><td><code>u64</code></td><td>Number of expected rejection patterns detected (e.g., post-only order rejections).</td></tr><tr><td><code>idempotent_successes</code></td><td><code>u64</code></td><td>Number of idempotent success responses (order already cancelled, order not found, unable to cancel due to state).</td></tr><tr><td><code>healthy_clients</code></td><td><code>usize</code></td><td>Current number of healthy HTTP clients in the pool (clients that passed recent health checks).</td></tr><tr><td><code>total_clients</code></td><td><code>usize</code></td><td>Total number of HTTP clients configured in the pool (<code>canceller_pool_size</code>).</td></tr></tbody></table>
<p>These metrics can be accessed programmatically via the <code>get_metrics()</code> and <code>get_metrics_async()</code> methods on the <code>CancelBroadcaster</code> instance.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Configuration的直接链接" title="Configuration的直接链接" translate="no">​</a></h3>
<p>The cancel broadcaster is configured via the execution client configuration:</p>
<table><thead><tr><th>Option</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>canceller_pool_size</code></td><td><code>3</code></td><td>Size of the HTTP client pool for the broadcaster. Higher values increase fault tolerance but consume more resources.</td></tr></tbody></table>
<p><strong>Example configuration</strong>:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexExecClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exec_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexExecClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    canceller_pool_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Default pool size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_lEzE alert alert--success"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_Vfkp"><p>For HFT strategies without higher rate limits, consider reducing <code>canceller_pool_size=1</code> to minimize rate limit consumption.
The default pool size of 3 broadcasts each cancel request to 3 parallel HTTP clients for fault tolerance, which consumes 3× the rate limit quota per cancel operation.
Single-client mode still benefits from the broadcaster&#x27;s idempotent success handling but uses standard rate limits.</p></div></div>
<p>The broadcaster is automatically started when the execution client connects and stopped when it disconnects. All cancel operations (<code>cancel_order</code>, <code>cancel_all_orders</code>, <code>batch_cancel_orders</code>) are automatically routed through the broadcaster without requiring any changes to strategy code.</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="configuration-1">Configuration<a href="#configuration-1" class="hash-link" aria-label="Configuration的直接链接" title="Configuration的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="api-credentials">API credentials<a href="#api-credentials" class="hash-link" aria-label="API credentials的直接链接" title="API credentials的直接链接" translate="no">​</a></h3>
<p>BitMEX API credentials can be provided either directly in the configuration or via environment variables:</p>
<ul>
<li><code>BITMEX_API_KEY</code>: Your BitMEX API key for production.</li>
<li><code>BITMEX_API_SECRET</code>: Your BitMEX API secret for production.</li>
<li><code>BITMEX_TESTNET_API_KEY</code>: Your BitMEX API key for testnet (when <code>testnet=True</code>).</li>
<li><code>BITMEX_TESTNET_API_SECRET</code>: Your BitMEX API secret for testnet (when <code>testnet=True</code>).</li>
</ul>
<p>To generate API keys:</p>
<ol>
<li>Log in to your BitMEX account.</li>
<li>Navigate to Account &amp; Security → API Keys.</li>
<li>Create a new API key with appropriate permissions.</li>
<li>For testnet, use <a href="https://testnet.bitmex.com" target="_blank" rel="noopener noreferrer">testnet.bitmex.com</a>.</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p><strong>Testnet API endpoints</strong>:</p><ul>
<li>REST API: <code>https://testnet.bitmex.com/api/v1</code></li>
<li>WebSocket: <code>wss://ws.testnet.bitmex.com/realtime</code></li>
</ul><p>The adapter automatically routes requests to the correct endpoints when <code>testnet=True</code> is configured.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="data-client-configuration-options">Data client configuration options<a href="#data-client-configuration-options" class="hash-link" aria-label="Data client configuration options的直接链接" title="Data client configuration options的直接链接" translate="no">​</a></h3>
<p>The BitMEX data client provides the following configuration options:</p>
<table><thead><tr><th>Option</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>api_key</code></td><td><code>None</code></td><td>Optional API key; if <code>None</code>, loaded from <code>BITMEX_API_KEY</code>.</td></tr><tr><td><code>api_secret</code></td><td><code>None</code></td><td>Optional API secret; if <code>None</code>, loaded from <code>BITMEX_API_SECRET</code>.</td></tr><tr><td><code>base_url_http</code></td><td><code>None</code></td><td>Override for the REST base URL (defaults to production).</td></tr><tr><td><code>base_url_ws</code></td><td><code>None</code></td><td>Override for the WebSocket base URL (defaults to production).</td></tr><tr><td><code>testnet</code></td><td><code>False</code></td><td>Route requests to the BitMEX testnet when <code>True</code>.</td></tr><tr><td><code>http_timeout_secs</code></td><td><code>60</code></td><td>Request timeout applied to HTTP calls.</td></tr><tr><td><code>max_retries</code></td><td><code>None</code></td><td>Maximum retry attempts for HTTP calls (disabled when <code>None</code>).</td></tr><tr><td><code>retry_delay_initial_ms</code></td><td><code>1,000</code></td><td>Initial backoff delay (milliseconds) between retries.</td></tr><tr><td><code>retry_delay_max_ms</code></td><td><code>5,000</code></td><td>Maximum backoff delay (milliseconds) between retries.</td></tr><tr><td><code>recv_window_ms</code></td><td><code>10,000</code></td><td>Expiration window (milliseconds) for signed requests. See <a href="#request-authentication-and-expiration">Request authentication</a>.</td></tr><tr><td><code>update_instruments_interval_mins</code></td><td><code>60</code></td><td>Interval (minutes) between instrument catalogue refreshes.</td></tr><tr><td><code>max_requests_per_second</code></td><td><code>10</code></td><td>Burst rate limit enforced by the adapter for REST calls.</td></tr><tr><td><code>max_requests_per_minute</code></td><td><code>120</code></td><td>Rolling minute rate limit enforced by the adapter for REST calls.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="execution-client-configuration-options">Execution client configuration options<a href="#execution-client-configuration-options" class="hash-link" aria-label="Execution client configuration options的直接链接" title="Execution client configuration options的直接链接" translate="no">​</a></h3>
<p>The BitMEX execution client provides the following configuration options:</p>
<table><thead><tr><th>Option</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>api_key</code></td><td><code>None</code></td><td>Optional API key; if <code>None</code>, loaded from <code>BITMEX_API_KEY</code>.</td></tr><tr><td><code>api_secret</code></td><td><code>None</code></td><td>Optional API secret; if <code>None</code>, loaded from <code>BITMEX_API_SECRET</code>.</td></tr><tr><td><code>base_url_http</code></td><td><code>None</code></td><td>Override for the REST base URL (defaults to production).</td></tr><tr><td><code>base_url_ws</code></td><td><code>None</code></td><td>Override for the WebSocket base URL (defaults to production).</td></tr><tr><td><code>testnet</code></td><td><code>False</code></td><td>Route orders to the BitMEX testnet when <code>True</code>.</td></tr><tr><td><code>http_timeout_secs</code></td><td><code>60</code></td><td>Request timeout applied to HTTP calls.</td></tr><tr><td><code>max_retries</code></td><td><code>None</code></td><td>Maximum retry attempts for HTTP calls (disabled when <code>None</code>).</td></tr><tr><td><code>retry_delay_initial_ms</code></td><td><code>1,000</code></td><td>Initial backoff delay (milliseconds) between retries.</td></tr><tr><td><code>retry_delay_max_ms</code></td><td><code>5,000</code></td><td>Maximum backoff delay (milliseconds) between retries.</td></tr><tr><td><code>recv_window_ms</code></td><td><code>10,000</code></td><td>Expiration window (milliseconds) for signed requests. See <a href="#request-authentication-and-expiration">Request authentication</a>.</td></tr><tr><td><code>max_requests_per_second</code></td><td><code>10</code></td><td>Burst rate limit enforced by the adapter for REST calls.</td></tr><tr><td><code>max_requests_per_minute</code></td><td><code>120</code></td><td>Rolling minute rate limit enforced by the adapter for REST calls.</td></tr><tr><td><code>canceller_pool_size</code></td><td><code>3</code></td><td>Number of redundant HTTP clients in the cancel broadcaster pool. See <a href="#cancel-broadcaster">Cancel broadcaster</a>.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="configuration-examples">Configuration examples<a href="#configuration-examples" class="hash-link" aria-label="Configuration examples的直接链接" title="Configuration examples的直接链接" translate="no">​</a></h3>
<p>A typical BitMEX configuration for live trading includes both testnet and mainnet options:</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexDataClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexExecClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Using environment variables (recommended)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testnet_data_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexDataClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># API credentials loaded from BITMEX_API_KEY and BITMEX_API_SECRET</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Using explicit credentials</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mainnet_data_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexDataClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Or use os.getenv(&quot;BITMEX_API_KEY&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Or use os.getenv(&quot;BITMEX_API_SECRET&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mainnet_exec_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexExecClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="trading-considerations">Trading considerations<a href="#trading-considerations" class="hash-link" aria-label="Trading considerations的直接链接" title="Trading considerations的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="contingent-orders">Contingent orders<a href="#contingent-orders" class="hash-link" aria-label="Contingent orders的直接链接" title="Contingent orders的直接链接" translate="no">​</a></h3>
<p>The BitMEX execution adapter now maps Nautilus contingent order lists to the exchange&#x27;s
native <code>clOrdLinkID</code>/<code>contingencyType</code> mechanics. When the engine submits
<code>ContingencyType::Oco</code> or <code>ContingencyType::Oto</code> orders the adapter will:</p>
<ul>
<li>Create/maintain the linked order group on BitMEX so child stops and targets inherit the
parent order status.</li>
<li>Propagate order list updates and cancellations so that contingent peers stay aligned with
the current position state.</li>
<li>Surface execution reports with the appropriate contingency metadata, enabling strategy-level
tracking without additional manual wiring.</li>
</ul>
<p>This means common bracket flows (entry + stop + take-profit) and multi-leg stop structures can
now be managed directly by BitMEX instead of being emulated client-side. When defining
strategies, continue to use Nautilus <code>OrderList</code>/<code>ContingencyType</code> abstractions—the adapter
handles the required BitMEX wiring automatically.</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="contract-specifications">Contract specifications<a href="#contract-specifications" class="hash-link" aria-label="Contract specifications的直接链接" title="Contract specifications的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Inverse contracts</strong>: Settled in cryptocurrency (e.g., XBTUSD settled in XBT).</li>
<li><strong>Linear contracts</strong>: Settled in stablecoin (e.g., ETHUSDT settled in USDT).</li>
<li><strong>Contract size</strong>: Varies by instrument, check specifications carefully.</li>
<li><strong>Tick size</strong>: Minimum price increment varies by contract.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="margin-requirements">Margin requirements<a href="#margin-requirements" class="hash-link" aria-label="Margin requirements的直接链接" title="Margin requirements的直接链接" translate="no">​</a></h3>
<ul>
<li>Initial margin requirements vary by contract and market conditions.</li>
<li>Maintenance margin is typically lower than initial margin.</li>
<li>Liquidation occurs when maintenance margin requirement is not satisfied.</li>
<li>BitMEX supports both isolated margin and cross margin modes.</li>
<li>Risk limits can be adjusted based on position size per the <a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">Exchange Rules</a>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="fees">Fees<a href="#fees" class="hash-link" aria-label="Fees的直接链接" title="Fees的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Maker fees</strong>: Typically negative (rebate) for providing liquidity.</li>
<li><strong>Taker fees</strong>: Positive fee for taking liquidity.</li>
<li><strong>Funding rates</strong>: Apply to perpetual contracts every 8 hours.</li>
<li><strong>Prediction market fees</strong>: Maker 0.00%, Taker 0.25% (no leverage allowed).</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>For additional features or to contribute to the BitMEX adapter, please see our
<a href="https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">contributing guide</a>.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/bitmex.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_F7ru" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_GNoA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/integrations/binance"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Binance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/integrations/blockchain"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Blockchain</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_pg_n thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#components" class="table-of-contents__link toc-highlight">Components</a></li><li><a href="#bitmex-documentation" class="table-of-contents__link toc-highlight">BitMEX documentation</a></li><li><a href="#product-support" class="table-of-contents__link toc-highlight">Product support</a><ul><li><a href="#spot-trading" class="table-of-contents__link toc-highlight">Spot trading</a></li><li><a href="#derivatives" class="table-of-contents__link toc-highlight">Derivatives</a></li></ul></li><li><a href="#symbology" class="table-of-contents__link toc-highlight">Symbology</a><ul><li><a href="#symbol-format" class="table-of-contents__link toc-highlight">Symbol format</a></li><li><a href="#expiry-codes" class="table-of-contents__link toc-highlight">Expiry codes</a></li><li><a href="#nautilustrader-instrument-ids" class="table-of-contents__link toc-highlight">NautilusTrader instrument IDs</a></li><li><a href="#quantity-scaling" class="table-of-contents__link toc-highlight">Quantity scaling</a></li></ul></li><li><a href="#orders-capability" class="table-of-contents__link toc-highlight">Orders capability</a><ul><li><a href="#order-types" class="table-of-contents__link toc-highlight">Order types</a></li><li><a href="#execution-instructions" class="table-of-contents__link toc-highlight">Execution instructions</a></li><li><a href="#trigger-types" class="table-of-contents__link toc-highlight">Trigger types</a></li><li><a href="#time-in-force" class="table-of-contents__link toc-highlight">Time in force</a></li><li><a href="#advanced-order-features" class="table-of-contents__link toc-highlight">Advanced order features</a></li><li><a href="#batch-operations" class="table-of-contents__link toc-highlight">Batch operations</a></li><li><a href="#position-management" class="table-of-contents__link toc-highlight">Position management</a></li><li><a href="#order-querying" class="table-of-contents__link toc-highlight">Order querying</a></li></ul></li><li><a href="#market-data" class="table-of-contents__link toc-highlight">Market data</a></li><li><a href="#connection-management" class="table-of-contents__link toc-highlight">Connection management</a><ul><li><a href="#http-keep-alive" class="table-of-contents__link toc-highlight">HTTP Keep-Alive</a></li><li><a href="#request-authentication-and-expiration" class="table-of-contents__link toc-highlight">Request authentication and expiration</a></li></ul></li><li><a href="#rate-limiting" class="table-of-contents__link toc-highlight">Rate limiting</a><ul><li><a href="#rest-limits" class="table-of-contents__link toc-highlight">REST limits</a></li><li><a href="#websocket-limits" class="table-of-contents__link toc-highlight">WebSocket limits</a></li><li><a href="#configurable-rate-limits" class="table-of-contents__link toc-highlight">Configurable rate limits</a></li><li><a href="#rate-limit-headers" class="table-of-contents__link toc-highlight">Rate-limit headers</a></li></ul></li><li><a href="#cancel-broadcaster" class="table-of-contents__link toc-highlight">Cancel broadcaster</a><ul><li><a href="#concepts" class="table-of-contents__link toc-highlight">Concepts</a></li><li><a href="#health-monitoring" class="table-of-contents__link toc-highlight">Health monitoring</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a></li></ul></li><li><a href="#configuration-1" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#api-credentials" class="table-of-contents__link toc-highlight">API credentials</a></li><li><a href="#data-client-configuration-options" class="table-of-contents__link toc-highlight">Data client configuration options</a></li><li><a href="#execution-client-configuration-options" class="table-of-contents__link toc-highlight">Execution client configuration options</a></li><li><a href="#configuration-examples" class="table-of-contents__link toc-highlight">Configuration examples</a></li></ul></li><li><a href="#trading-considerations" class="table-of-contents__link toc-highlight">Trading considerations</a><ul><li><a href="#contingent-orders" class="table-of-contents__link toc-highlight">Contingent orders</a></li><li><a href="#contract-specifications" class="table-of-contents__link toc-highlight">Contract specifications</a></li><li><a href="#margin-requirements" class="table-of-contents__link toc-highlight">Margin requirements</a></li><li><a href="#fees" class="table-of-contents__link toc-highlight">Fees</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 NautilusTrader Documentation.</div></div></div></footer></div>
</body>
</html>