<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-integrations/bitmex" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">BitMEX | NautilusTrader 文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nautilus.aloen.to/integrations/bitmex"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="BitMEX | NautilusTrader 文档"><meta data-rh="true" name="description" content="BitMEX（Bitcoin Mercantile Exchange）成立于 2014 年，是一家提供现货、永续合约、传统期货、预测市场及其他高级交易产品的加密衍生品交易平台。本篇集成指南介绍如何在 NautilusTrader 中接入 BitMEX 的实时行情（market data）与下单执行功能。"><meta data-rh="true" property="og:description" content="BitMEX（Bitcoin Mercantile Exchange）成立于 2014 年，是一家提供现货、永续合约、传统期货、预测市场及其他高级交易产品的加密衍生品交易平台。本篇集成指南介绍如何在 NautilusTrader 中接入 BitMEX 的实时行情（market data）与下单执行功能。"><link data-rh="true" rel="icon" href="/logo.png"><link data-rh="true" rel="canonical" href="https://nautilus.aloen.to/integrations/bitmex"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/integrations/bitmex" hreflang="zh"><link data-rh="true" rel="alternate" href="https://nautilus.aloen.to/integrations/bitmex" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"集成","item":"https://nautilus.aloen.to/integrations/"},{"@type":"ListItem","position":2,"name":"BitMEX","item":"https://nautilus.aloen.to/integrations/bitmex"}]}</script><link rel="stylesheet" href="/assets/css/styles.33db920f.css">
<script src="/assets/js/runtime~main.d37f7723.js" defer="defer"></script>
<script src="/assets/js/main.991b6fd5.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/logo.png"><div role="region" aria-label="跳到主要内容"><a class="skipToContent__uWo" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--light_cjoX"><img src="/logo.png" alt="NautilusTrader Logo" class="themedComponent_WkLn themedComponent--dark_jZId"></div><b class="navbar__title text--truncate">NautilusTrader</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api_reference/">文档</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/Aloento/NautilusTraderDoc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_KfBJ"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_RWFU colorModeToggle_sA1q"><button class="clean-btn toggleButton_qjfc toggleButtonDisabled_cpNp" type="button" disabled="" title="system mode" aria-label="切换浅色/暗黑模式（当前为system mode）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX lightToggleIcon_UYsV"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX darkToggleIcon_i1s2"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_CetX systemToggleIcon_yIQx"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_PsjF"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_jk42"><div class="docsWrapper_KWBO"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_XpKL" type="button"></button><div class="docRoot_joIP"><aside class="theme-doc-sidebar-container docSidebarContainer_DOen"><div class="sidebarViewport_j7YP"><div class="sidebar_nPgc"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_MTDt"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/api_reference/"><span title="Python API" class="categoryLinkLabel_XKxb">Python API</span></a><button aria-label="展开侧边栏分类 &#x27;Python API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/concepts/"><span title="概念" class="categoryLinkLabel_XKxb">概念</span></a><button aria-label="展开侧边栏分类 &#x27;概念&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/developer_guide/"><span title="开发者指南" class="categoryLinkLabel_XKxb">开发者指南</span></a><button aria-label="展开侧边栏分类 &#x27;开发者指南&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/getting_started/"><span title="入门" class="categoryLinkLabel_XKxb">入门</span></a><button aria-label="展开侧边栏分类 &#x27;入门&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist menu__link--active" href="/integrations/"><span title="集成" class="categoryLinkLabel_XKxb">集成</span></a><button aria-label="折叠侧边栏分类 &#x27;集成&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/betfair"><span title="Betfair" class="linkLabel_CNtA">Betfair</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/binance"><span title="Binance" class="linkLabel_CNtA">Binance</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/integrations/bitmex"><span title="BitMEX" class="linkLabel_CNtA">BitMEX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/blockchain"><span title="Blockchain" class="linkLabel_CNtA">Blockchain</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/bybit"><span title="Bybit" class="linkLabel_CNtA">Bybit</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/coinbase_intx"><span title="Coinbase International" class="linkLabel_CNtA">Coinbase International</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/databento"><span title="Databento" class="linkLabel_CNtA">Databento</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/dydx"><span title="dYdX" class="linkLabel_CNtA">dYdX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/hyperliquid"><span title="Hyperliquid" class="linkLabel_CNtA">Hyperliquid</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/ib"><span title="Interactive Brokers" class="linkLabel_CNtA">Interactive Brokers</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/okx"><span title="OKX" class="linkLabel_CNtA">OKX</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/polymarket"><span title="Polymarket" class="linkLabel_CNtA">Polymarket</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/integrations/tardis"><span title="Tardis" class="linkLabel_CNtA">Tardis</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_GgI9 menu__link menu__link--sublist" href="/tutorials/"><span title="教程" class="categoryLinkLabel_XKxb">教程</span></a><button aria-label="展开侧边栏分类 &#x27;教程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_bw1l"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_PIhC"><div class="docItemContainer_pFw3"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_HRKZ" aria-label="页面路径"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_sX5c"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/integrations/"><span>集成</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">BitMEX</span></li></ul></nav><div class="tocCollapsible_DhUt theme-doc-toc-mobile tocMobile_Izjv"><button type="button" class="clean-btn tocCollapsibleButton_eYR5">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>BitMEX</h1></header>
<p>BitMEX（Bitcoin Mercantile Exchange）成立于 2014 年，是一家提供现货、永续合约、传统期货、预测市场及其他高级交易产品的加密衍生品交易平台。本篇集成指南介绍如何在 NautilusTrader 中接入 BitMEX 的实时行情（market data）与下单执行功能。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="概述">概述<a href="#概述" class="hash-link" aria-label="概述的直接链接" title="概述的直接链接" translate="no">​</a></h2>
<p>该适配器以 Rust 实现，并提供可选的 Python 绑定，方便在以 Python 为主的工作流中使用。
适配器不依赖外部的 BitMEX 客户端库：核心组件被编译为静态库并在构建时自动链接。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="示例">示例<a href="#示例" class="hash-link" aria-label="示例的直接链接" title="示例的直接链接" translate="no">​</a></h2>
<p>可在仓库中找到实时示例脚本：<a href="https://github.com/nautechsystems/nautilus_trader/tree/develop/examples/live/bitmex/" target="_blank" rel="noopener noreferrer">examples/live/bitmex</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="组件">组件<a href="#组件" class="hash-link" aria-label="组件的直接链接" title="组件的直接链接" translate="no">​</a></h2>
<p>本指南假设用户同时需要接入实时行情和交易执行。BitMEX 适配器由多个组件构成，可根据使用场景组合或单独使用：</p>
<ul>
<li><code>BitmexHttpClient</code>：用于低级别的 HTTP API 连接。</li>
<li><code>BitmexWebSocketClient</code>：用于低级别的 WebSocket 连接。</li>
<li><code>BitmexInstrumentProvider</code>：合约/标的解析与加载功能。</li>
<li><code>BitmexDataClient</code>：行情数据管理器。</li>
<li><code>BitmexExecutionClient</code>：账户管理与交易执行网关。</li>
<li><code>BitmexLiveDataClientFactory</code>：用于交易节点构建器的数据客户端工厂。</li>
<li><code>BitmexLiveExecClientFactory</code>：用于交易节点构建器的执行客户端工厂。</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>大多数用户只需为实时交易节点定义配置（见下文示例），通常无需直接操作这些低级组件。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="bitmex-文档">BitMEX 文档<a href="#bitmex-文档" class="hash-link" aria-label="BitMEX 文档的直接链接" title="BitMEX 文档的直接链接" translate="no">​</a></h2>
<p>BitMEX 提供了详尽的官方文档：</p>
<ul>
<li><a href="https://www.bitmex.com/app/restAPI" target="_blank" rel="noopener noreferrer">BitMEX API Explorer</a> — 交互式 API 文档。</li>
<li><a href="https://www.bitmex.com/app/apiOverview" target="_blank" rel="noopener noreferrer">BitMEX API Documentation</a> — 完整的 API 参考。</li>
<li><a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">BitMEX Exchange Rules</a> — 官方交易所规则与规范。</li>
<li><a href="https://www.bitmex.com/app/contract" target="_blank" rel="noopener noreferrer">Contract Guides</a> — 合约规格说明。</li>
<li><a href="https://www.bitmex.com/app/spotGuide" target="_blank" rel="noopener noreferrer">Spot Trading Guide</a> — 现货交易指南。</li>
<li><a href="https://www.bitmex.com/app/perpetualContractsGuide" target="_blank" rel="noopener noreferrer">Perpetual Contracts Guide</a> — 永续合约说明。</li>
<li><a href="https://www.bitmex.com/app/futuresGuide" target="_blank" rel="noopener noreferrer">Futures Contracts Guide</a> — 期货合约说明。</li>
</ul>
<p>建议在阅读本集成指南的同时参考 BitMEX 的官方文档以获得更完整的信息。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="支持的产品">支持的产品<a href="#支持的产品" class="hash-link" aria-label="支持的产品的直接链接" title="支持的产品的直接链接" translate="no">​</a></h2>
<table><thead><tr><th>产品类型</th><th>数据源</th><th>交易支持</th><th>说明</th></tr></thead><tbody><tr><td>现货（Spot）</td><td>✓</td><td>✓</td><td>支持受限交易对，与衍生品共用钱包。</td></tr><tr><td>永续合约（Perpetual）</td><td>✓</td><td>✓</td><td>支持反向与线性永续合约。</td></tr><tr><td>期货（Futures）</td><td>✓</td><td>✓</td><td>传统的有到期日的合约。</td></tr><tr><td>Quanto 期货</td><td>✓</td><td>✓</td><td>结算货币与标的不同的合约。</td></tr><tr><td>预测市场（Prediction）</td><td>✓</td><td>✓</td><td>基于事件的合约，价格区间 0-100，以 USDT 结算。</td></tr><tr><td>期权（Options）</td><td>-</td><td>-</td><td><em>BitMEX 不再提供期权产品。</em></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>BitMEX 已停止其期权产品，以聚焦其核心的衍生品与现货业务。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="现货交易">现货交易<a href="#现货交易" class="hash-link" aria-label="现货交易的直接链接" title="现货交易的直接链接" translate="no">​</a></h3>
<ul>
<li>直接的代币/币种现货交易，实时交割。</li>
<li>常见主流交易对包括 XBT/USDT、ETH/USDT、ETH/XBT。</li>
<li>也支持部分山寨币对（如 LINK、SOL、UNI、APE、AXS、BMEX 对 USDT）。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="衍生品">衍生品<a href="#衍生品" class="hash-link" aria-label="衍生品的直接链接" title="衍生品的直接链接" translate="no">​</a></h3>
<ul>
<li>永续合约：包含反向合约（例如 XBTUSD）和线性合约（例如 ETHUSDT）。</li>
<li>传统期货：具有固定到期日的合约。</li>
<li>Quanto 期货：以与标的不同货币结算的合约。</li>
<li>预测市场：基于事件的衍生品（例如 P_FTXZ26、P_SBFJAILZ26），无杠杆，价格 0–100，以 USDT 结算。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="符号约定symbology">符号约定（Symbology）<a href="#符号约定symbology" class="hash-link" aria-label="符号约定（Symbology）的直接链接" title="符号约定（Symbology）的直接链接" translate="no">​</a></h2>
<p>BitMEX 使用特定的合约/交易符号命名规则。理解这些规则有助于正确识别和交易标的。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="符号格式">符号格式<a href="#符号格式" class="hash-link" aria-label="符号格式的直接链接" title="符号格式的直接链接" translate="no">​</a></h3>
<p>常见格式如下：</p>
<ul>
<li><strong>现货对</strong>：基础货币 + 报价货币（例如 <code>XBT/USDT</code>、<code>ETH/USDT</code>）。</li>
<li><strong>永续合约</strong>：基础货币 + 报价货币（例如 <code>XBTUSD</code>、<code>ETHUSD</code>）。</li>
<li><strong>期货合约</strong>：基础货币 + 到期代码（例如 <code>XBTM24</code>、<code>ETHH25</code>）。</li>
<li><strong>Quanto 合约</strong>：用于非 USD 结算合约的特殊命名。</li>
<li><strong>预测市场</strong>：以 <code>P_</code> 前缀 + 事件标识 + 到期代码（例如 <code>P_POWELLK26</code>、<code>P_FTXZ26</code>）。</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>BitMEX 使用 <code>XBT</code> 作为比特币的代码而非 <code>BTC</code>，遵循 ISO 4217 中以 &quot;X&quot; 开头表示非国家法币的惯例。XBT 与 BTC 指代同一资产（Bitcoin）。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="到期代码">到期代码<a href="#到期代码" class="hash-link" aria-label="到期代码的直接链接" title="到期代码的直接链接" translate="no">​</a></h3>
<p>期货合约使用标准的期货月份代码：</p>
<ul>
<li><code>F</code> = 一月</li>
<li><code>G</code> = 二月</li>
<li><code>H</code> = 三月</li>
<li><code>J</code> = 四月</li>
<li><code>K</code> = 五月</li>
<li><code>M</code> = 六月</li>
<li><code>N</code> = 七月</li>
<li><code>Q</code> = 八月</li>
<li><code>U</code> = 九月</li>
<li><code>V</code> = 十月</li>
<li><code>X</code> = 十一月</li>
<li><code>Z</code> = 十二月</li>
</ul>
<p>后接年份（例如 <code>24</code> 表示 2024 年，<code>25</code> 表示 2025 年）。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="nautilustrader-中的-instrument-id">NautilusTrader 中的 Instrument ID<a href="#nautilustrader-中的-instrument-id" class="hash-link" aria-label="NautilusTrader 中的 Instrument ID的直接链接" title="NautilusTrader 中的 Instrument ID的直接链接" translate="no">​</a></h3>
<p>在 NautilusTrader 中，BitMEX 的标的使用原生 BitMEX 符号直接标识，并与场馆（venue）标识符组合：</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">identifiers </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> InstrumentId</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 现货（注意：符号中不带斜杠）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">spot_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># XBT/USDT 现货</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">eth_spot_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ETHUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># ETH/USDT 现货</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 永续合约</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perp_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTUSD.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 比特币永续（反向）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">linear_perp_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;ETHUSDT.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 以太坊永续（线性）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 期货合约（例如 2024 年 6 月到期）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">futures_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;XBTM24.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 比特币 2024-06 到期的期货</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 预测市场合约</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prediction_id </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InstrumentId</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">from_str</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;P_XBTETFV23.BITMEX&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 关于比特币 ETF SEC 批准的预测合约（2023-10 到期）</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>在 NautilusTrader 中，BitMEX 的现货符号不包含 UI 中常见的斜杠（/）。请使用 <code>XBTUSDT</code> 而非 <code>XBT/USDT</code>。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="数量缩放quantity-scaling">数量缩放（Quantity scaling）<a href="#数量缩放quantity-scaling" class="hash-link" aria-label="数量缩放（Quantity scaling）的直接链接" title="数量缩放（Quantity scaling）的直接链接" translate="no">​</a></h3>
<p>BitMEX 在现货与衍生品中以「合约（contract）」为单位上报数量。每份合约对应的实际基础资产大小由交易所发布在合约定义中：</p>
<ul>
<li><code>lotSize</code> — 可交易的最小合约数量。</li>
<li><code>underlyingToPositionMultiplier</code> — 每一单位标的对应的合约数。</li>
</ul>
<p>例如，SOL/USDT 现货（<code>SOLUSDT</code>）可能返回 <code>lotSize = 1000</code> 和 <code>underlyingToPositionMultiplier = 10000</code>，表示一份合约代表 <code>1 / 10000 = 0.0001</code> SOL，而最小下单量（<code>lotSize * contract_size</code>）为 <code>0.1</code> SOL。适配器会根据这些字段推导合约大小，并对入站行情与出站订单做相应缩放，使 Nautilus 中的数量总以基础单位（SOL、ETH 等）表示。</p>
<p>详情请参见 BitMEX 的合约属性文档： <a href="https://www.bitmex.com/app/apiOverview#Instrument-Properties" target="_blank" rel="noopener noreferrer">Instrument Properties (BitMEX API)</a>。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="订单能力orders-capability">订单能力（Orders capability）<a href="#订单能力orders-capability" class="hash-link" aria-label="订单能力（Orders capability）的直接链接" title="订单能力（Orders capability）的直接链接" translate="no">​</a></h2>
<p>BitMEX 集成支持下列订单类型与执行特性。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="订单类型">订单类型<a href="#订单类型" class="hash-link" aria-label="订单类型的直接链接" title="订单类型的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>订单类型</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td><code>MARKET</code></td><td>✓</td><td>以市价立即成交。不支持按报价数量（quote quantity）。</td></tr><tr><td><code>LIMIT</code></td><td>✓</td><td>仅在指定价格或更优价格成交。</td></tr><tr><td><code>STOP_MARKET</code></td><td>✓</td><td>支持（设置 <code>trigger_price</code>）。</td></tr><tr><td><code>STOP_LIMIT</code></td><td>✓</td><td>支持（设置 <code>price</code> 与 <code>trigger_price</code>）。</td></tr><tr><td><code>MARKET_IF_TOUCHED</code></td><td>✓</td><td>支持（设置 <code>trigger_price</code>）。</td></tr><tr><td><code>LIMIT_IF_TOUCHED</code></td><td>✓</td><td>支持（设置 <code>price</code> 与 <code>trigger_price</code>）。</td></tr><tr><td><code>TRAILING_STOP_MARKET</code></td><td>-</td><td><em>未实现</em>（BitMEX 原生支持）。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="执行指令execution-instructions">执行指令（Execution instructions）<a href="#执行指令execution-instructions" class="hash-link" aria-label="执行指令（Execution instructions）的直接链接" title="执行指令（Execution instructions）的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>指令</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td><code>post_only</code></td><td>✓</td><td>通过 <code>ParticipateDoNotInitiate</code> 执行指令在 <code>LIMIT</code> 订单上实现。</td></tr><tr><td><code>reduce_only</code></td><td>✓</td><td>通过 <code>ReduceOnly</code> 执行指令实现。</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>会导致跨价（cross the spread）的 post-only 订单会被 BitMEX 取消而非拒绝。该集成会将此类取消作为带 <code>due_post_only=True</code> 的拒单上报，便于策略统一处理。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="触发类型trigger-types">触发类型（Trigger types）<a href="#触发类型trigger-types" class="hash-link" aria-label="触发类型（Trigger types）的直接链接" title="触发类型（Trigger types）的直接链接" translate="no">​</a></h3>
<p>BitMEX 支持多种参考价格作为止损/条件单的触发依据：</p>
<ul>
<li><code>STOP_MARKET</code></li>
<li><code>STOP_LIMIT</code></li>
<li><code>MARKET_IF_TOUCHED</code></li>
<li><code>LIMIT_IF_TOUCHED</code></li>
</ul>
<p>根据策略或风险偏好选择合适的触发类型。</p>
<table><thead><tr><th>参考价</th><th>Nautilus <code>TriggerType</code></th><th>BitMEX 值</th><th>说明</th></tr></thead><tbody><tr><td>最近成交价</td><td><code>LAST_PRICE</code></td><td><code>LastPrice</code></td><td>BitMEX 默认；基于最后成交价触发。</td></tr><tr><td>标记价</td><td><code>MARK_PRICE</code></td><td><code>MarkPrice</code></td><td>建议用于止损以减少被价格尖峰触发的风险（推荐）。</td></tr><tr><td>指数价</td><td><code>INDEX_PRICE</code></td><td><code>IndexPrice</code></td><td>跟踪外部指数；对某些合约有用。</td></tr></tbody></table>
<ul>
<li>若未提供 <code>trigger_type</code>，BitMEX 将使用场馆默认（<code>LastPrice</code>）。</li>
<li>这些触发参考由交易所在场内评估；订单在被触发前会一直驻留在交易所。</li>
</ul>
<p>示例：</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">enums </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> TriggerType</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">order </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">order_factory</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">stop_market</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    instrument_id</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">instrument_id</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    order_side</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">order_side</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    quantity</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">qty</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trigger_price</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">trigger</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    trigger_type</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">TriggerType</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">MARK_PRICE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 使用 BitMEX 的 Mark Price 作为触发参考</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p><code>ExecTester</code> 的示例配置也展示了如何在 <code>examples/live/bitmex/bitmex_exec_tester.py</code> 中将 <code>stop_trigger_type=TriggerType.MARK_PRICE</code>。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="有效期time-in-force">有效期（Time in force）<a href="#有效期time-in-force" class="hash-link" aria-label="有效期（Time in force）的直接链接" title="有效期（Time in force）的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>有效期</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td><code>GTC</code></td><td>✓</td><td>Good Till Canceled（默认）。</td></tr><tr><td><code>GTD</code></td><td>-</td><td><em>BitMEX 不支持。</em></td></tr><tr><td><code>FOK</code></td><td>✓</td><td>Fill or Kill — 要么全部成交要么取消。</td></tr><tr><td><code>IOC</code></td><td>✓</td><td>Immediate or Cancel — 允许部分成交并取消剩余。</td></tr><tr><td><code>DAY</code></td><td>✓</td><td>在 UTC 00:00 过期（BitMEX 的交易日界限）。</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p><code>DAY</code> 订单在 UTC 时间的 00:00 到期，这对应 BitMEX 的交易日边界（当日交易结束）。更多细节请参阅 <a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">BitMEX Exchange Rules</a> 与 <a href="https://www.bitmex.com/api/explorer/" target="_blank" rel="noopener noreferrer">API 文档</a>。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="高级订单功能">高级订单功能<a href="#高级订单功能" class="hash-link" aria-label="高级订单功能的直接链接" title="高级订单功能的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>功能</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td>订单修改（Modify）</td><td>✓</td><td>可修改价格、数量和触发价。</td></tr><tr><td>Bracket Orders</td><td>-</td><td>使用 <code>contingency_type</code> 与 <code>linked_order_ids</code>。</td></tr><tr><td>冰山订单（Iceberg）</td><td>✓</td><td>使用 <code>display_qty</code> 支持。</td></tr><tr><td>跟踪止损（Trailing）</td><td>-</td><td><em>未实现</em>（BitMEX 原生支持）。</td></tr><tr><td>钉住订单（Pegged）</td><td>-</td><td><em>未实现</em>（BitMEX 原生支持）。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="批量操作">批量操作<a href="#批量操作" class="hash-link" aria-label="批量操作的直接链接" title="批量操作的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>操作</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td>批量提交</td><td>-</td><td><em>BitMEX 不支持。</em></td></tr><tr><td>批量修改</td><td>-</td><td><em>BitMEX 不支持。</em></td></tr><tr><td>批量取消</td><td>✓</td><td>支持一次请求取消多个订单。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="持仓管理">持仓管理<a href="#持仓管理" class="hash-link" aria-label="持仓管理的直接链接" title="持仓管理的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>功能</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td>查询持仓</td><td>✓</td><td>支持通过 REST 查询与 WebSocket 实时持仓更新。</td></tr><tr><td>Cross margin</td><td>✓</td><td>默认为交叉保证金模式。</td></tr><tr><td>Isolated margin</td><td>✓</td><td>支持逐仓模式。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="订单查询">订单查询<a href="#订单查询" class="hash-link" aria-label="订单查询的直接链接" title="订单查询的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>功能</th><th>支持</th><th>说明</th></tr></thead><tbody><tr><td>查询未成交订单</td><td>✓</td><td>列出所有活动订单。</td></tr><tr><td>查询订单历史</td><td>✓</td><td>历史订单数据。</td></tr><tr><td>订单状态更新</td><td>✓</td><td>通过 WebSocket 获取实时订单状态变更。</td></tr><tr><td>交易历史</td><td>✓</td><td>执行和成交报告。</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="行情数据market-data">行情数据（Market data）<a href="#行情数据market-data" class="hash-link" aria-label="行情数据（Market data）的直接链接" title="行情数据（Market data）的直接链接" translate="no">​</a></h2>
<ul>
<li>订单薄增量：仅 <code>L2_MBP</code>；支持 <code>depth</code> 为 0（全量）或 25。</li>
<li>订单薄快照：仅 <code>L2_MBP</code>；支持 <code>depth</code> 为 0（默认 10）或 10。</li>
<li>通过 WebSocket 支持盘口报价、成交以及合约更新。</li>
<li>支持 funding rate、mark price 与 index price（视合约而定）。</li>
<li>通过 REST 支持历史数据请求：<!-- -->
<ul>
<li>成交 ticks，支持可选的 <code>start</code>、<code>end</code> 与 <code>limit</code>（单次调用上限 1,000 条）。</li>
<li>时间 K 线（<code>1m</code>, <code>5m</code>, <code>1h</code>, <code>1d</code>），基于外部聚合的 LAST 价并支持可选的部分区间。</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p>BitMEX 将每次 REST 响应限制为最多 1,000 行，并需使用 <code>start</code>/<code>startTime</code> 手动翻页。目前适配器仅返回第一页，后续版本计划增加更完整的翻页支持。</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="连接管理">连接管理<a href="#连接管理" class="hash-link" aria-label="连接管理的直接链接" title="连接管理的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="http-keep-alive">HTTP Keep-Alive<a href="#http-keep-alive" class="hash-link" aria-label="HTTP Keep-Alive的直接链接" title="HTTP Keep-Alive的直接链接" translate="no">​</a></h3>
<p>BitMEX 适配器使用 HTTP keep-alive 以获得最佳性能：</p>
<ul>
<li>连接池：连接会被自动复用与池化。</li>
<li>keep-alive 超时：90 秒（与 BitMEX 服务器端超时一致）。</li>
<li>自动重连：连接失败时会自动重建。</li>
<li>SSL 会话缓存：减少后续请求的握手开销。</li>
</ul>
<p>该配置通过维持持久连接，避免为每次请求建立新连接，从而降低延迟。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="请求鉴权与过期">请求鉴权与过期<a href="#请求鉴权与过期" class="hash-link" aria-label="请求鉴权与过期的直接链接" title="请求鉴权与过期的直接链接" translate="no">​</a></h3>
<p>BitMEX 使用 <code>api-expires</code> 头部进行请求鉴权以防重放攻击：</p>
<ul>
<li>签名请求需包含一个比当前时间提前 <code>recv_window_ms / 1000</code> 秒的 <code>api-expires</code> Unix 时间戳（默认 10 秒）。</li>
<li>一旦该时间戳过期，BitMEX 会拒绝请求，因此请确保延迟在配置窗口内。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="速率限制rate-limiting">速率限制（Rate limiting）<a href="#速率限制rate-limiting" class="hash-link" aria-label="速率限制（Rate limiting）的直接链接" title="速率限制（Rate limiting）的直接链接" translate="no">​</a></h2>
<p>BitMEX 实施双层速率限制机制：</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="rest-限制">REST 限制<a href="#rest-限制" class="hash-link" aria-label="REST 限制的直接链接" title="REST 限制的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>突发限制（Burst）</strong>：认证用户每秒 10 次请求（适用于下单、修改、取消等端点）。</li>
<li><strong>滚动分钟限制</strong>：认证用户每分钟 120 次请求（未认证用户为每分钟 30 次）。</li>
<li><strong>订单上限</strong>：每个标的最多 200 个未平仓订单和 10 个止损订单；超出交易所限制会被拒单。</li>
</ul>
<p>适配器会自动执行这些配额并将 BitMEX 返回的速率限制头部信息暴露出来。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="websocket-限制">WebSocket 限制<a href="#websocket-限制" class="hash-link" aria-label="WebSocket 限制的直接链接" title="WebSocket 限制的直接链接" translate="no">​</a></h3>
<ul>
<li>连接请求请遵循交易所指引（当前为每个 IP 每秒 3 次连接）。</li>
<li>私有流需要认证；如果超限，适配器会自动重连。</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_lEzE alert alert--warning"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_Vfkp"><p>超过 BitMEX 的速率限制将返回 HTTP 429，并可能导致临时 IP 封禁；持续的 4xx/5xx 错误会延长封禁时长。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="可配置的速率限制">可配置的速率限制<a href="#可配置的速率限制" class="hash-link" aria-label="可配置的速率限制的直接链接" title="可配置的速率限制的直接链接" translate="no">​</a></h3>
<p>若你的账户有不同的配额，可以通过配置调整速率限制：</p>
<table><thead><tr><th>参数</th><th>默认（已认证）</th><th>默认（未认证）</th><th>说明</th></tr></thead><tbody><tr><td><code>max_requests_per_second</code></td><td>10</td><td>10</td><td>每秒最大请求数（突发限制）。</td></tr><tr><td><code>max_requests_per_minute</code></td><td>120</td><td>30</td><td>每分钟最大请求数（滚动窗口）。</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>更多关于速率限制的详情请参见 BitMEX 的速率限制文档： <a href="https://www.bitmex.com/app/restAPI#Limits" target="_blank" rel="noopener noreferrer">BitMEX API - Limits</a>.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_lEzE alert alert--warning"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_Vfkp"><p><strong>Cancel Broadcaster 的速率限制注意事项</strong></p><p>当 <code>canceller_pool_size &gt; 1</code> 时，cancel broadcaster 会并行将每次取消请求分发到多个独立的 HTTP 客户端实例。每个客户端都有自己的速率限制器，这意味着总体请求速率会随池大小成比例放大。</p><p>例如：在 <code>canceller_pool_size=3</code>（默认）且 <code>max_requests_per_second=10</code> 的配置下，一次取消操作会消耗 <strong>3 次请求</strong>（每个客户端各一次），在快速取消时可能达到 <strong>30 次/秒</strong>。</p><p>由于 BitMEX 在账户级别（而非连接级别）实施速率限制，广播器可能导致超过默认的 10 req/s 突发限制和 120 req/min 的滚动限制。</p><p><strong>缓解办法</strong>：根据 <code>canceller_pool_size</code> 成比例降低 <code>max_requests_per_second</code> 和 <code>max_requests_per_minute</code>（即除以池大小），或调整池大小本身（参见 Cancel Broadcaster（取消请求广播器）配置小节）。未来版本可能支持跨池的共享速率限制器。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="速率限制头部">速率限制头部<a href="#速率限制头部" class="hash-link" aria-label="速率限制头部的直接链接" title="速率限制头部的直接链接" translate="no">​</a></h3>
<p>BitMEX 会通过响应头暴露当前配额信息：</p>
<ul>
<li><code>x-ratelimit-limit</code>：当前窗口内允许的总请求数。</li>
<li><code>x-ratelimit-remaining</code>：剩余可用请求数。</li>
<li><code>x-ratelimit-reset</code>：配额重置的 UNIX 时间戳。</li>
<li><code>retry-after</code>：在收到 429 响应后应等待的秒数。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="cancel-broadcaster取消请求广播器">Cancel Broadcaster（取消请求广播器）<a href="#cancel-broadcaster取消请求广播器" class="hash-link" aria-label="Cancel Broadcaster（取消请求广播器）的直接链接" title="Cancel Broadcaster（取消请求广播器）的直接链接" translate="no">​</a></h2>
<p>BitMEX 执行客户端包含一个 cancel broadcaster，用于通过并行请求扇出实现容错的订单取消。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="概念">概念<a href="#概念" class="hash-link" aria-label="概念的直接链接" title="概念的直接链接" translate="no">​</a></h3>
<p>订单取消是时间敏感的操作——当策略决定取消订单时，任何延迟或失败都可能导致非预期成交、滑点或未受控的仓位暴露。cancel broadcaster 通过以下方式解决这一问题：</p>
<ul>
<li><strong>并行扇出</strong>：把取消请求同时广播到多个独立的 HTTP 客户端实例。</li>
<li><strong>先成功短路</strong>：第一个成功响应即为最终结果，其他正在进行的请求会被立刻中止。</li>
<li><strong>容错性</strong>：当某个 HTTP 客户端出现网络、DNS 或超时问题，池中其他客户端仍可继续处理请求。</li>
<li><strong>幂等成功处理</strong>：对于已被取消或不存在的订单（例如返回 &quot;orderID not found&quot;）会被视为成功而非错误，避免不必要的错误传播。</li>
</ul>
<p>该架构可确保单一路径故障或慢连接不会阻塞关键的取消操作，从而提升实盘交易中风险管理与仓位控制的可靠性。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="健康监测">健康监测<a href="#健康监测" class="hash-link" aria-label="健康监测的直接链接" title="健康监测的直接链接" translate="no">​</a></h3>
<p>池中每个 HTTP 客户端维护健康指标：</p>
<ul>
<li>成功取消会将客户端标记为健康。</li>
<li>失败请求会增加错误计数。</li>
<li>后台健康检查会定期验证客户端连通性。</li>
<li>状态降级的客户端仍保留在池中以维持容错。</li>
</ul>
<p>广播器会暴露包括总取消次数、成功取消数、失败取消数、预期拒单数（已被取消的订单）和幂等成功数等指标，便于运维监控与故障排查。</p>
<h4 class="anchor anchorWithStickyNavbar_RpWm" id="跟踪指标">跟踪指标<a href="#跟踪指标" class="hash-link" aria-label="跟踪指标的直接链接" title="跟踪指标的直接链接" translate="no">​</a></h4>
<table><thead><tr><th>指标</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>total_cancels</code></td><td><code>u64</code></td><td>发起的取消操作总数（包含单次、批量与取消所有请求）。</td></tr><tr><td><code>successful_cancels</code></td><td><code>u64</code></td><td>成功收到 BitMEX 确认的取消操作数量。</td></tr><tr><td><code>failed_cancels</code></td><td><code>u64</code></td><td>池中所有 HTTP 客户端均失败的取消次数（无健康客户端或全部请求失败）。</td></tr><tr><td><code>expected_rejects</code></td><td><code>u64</code></td><td>检测到的预期拒单模式数量（例如 post-only 拒单）。</td></tr><tr><td><code>idempotent_successes</code></td><td><code>u64</code></td><td>幂等成功响应次数（例如订单已取消、找不到订单、因状态无法取消等）。</td></tr><tr><td><code>healthy_clients</code></td><td><code>usize</code></td><td>当前池中健康 HTTP 客户端数（通过近期健康检查的客户端）。</td></tr><tr><td><code>total_clients</code></td><td><code>usize</code></td><td>池中配置的 HTTP 客户端总数（<code>canceller_pool_size</code>）。</td></tr></tbody></table>
<p>这些指标可以通过 <code>CancelBroadcaster</code> 实例的 <code>get_metrics()</code> 和 <code>get_metrics_async()</code> 方法以编程方式获取。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="配置">配置<a href="#配置" class="hash-link" aria-label="配置的直接链接" title="配置的直接链接" translate="no">​</a></h3>
<p>cancel broadcaster 通过执行客户端的配置项进行设置：</p>
<table><thead><tr><th>选项</th><th>默认</th><th>说明</th></tr></thead><tbody><tr><td><code>canceller_pool_size</code></td><td><code>3</code></td><td>广播器中 HTTP 客户端池的大小。更高的值提升容错性但也消耗更多资源。</td></tr></tbody></table>
<p>示例配置：</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexExecClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exec_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexExecClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    canceller_pool_size</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 默认池大小</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-tip admonition_lEzE alert alert--success"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_Vfkp"><p>对于没有更高速率限制的 HFT 策略，可考虑将 <code>canceller_pool_size=1</code> 以降低速率限制消耗。
默认的池大小 3 会把每次取消请求广播到 3 个并行 HTTP 客户端，从而每次取消操作消耗 3 倍的配额。
单客户端模式仍然受益于广播器的幂等成功处理，但仅使用标准速率限制。</p></div></div>
<p>当执行客户端连接时，广播器会自动启动；断开连接时自动停止。所有取消操作（<code>cancel_order</code>、<code>cancel_all_orders</code>、<code>batch_cancel_orders</code>）都会自动通过广播器路由，无需修改策略代码。</p>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="配置-1">配置<a href="#配置-1" class="hash-link" aria-label="配置的直接链接" title="配置的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="api-凭证">API 凭证<a href="#api-凭证" class="hash-link" aria-label="API 凭证的直接链接" title="API 凭证的直接链接" translate="no">​</a></h3>
<p>BitMEX 的 API 凭证可以直接在配置中提供，也可以通过环境变量传入：</p>
<ul>
<li><code>BITMEX_API_KEY</code>：生产环境的 API Key。</li>
<li><code>BITMEX_API_SECRET</code>：生产环境的 API Secret。</li>
<li><code>BITMEX_TESTNET_API_KEY</code>：测试网的 API Key（当 <code>testnet=True</code> 时）。</li>
<li><code>BITMEX_TESTNET_API_SECRET</code>：测试网的 API Secret（当 <code>testnet=True</code> 时）。</li>
</ul>
<p>生成 API Key 的步骤：</p>
<ol>
<li>登录 BitMEX 账号。</li>
<li>前往 Account &amp; Security → API Keys。</li>
<li>创建一个具有合适权限的新 API Key。</li>
<li>测试网请使用 <a href="https://testnet.bitmex.com" target="_blank" rel="noopener noreferrer">testnet.bitmex.com</a>。</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_lEzE alert alert--secondary"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_Vfkp"><p><strong>Testnet API 端点</strong>：</p><ul>
<li>REST API：<code>https://testnet.bitmex.com/api/v1</code></li>
<li>WebSocket：<code>wss://ws.testnet.bitmex.com/realtime</code></li>
</ul><p>当配置 <code>testnet=True</code> 时，适配器会自动将请求路由到相应的测试网端点。</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="数据客户端配置选项">数据客户端配置选项<a href="#数据客户端配置选项" class="hash-link" aria-label="数据客户端配置选项的直接链接" title="数据客户端配置选项的直接链接" translate="no">​</a></h3>
<p>BitMEX 数据客户端提供以下配置项：</p>
<table><thead><tr><th>选项</th><th>默认</th><th>说明</th></tr></thead><tbody><tr><td><code>api_key</code></td><td><code>None</code></td><td>可选的 API Key；若为 <code>None</code>，从 <code>BITMEX_API_KEY</code> 加载。</td></tr><tr><td><code>api_secret</code></td><td><code>None</code></td><td>可选的 API Secret；若为 <code>None</code>，从 <code>BITMEX_API_SECRET</code> 加载。</td></tr><tr><td><code>base_url_http</code></td><td><code>None</code></td><td>覆盖 REST 基础 URL（默认为生产环境）。</td></tr><tr><td><code>base_url_ws</code></td><td><code>None</code></td><td>覆盖 WebSocket 基础 URL（默认为生产环境）。</td></tr><tr><td><code>testnet</code></td><td><code>False</code></td><td>为 <code>True</code> 时将请求路由到 BitMEX 测试网。</td></tr><tr><td><code>http_timeout_secs</code></td><td><code>60</code></td><td>HTTP 请求的超时时间（秒）。</td></tr><tr><td><code>max_retries</code></td><td><code>None</code></td><td>HTTP 重试最大次数（为 <code>None</code> 时禁用重试）。</td></tr><tr><td><code>retry_delay_initial_ms</code></td><td><code>1,000</code></td><td>重试间的初始退避延迟（毫秒）。</td></tr><tr><td><code>retry_delay_max_ms</code></td><td><code>5,000</code></td><td>重试间的最大退避延迟（毫秒）。</td></tr><tr><td><code>recv_window_ms</code></td><td><code>10,000</code></td><td>签名请求的过期窗口（毫秒）。详见 <a href="#%E8%AF%B7%E6%B1%82%E9%89%B4%E6%9D%83%E4%B8%8E%E8%BF%87%E6%9C%9F">请求鉴权</a>。</td></tr><tr><td><code>update_instruments_interval_mins</code></td><td><code>60</code></td><td>合约目录刷新间隔（分钟）。</td></tr><tr><td><code>max_requests_per_second</code></td><td><code>10</code></td><td>适配器对 REST 调用施加的突发速率限制。</td></tr><tr><td><code>max_requests_per_minute</code></td><td><code>120</code></td><td>适配器对 REST 调用施加的滚动分钟速率限制。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="执行客户端配置选项">执行客户端配置选项<a href="#执行客户端配置选项" class="hash-link" aria-label="执行客户端配置选项的直接链接" title="执行客户端配置选项的直接链接" translate="no">​</a></h3>
<table><thead><tr><th>选项</th><th>默认</th><th>说明</th></tr></thead><tbody><tr><td><code>api_key</code></td><td><code>None</code></td><td>可选的 API Key；若为 <code>None</code>，从 <code>BITMEX_API_KEY</code> 加载。</td></tr><tr><td><code>api_secret</code></td><td><code>None</code></td><td>可选的 API Secret；若为 <code>None</code>，从 <code>BITMEX_API_SECRET</code> 加载。</td></tr><tr><td><code>base_url_http</code></td><td><code>None</code></td><td>覆盖 REST 基础 URL（默认为生产环境）。</td></tr><tr><td><code>base_url_ws</code></td><td><code>None</code></td><td>覆盖 WebSocket 基础 URL（默认为生产环境）。</td></tr><tr><td><code>testnet</code></td><td><code>False</code></td><td>为 <code>True</code> 时将订单路由到 BitMEX 测试网。</td></tr><tr><td><code>http_timeout_secs</code></td><td><code>60</code></td><td>HTTP 请求的超时时间（秒）。</td></tr><tr><td><code>max_retries</code></td><td><code>None</code></td><td>HTTP 重试最大次数（为 <code>None</code> 时禁用重试）。</td></tr><tr><td><code>retry_delay_initial_ms</code></td><td><code>1,000</code></td><td>重试间的初始退避延迟（毫秒）。</td></tr><tr><td><code>retry_delay_max_ms</code></td><td><code>5,000</code></td><td>重试间的最大退避延迟（毫秒）。</td></tr><tr><td><code>recv_window_ms</code></td><td><code>10,000</code></td><td>签名请求的过期窗口（毫秒）。详见 <a href="#%E8%AF%B7%E6%B1%82%E9%89%B4%E6%9D%83%E4%B8%8E%E8%BF%87%E6%9C%9F">请求鉴权</a>。</td></tr><tr><td><code>max_requests_per_second</code></td><td><code>10</code></td><td>适配器对 REST 调用施加的突发速率限制。</td></tr><tr><td><code>max_requests_per_minute</code></td><td><code>120</code></td><td>适配器对 REST 调用施加的滚动分钟速率限制。</td></tr><tr><td><code>canceller_pool_size</code></td><td><code>3</code></td><td>取消广播器中冗余 HTTP 客户端的数量。详见 Cancel Broadcaster（取消请求广播器）部分。</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="配置示例">配置示例<a href="#配置示例" class="hash-link" aria-label="配置示例的直接链接" title="配置示例的直接链接" translate="no">​</a></h3>
<p>以下为一个典型的 BitMEX 实盘配置示例，包含 testnet 与 mainnet：</p>
<div class="language-python codeBlockContainer_euGm theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_zF3K"><pre tabindex="0" class="prism-code language-python codeBlock_G1mO thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_QZRj"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexDataClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> nautilus_trader</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">adapters</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bitmex</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">config </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> BitmexExecClientConfig</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使用环境变量（推荐）</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">testnet_data_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexDataClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># API 凭证从 BITMEX_API_KEY 与 BITMEX_API_SECRET 加载</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># 使用显式凭证</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mainnet_data_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexDataClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 或使用 os.getenv(&quot;BITMEX_API_KEY&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># 或使用 os.getenv(&quot;BITMEX_API_SECRET&quot;)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mainnet_exec_config </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BitmexExecClientConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_key</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_KEY&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    api_secret</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;YOUR_API_SECRET&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    testnet</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_RpWm" id="交易注意事项">交易注意事项<a href="#交易注意事项" class="hash-link" aria-label="交易注意事项的直接链接" title="交易注意事项的直接链接" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="联动订单contingent-orders">联动订单（Contingent orders）<a href="#联动订单contingent-orders" class="hash-link" aria-label="联动订单（Contingent orders）的直接链接" title="联动订单（Contingent orders）的直接链接" translate="no">​</a></h3>
<p>BitMEX 执行适配器现在将 Nautilus 的联动订单列表映射到交易所原生的 <code>clOrdLinkID</code>/<code>contingencyType</code> 机制。当引擎提交 <code>ContingencyType::Oco</code> 或 <code>ContingencyType::Oto</code> 订单时，适配器会执行：</p>
<ul>
<li>在 BitMEX 上创建/维护联动订单组，使得子止损与目标单继承父单状态。</li>
<li>传播订单列表的更新与取消，以确保联动订单在当前仓位状态下保持一致。</li>
<li>以合适的联动元数据（contingency metadata）回传执行报告，便于策略层追踪而无需额外手动接线。</li>
</ul>
<p>这意味着常见的 bracket 流（入场 + 止损 + 止盈）与多腿止损结构可以直接交由 BitMEX 管理，而无需客户端模拟。在定义策略时继续使用 Nautilus 的 <code>OrderList</code>/<code>ContingencyType</code> 抽象——适配器会自动完成必要的 BitMEX 端联动。</p>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="合约规格">合约规格<a href="#合约规格" class="hash-link" aria-label="合约规格的直接链接" title="合约规格的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>反向合约（Inverse）</strong>：以加密货币结算（例如 XBTUSD 以 XBT 结算）。</li>
<li><strong>线性合约（Linear）</strong>：以稳定币结算（例如 ETHUSDT 以 USDT 结算）。</li>
<li><strong>合约大小</strong>：因合约而异，请仔细查阅合约规格。</li>
<li><strong>最小变动价位（Tick size）</strong>：不同合约的最小价格步长不同。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="保证金要求">保证金要求<a href="#保证金要求" class="hash-link" aria-label="保证金要求的直接链接" title="保证金要求的直接链接" translate="no">​</a></h3>
<ul>
<li>初始保证金要求随合约与市场状况变化而不同。</li>
<li>维持保证金通常低于初始保证金。</li>
<li>当维持保证金不足时会触发强平（liquidation）。</li>
<li>BitMEX 支持逐仓（isolated）与全仓（cross）两种保证金模式。</li>
<li>风险限额可根据持仓规模进行调整，详见 <a href="https://www.bitmex.com/exchange-rules" target="_blank" rel="noopener noreferrer">Exchange Rules</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_RpWm" id="手续费">手续费<a href="#手续费" class="hash-link" aria-label="手续费的直接链接" title="手续费的直接链接" translate="no">​</a></h3>
<ul>
<li><strong>Maker 费用</strong>：通常为负（即返佣），用于提供流动性。</li>
<li><strong>Taker 费用</strong>：作为吃单方需支付的费用。</li>
<li><strong>资金费率</strong>：适用于永续合约，每 8 小时结算一次。</li>
<li><strong>预测市场费用</strong>：Maker 0.00%，Taker 0.25%（不允许杠杆）。</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_lEzE alert alert--info"><div class="admonitionHeading_aAf0"><span class="admonitionIcon_xtBN"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_Vfkp"><p>如需更多功能或希望为 BitMEX 适配器贡献代码，请参阅我们的 <a href="https://github.com/nautechsystems/nautilus_trader/blob/develop/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">贡献指南</a>。</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/Aloento/NautilusTraderDoc/tree/main/docs/integrations/bitmex.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_F7ru" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_GNoA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/integrations/binance"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Binance</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/integrations/blockchain"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Blockchain</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_pg_n thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#概述" class="table-of-contents__link toc-highlight">概述</a></li><li><a href="#示例" class="table-of-contents__link toc-highlight">示例</a></li><li><a href="#组件" class="table-of-contents__link toc-highlight">组件</a></li><li><a href="#bitmex-文档" class="table-of-contents__link toc-highlight">BitMEX 文档</a></li><li><a href="#支持的产品" class="table-of-contents__link toc-highlight">支持的产品</a><ul><li><a href="#现货交易" class="table-of-contents__link toc-highlight">现货交易</a></li><li><a href="#衍生品" class="table-of-contents__link toc-highlight">衍生品</a></li></ul></li><li><a href="#符号约定symbology" class="table-of-contents__link toc-highlight">符号约定（Symbology）</a><ul><li><a href="#符号格式" class="table-of-contents__link toc-highlight">符号格式</a></li><li><a href="#到期代码" class="table-of-contents__link toc-highlight">到期代码</a></li><li><a href="#nautilustrader-中的-instrument-id" class="table-of-contents__link toc-highlight">NautilusTrader 中的 Instrument ID</a></li><li><a href="#数量缩放quantity-scaling" class="table-of-contents__link toc-highlight">数量缩放（Quantity scaling）</a></li></ul></li><li><a href="#订单能力orders-capability" class="table-of-contents__link toc-highlight">订单能力（Orders capability）</a><ul><li><a href="#订单类型" class="table-of-contents__link toc-highlight">订单类型</a></li><li><a href="#执行指令execution-instructions" class="table-of-contents__link toc-highlight">执行指令（Execution instructions）</a></li><li><a href="#触发类型trigger-types" class="table-of-contents__link toc-highlight">触发类型（Trigger types）</a></li><li><a href="#有效期time-in-force" class="table-of-contents__link toc-highlight">有效期（Time in force）</a></li><li><a href="#高级订单功能" class="table-of-contents__link toc-highlight">高级订单功能</a></li><li><a href="#批量操作" class="table-of-contents__link toc-highlight">批量操作</a></li><li><a href="#持仓管理" class="table-of-contents__link toc-highlight">持仓管理</a></li><li><a href="#订单查询" class="table-of-contents__link toc-highlight">订单查询</a></li></ul></li><li><a href="#行情数据market-data" class="table-of-contents__link toc-highlight">行情数据（Market data）</a></li><li><a href="#连接管理" class="table-of-contents__link toc-highlight">连接管理</a><ul><li><a href="#http-keep-alive" class="table-of-contents__link toc-highlight">HTTP Keep-Alive</a></li><li><a href="#请求鉴权与过期" class="table-of-contents__link toc-highlight">请求鉴权与过期</a></li></ul></li><li><a href="#速率限制rate-limiting" class="table-of-contents__link toc-highlight">速率限制（Rate limiting）</a><ul><li><a href="#rest-限制" class="table-of-contents__link toc-highlight">REST 限制</a></li><li><a href="#websocket-限制" class="table-of-contents__link toc-highlight">WebSocket 限制</a></li><li><a href="#可配置的速率限制" class="table-of-contents__link toc-highlight">可配置的速率限制</a></li><li><a href="#速率限制头部" class="table-of-contents__link toc-highlight">速率限制头部</a></li></ul></li><li><a href="#cancel-broadcaster取消请求广播器" class="table-of-contents__link toc-highlight">Cancel Broadcaster（取消请求广播器）</a><ul><li><a href="#概念" class="table-of-contents__link toc-highlight">概念</a></li><li><a href="#健康监测" class="table-of-contents__link toc-highlight">健康监测</a></li><li><a href="#配置" class="table-of-contents__link toc-highlight">配置</a></li></ul></li><li><a href="#配置-1" class="table-of-contents__link toc-highlight">配置</a><ul><li><a href="#api-凭证" class="table-of-contents__link toc-highlight">API 凭证</a></li><li><a href="#数据客户端配置选项" class="table-of-contents__link toc-highlight">数据客户端配置选项</a></li><li><a href="#执行客户端配置选项" class="table-of-contents__link toc-highlight">执行客户端配置选项</a></li><li><a href="#配置示例" class="table-of-contents__link toc-highlight">配置示例</a></li></ul></li><li><a href="#交易注意事项" class="table-of-contents__link toc-highlight">交易注意事项</a><ul><li><a href="#联动订单contingent-orders" class="table-of-contents__link toc-highlight">联动订单（Contingent orders）</a></li><li><a href="#合约规格" class="table-of-contents__link toc-highlight">合约规格</a></li><li><a href="#保证金要求" class="table-of-contents__link toc-highlight">保证金要求</a></li><li><a href="#手续费" class="table-of-contents__link toc-highlight">手续费</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nautechsystems/nautilus_trader" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_KfBJ"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://nautilustrader.io/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Official Documentation<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_KfBJ"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Nautech Systems Pty Ltd. All rights reserved.</div></div></div></footer></div>
</body>
</html>